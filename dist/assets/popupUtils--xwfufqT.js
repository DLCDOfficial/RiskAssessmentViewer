import{cL as I,cM as x}from"./index-DzoQLc5A.js";async function F(e,s=e.popupTemplate){var a,o;if(s==null)return[];const u=await s.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:r}=s,{objectIdField:d,typeIdField:n,globalIdField:i,relationships:p}=e;if(u.includes("*"))return["*"];const f=r?I(e):[],l=x(e.fieldsIndex,[...u,...f]);return n&&l.push(n),l&&d&&((a=e.fieldsIndex)!=null&&a.has(d))&&!l.includes(d)&&l.push(d),l&&i&&((o=e.fieldsIndex)!=null&&o.has(i))&&!l.includes(i)&&l.push(i),p&&p.forEach((h=>{var c;const{keyField:t}=h;l&&t&&((c=e.fieldsIndex)!=null&&c.has(t))&&!l.includes(t)&&l.push(t)})),l}function b(e,s){return e.popupTemplate?e.popupTemplate:null}export{F as n,b as p};

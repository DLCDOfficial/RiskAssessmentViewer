const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./gif-BJY1DIQk.js","./time-ClENgjgA.js","./apng-B0eOB_zu.js","./_commonjsHelpers-BcY2WciP.js","./index-BbP3371Q.js","./index-DzoQLc5A.js","./index-FMl8DCyv.css"])))=>i.map(i=>d[i]);
import{_ as c,af as m,cG as d,v as f,bn as p,s as w}from"./index-DzoQLc5A.js";let i=null,u=!0;function T(n,e,t,a){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(u)try{return new ImageData(n,e,t)}catch{u=!1}const r=g(e,t,a);return r.data.set(n,0),r}function y(){return i||(i=document.createElement("canvas"),i.width=1,i.height=1),i}function g(n,e,t){return t||(t=y()),t.getContext("2d").createImageData(n,e)}async function l(n,e){const t=window.URL.createObjectURL(n);try{const{data:a}=await f(t,{...e,responseType:"image"});return a}catch(a){throw p(a)?a:new w("invalid-image",`Could not fetch requested image at ${t}`)}finally{window.URL.revokeObjectURL(t)}}async function v(n,e){const{arrayBuffer:t,mediaType:a}=await _(n,e),r=a==="image/png";if(a==="image/gif"){const{isAnimatedGIF:o,parseGif:s}=await c(()=>import("./gif-BJY1DIQk.js"),__vite__mapDeps([0,1]),import.meta.url);if(o(t))return s(t,e)}if(r){const{isAnimatedPNG:o,parseApng:s}=await c(()=>import("./apng-B0eOB_zu.js"),__vite__mapDeps([2,3,4,5,6,1]),import.meta.url);if(o(t))return s(t,e)}return l(new Blob([t],{type:a}),e)}async function _(n,e){var r;const t=m(n);if(t!=null&&t.isBase64)return{arrayBuffer:d(t.data),mediaType:t.mediaType};const a=await f(n,{responseType:"array-buffer",...e});return{arrayBuffer:a.data,mediaType:((r=a.getHeader)==null?void 0:r.call(a,"Content-Type"))??""}}export{T as c,v as p};

import{w as P,c$ as le,B as t,F as i,jX as ue,J as B,cZ as Ze,d1 as Jt,jY as Xe,jZ as $t,aT as L,aQ as Q,bl as v,dp as W,s as Y,v as Ne,j as Qe,iJ as et,bk as Et,aS as xt,W as Me,U as we,ac as G,R as jt,cF as re,aC as ae,L as At,j_ as Ut,fk as ce,j$ as Se,V as Wt,X as kt,aU as _t,y as Vt,ab as k,cQ as Gt,cU as qt,cS as zt,cT as Zt,cV as Xt,b$ as Yt,dw as Ht,S as Kt,c1 as Tt,am as gt,hU as Qt,I as er,Z as tr,C as rr,E as ir,bn as or,fy as sr,cB as ar,cA as nr,cJ as lr,cW as ur}from"./index-DzoQLc5A.js";import{i as pr}from"./originUtils-1P3A7roi.js";import{s as ke,f as Bt}from"./utils-DDykF6ND.js";import{D as z,U as ze,n as cr,b as dr,w as _e,y as yr,r as Ft,h as mr,m as Lt,a as Mt,c as hr,q as fr,S as Ve,k as Ge,A as pe,g as Be,p as U,N as q,T as qe,R as br,M as vr,o as Tr,f as gr,l as wr,v as Fe}from"./GPMessage-BvJMSZbN.js";import{R as Sr}from"./normalizeUtils-PTTPU64I.js";import{t as Nr}from"./commonProperties-DHiB1uzW.js";import"https://js.arcgis.com/map-components/4.33/arcgis-map-components.esm.js";import"./multiOriginJSONSupportUtils-C0wm8_Yw.js";import"./normalizeUtilsCommon-C_a4i1bY.js";import"./utils-BRuFmAg3.js";let te=class extends P{constructor(e){super(e),this.break=new le({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),this.first=new le({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),this.unlocated=new le({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),this.last=new le({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),this.middle=new le({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),this.waypoint=new le({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}})}};t([i({types:ue})],te.prototype,"break",void 0),t([i({types:ue})],te.prototype,"first",void 0),t([i({types:ue})],te.prototype,"unlocated",void 0),t([i({types:ue})],te.prototype,"last",void 0),t([i({types:ue})],te.prototype,"middle",void 0),t([i({types:ue})],te.prototype,"waypoint",void 0),te=t([B("esri.layers.support.RouteStopSymbols")],te);let K=class extends P{constructor(e){super(e),this.directionLines=new Ze({color:[0,122,194],width:6}),this.directionPoints=new le({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),this.pointBarriers=new le({style:"x",size:10,outline:{color:[255,0,0],width:3}}),this.polygonBarriers=new Jt({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),this.polylineBarriers=new Ze({width:7.5,color:[255,85,0,.7]}),this.routeInfo=new Ze({width:8,color:[20,89,127]}),this.stops=new te}};t([i({types:Xe})],K.prototype,"directionLines",void 0),t([i({types:ue})],K.prototype,"directionPoints",void 0),t([i({types:ue})],K.prototype,"pointBarriers",void 0),t([i({types:$t})],K.prototype,"polygonBarriers",void 0),t([i({types:Xe})],K.prototype,"polylineBarriers",void 0),t([i({types:Xe})],K.prototype,"routeInfo",void 0),t([i({type:te})],K.prototype,"stops",void 0),K=t([B("esri.layers.support.RouteSymbols")],K);let H=class extends P{constructor(e){super(e),this.dataType=null,this.name=null,this.parameterNames=null,this.restrictionUsageParameterName=null,this.timeNeutralAttributeName=null,this.trafficSupport=null,this.units=null,this.usageType=null}};t([i({type:String})],H.prototype,"dataType",void 0),t([L(z,{ignoreUnknown:!1})],H.prototype,"name",void 0),t([i({type:[String]})],H.prototype,"parameterNames",void 0),t([i({type:String})],H.prototype,"restrictionUsageParameterName",void 0),t([L(ze,{ignoreUnknown:!1})],H.prototype,"timeNeutralAttributeName",void 0),t([i({type:String})],H.prototype,"trafficSupport",void 0),t([L(cr)],H.prototype,"units",void 0),t([L(dr)],H.prototype,"usageType",void 0),H=t([B("esri.rest.support.NetworkAttribute")],H);const Or=H;let ne=class extends P{constructor(e){super(e),this.buildTime=null,this.name=null,this.networkAttributes=null,this.networkSources=null,this.state=null}};t([i({type:Number})],ne.prototype,"buildTime",void 0),t([i({type:String})],ne.prototype,"name",void 0),t([i({type:[Or]})],ne.prototype,"networkAttributes",void 0),t([i()],ne.prototype,"networkSources",void 0),t([i({type:String})],ne.prototype,"state",void 0),ne=t([B("esri.rest.support.NetworkDataset")],ne);const Dr=ne;let M=class extends Q.ClonableMixin(P){constructor(e){super(e),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}readId(e,r){return r.id??r.itemId??null}readRestrictionAttributes(e,r){const{restrictionAttributeNames:s}=r;return s==null?null:s.map((a=>_e.fromJSON(a)))}writeRestrictionAttributes(e,r,s){e!=null&&(r[s]=e.map((a=>_e.toJSON(a))))}};t([i({type:[Object],json:{write:!0}})],M.prototype,"attributeParameterValues",void 0),t([i({type:String,json:{write:!0}})],M.prototype,"description",void 0),t([L(yr,{ignoreUnknown:!1})],M.prototype,"distanceAttributeName",void 0),t([i({type:String,json:{write:!0}})],M.prototype,"id",void 0),t([v("id",["id","itemId"])],M.prototype,"readId",null),t([L(z,{ignoreUnknown:!1})],M.prototype,"impedanceAttributeName",void 0),t([i({type:String,json:{write:!0}})],M.prototype,"name",void 0),t([i({type:[String],json:{write:!0}})],M.prototype,"restrictionAttributeNames",void 0),t([v("restrictionAttributeNames")],M.prototype,"readRestrictionAttributes",null),t([W("restrictionAttributeNames")],M.prototype,"writeRestrictionAttributes",null),t([i({type:Number,json:{write:{allowNull:!0}}})],M.prototype,"simplificationTolerance",void 0),t([L(Ft)],M.prototype,"simplificationToleranceUnits",void 0),t([L(ze,{ignoreUnknown:!1})],M.prototype,"timeAttributeName",void 0),t([L(mr)],M.prototype,"type",void 0),t([i({type:Boolean,json:{write:!0}})],M.prototype,"useHierarchy",void 0),t([L(Lt)],M.prototype,"uturnAtJunctions",void 0),M=t([B("esri.rest.support.TravelMode")],M);let J=class extends P{constructor(e){super(e),this.accumulateAttributeNames=null,this.attributeParameterValues=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}readAccumulateAttributes(e){return e==null?null:e.map((r=>z.fromJSON(r)))}writeAccumulateAttributes(e,r,s){e!=null&&e.length&&(r[s]=e.map((a=>z.toJSON(a))))}get capabilities(){return{supportsNow:(this.currentVersion??10)>=10.81}}readDefaultTravelMode(e,r){var a,n;const s=((a=r.supportedTravelModes)==null?void 0:a.find((({id:l})=>l===r.defaultTravelMode)))??((n=r.supportedTravelModes)==null?void 0:n.find((({itemId:l})=>l===r.defaultTravelMode)));return s?M.fromJSON(s):null}};t([i()],J.prototype,"accumulateAttributeNames",void 0),t([v("accumulateAttributeNames")],J.prototype,"readAccumulateAttributes",null),t([W("accumulateAttributeNames")],J.prototype,"writeAccumulateAttributes",null),t([i()],J.prototype,"attributeParameterValues",void 0),t([i()],J.prototype,"capabilities",null),t([i()],J.prototype,"currentVersion",void 0),t([i()],J.prototype,"defaultTravelMode",void 0),t([v("defaultTravelMode",["defaultTravelMode","supportedTravelModes"])],J.prototype,"readDefaultTravelMode",null),t([i()],J.prototype,"directionsLanguage",void 0),t([L(Mt)],J.prototype,"directionsLengthUnits",void 0),t([i()],J.prototype,"directionsSupportedLanguages",void 0),t([L(ze,{ignoreUnknown:!1})],J.prototype,"directionsTimeAttribute",void 0),t([i()],J.prototype,"hasZ",void 0),t([L(z,{ignoreUnknown:!1})],J.prototype,"impedance",void 0),t([i({type:Dr})],J.prototype,"networkDataset",void 0),t([i({type:[M]})],J.prototype,"supportedTravelModes",void 0),J=t([B("esri.rest.support.NetworkServiceDescription")],J);const Ir=()=>Qe.getLogger("esri.rest.networkService");function Pe(o,e,r,s){s[r]=[e.length,e.length+o.length],o.forEach((a=>{e.push(a.geometry)}))}function Cr(o,e){for(let r=0;r<e.length;r++){const s=o[e[r]];if(s&&s.length)for(const a of s)a.z=void 0}Ir().warnOnce(`The remote Network Analysis service is powered by a network dataset which is not Z-aware.
Z-coordinates of the input geometry are ignored.`)}function jr(o,e){for(let r=0;r<e.length;r++){const s=o[e[r]];if(s&&s.length){for(const a of s)if(a!=null&&a.hasZ)return!0}}return!1}async function Pt(o,e,r){if(!o)throw new Y("network-service:missing-url","Url to Network service is missing");const s=ke({f:"json",token:e},r),{data:a}=await Ne(o,s),n=a.currentVersion>=10.4?Br(o,e,r):Ar(o,r),{defaultTravelMode:l,supportedTravelModes:d}=await n;return a.defaultTravelMode=l,a.supportedTravelModes=d,J.fromJSON(a)}async function Ar(o,e){var I,h,N;const r=ke({f:"json"},e),{data:s}=await Ne(o.replace(/\/rest\/.*$/i,"/info"),r);if(!(s!=null&&s.owningSystemUrl))return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:a}=s,n=et(a)+"/sharing/rest/portals/self",{data:l}=await Ne(n,r),d=Et("helperServices.routingUtilities.url",l);if(!d)return{supportedTravelModes:[],defaultTravelMode:null};const g=Bt(a),j=/\/solve$/i.test(g.path)?"Route":/\/solveclosestfacility$/i.test(g.path)?"ClosestFacility":"ServiceAreas",f=ke({f:"json",serviceName:j},e),y=et(d)+"/GetTravelModes/execute",C=await Ne(y,f),D=[];let w=null;if((h=(I=C==null?void 0:C.data)==null?void 0:I.results)!=null&&h.length){const p=C.data.results;for(const b of p)if(b.paramName==="supportedTravelModes"){if((N=b.value)!=null&&N.features){for(const{attributes:T}of b.value.features)if(T){const R=JSON.parse(T.TravelMode);D.push(R)}}}else b.paramName==="defaultTravelMode"&&(w=b.value)}return{supportedTravelModes:D,defaultTravelMode:w}}async function Br(o,e,r){try{const s=ke({f:"json",token:e},r),a=et(o)+"/retrieveTravelModes",{data:{supportedTravelModes:n,defaultTravelMode:l}}=await Ne(a,s);return{supportedTravelModes:n,defaultTravelMode:l}}catch(s){throw new Y("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:s})}}function ie(o,e){if(o==null)return null;const r={},s=new RegExp(`^${e}`,"i");for(const a of Object.keys(o))if(s.test(a)){const n=a.slice(e.length);r[z.fromJSON(n)]=o[a]}return r}function ct(o,e,r){if(o!=null){e.attributes||(e.attributes={});for(const s in o){const a=z.toJSON(s);e.attributes[`${r}${a}`]=o[s]}}}function Ie(o){const e={};for(const r of Object.keys(o)){const s=r;e[z.fromJSON(s)]=o[r]}return e}function Ce(o){const e={};for(const r of Object.keys(o)){const s=r;e[z.toJSON(s)]=o[r]}return e}function Le(o,e){return o==null||e==null?null:Math.round((o-e)/6e4)}function Fr(o){var s,a,n;const e=o.toJSON(),r=e;return r.accumulateAttributeNames&&(r.accumulateAttributeNames=(s=e.accumulateAttributeNames)==null?void 0:s.join()),r.attributeParameterValues&&(r.attributeParameterValues=JSON.stringify(e.attributeParameterValues)),r.barriers&&(r.barriers=JSON.stringify(e.barriers)),r.outSR&&(r.outSR=(a=e.outSR)==null?void 0:a.wkid),r.overrides&&(r.overrides=JSON.stringify(e.overrides)),r.polygonBarriers&&(r.polygonBarriers=JSON.stringify(e.polygonBarriers)),r.polylineBarriers&&(r.polylineBarriers=JSON.stringify(e.polylineBarriers)),r.restrictionAttributeNames&&(r.restrictionAttributeNames=(n=e.restrictionAttributeNames)==null?void 0:n.join()),r.stops&&(r.stops=JSON.stringify(e.stops)),r.travelMode&&(r.travelMode=JSON.stringify(e.travelMode)),r}const wt=new xt({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let Ue=class extends hr{constructor(e){super(e),this.type=null}};t([i({type:String,json:{read:wt.read,write:wt.write}})],Ue.prototype,"type",void 0),Ue=t([B("esri.rest.support.NAMessage")],Ue);const Lr=Ue;let je=class extends P{constructor(e){super(e)}};t([i({json:{read:{source:"string"}}})],je.prototype,"text",void 0),t([L(fr,{name:"stringType"})],je.prototype,"type",void 0),je=t([B("esri.rest.support.DirectionsString")],je);const Rt=je;let se=class extends P{constructor(e){super(e),this.arriveTime=null,this.arriveTimeOffset=null,this.geometry=null,this.strings=null}readArriveTimeOffset(e,r){return Le(r.ETA,r.arriveTimeUTC)}readGeometry(e,r){return Me.fromJSON(r.point)}};t([i({type:Date,json:{read:{source:"arriveTimeUTC"}}})],se.prototype,"arriveTime",void 0),t([i()],se.prototype,"arriveTimeOffset",void 0),t([v("arriveTimeOffset",["arriveTimeUTC","ETA"])],se.prototype,"readArriveTimeOffset",null),t([i({type:Me})],se.prototype,"geometry",void 0),t([v("geometry",["point"])],se.prototype,"readGeometry",null),t([i({type:[Rt]})],se.prototype,"strings",void 0),se=t([B("esri.rest.support.DirectionsEvent")],se);const Mr=se;function Pr(o){if(o==null||o==="")return null;let e=0,r=0,s=0,a=0;const n=[];let l,d,g,j,f,y,C,D,w=0,I=0,h=0;if(f=o.match(/((\+|-)[^+\-|]+|\|)/g),f||(f=[]),parseInt(f[w],32)===0){w=2;const N=parseInt(f[w],32);w++,y=parseInt(f[w],32),w++,1&N&&(I=f.indexOf("|")+1,C=parseInt(f[I],32),I++),2&N&&(h=f.indexOf("|",I)+1,D=parseInt(f[h],32),h++)}else y=parseInt(f[w],32),w++;for(;w<f.length&&f[w]!=="|";){l=parseInt(f[w],32)+e,w++,e=l,d=parseInt(f[w],32)+r,w++,r=d;const N=[l/y,d/y];I&&(j=parseInt(f[I],32)+s,I++,s=j,N.push(j/C)),h&&(g=parseInt(f[h],32)+a,h++,a=g,N.push(g/D)),n.push(N)}return{paths:[n],hasZ:I>0,hasM:h>0}}let ye=class extends G{constructor(e){super(e),this.events=null,this.geometry=null,this.strings=null}readGeometry(e,r){const s=Pr(r.compressedGeometry);return s!=null?we.fromJSON(s):null}};t([i({type:[Mr]})],ye.prototype,"events",void 0),t([i({type:we})],ye.prototype,"geometry",void 0),t([v("geometry",["compressedGeometry"])],ye.prototype,"readGeometry",null),t([i({type:[Rt]})],ye.prototype,"strings",void 0),ye=t([B("esri.rest.support.DirectionsFeature")],ye);const Rr=ye;function Jr(o,e){if(o.length===0)return new we({spatialReference:e});const r=[];for(const l of o)for(const d of l.paths)r.push(...d);const s=[];r.forEach(((l,d)=>{d!==0&&l[0]===r[d-1][0]&&l[1]===r[d-1][1]||s.push(l)}));const{hasM:a,hasZ:n}=o[0];return new we({hasM:a,hasZ:n,paths:[s],spatialReference:e})}let _=class extends re{constructor(e){super(e),this.extent=null,this.features=[],this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,r){if(!e)return[];const s=r.summary.envelope.spatialReference??r.spatialReference,a=s&&ae.fromJSON(s);return e.map((n=>{const l=Rr.fromJSON(n);if(l.geometry!=null&&(l.geometry.spatialReference=a),l.events!=null)for(const d of l.events)d.geometry!=null&&(d.geometry.spatialReference=a);return l}))}get mergedGeometry(){return this.features?Jr(this.features.map((({geometry:e})=>e)),this.extent.spatialReference):null}get strings(){return this.features.flatMap((({strings:e})=>e)).filter(At)}};t([i({type:jt,json:{read:{source:"summary.envelope"}}})],_.prototype,"extent",void 0),t([i({nonNullable:!0})],_.prototype,"features",void 0),t([v("features")],_.prototype,"readFeatures",null),t([i()],_.prototype,"geometryType",void 0),t([i({readOnly:!0})],_.prototype,"mergedGeometry",null),t([i()],_.prototype,"routeId",void 0),t([i()],_.prototype,"routeName",void 0),t([i({value:null,readOnly:!0})],_.prototype,"strings",null),t([i({json:{read:{source:"summary.totalDriveTime"}}})],_.prototype,"totalDriveTime",void 0),t([i({json:{read:{source:"summary.totalLength"}}})],_.prototype,"totalLength",void 0),t([i({json:{read:{source:"summary.totalTime"}}})],_.prototype,"totalTime",void 0),_=t([B("esri.rest.support.DirectionsFeatureSet")],_);const $r=_;let Z=class extends P{constructor(e){super(e),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null,this.traversedEdges=null,this.traversedJunctions=null,this.traversedTurns=null}};t([i({type:re,json:{write:!0}})],Z.prototype,"directionLines",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"directionPoints",void 0),t([i({type:$r,json:{write:!0}})],Z.prototype,"directions",void 0),t([i({type:G,json:{write:!0}})],Z.prototype,"route",void 0),t([i({type:String,json:{write:!0}})],Z.prototype,"routeName",void 0),t([i({type:[G],json:{write:!0}})],Z.prototype,"stops",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"traversedEdges",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"traversedJunctions",void 0),t([i({type:re,json:{write:!0}})],Z.prototype,"traversedTurns",void 0),Z=t([B("esri.rest.support.RouteResult")],Z);const Er=Z;function Ye(o){return o?re.fromJSON(o).features.filter(At):[]}let X=class extends P{constructor(e){super(e),this.checksum=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(e,r){return Ye(r.barriers)}readPolylineBarriers(e){return Ye(e)}readPolygonBarriers(e){return Ye(e)}};t([i({type:String})],X.prototype,"checksum",void 0),t([i({type:[Lr]})],X.prototype,"messages",void 0),t([i({type:[G]})],X.prototype,"pointBarriers",void 0),t([v("pointBarriers",["barriers"])],X.prototype,"readPointBarriers",null),t([i({type:[G]})],X.prototype,"polylineBarriers",void 0),t([v("polylineBarriers")],X.prototype,"readPolylineBarriers",null),t([i({type:[G]})],X.prototype,"polygonBarriers",void 0),t([v("polygonBarriers")],X.prototype,"readPolygonBarriers",null),t([i({type:[Er]})],X.prototype,"routeResults",void 0),X=t([B("esri.rest.support.RouteSolveResult")],X);function Re(o){return o instanceof re}async function xr(o,e,r){const s=[],a=[],n={},l={},d=Bt(o),{path:g}=d;Re(e.stops)&&Pe(e.stops.features,a,"stops.features",n),Re(e.pointBarriers)&&Pe(e.pointBarriers.features,a,"pointBarriers.features",n),Re(e.polylineBarriers)&&Pe(e.polylineBarriers.features,a,"polylineBarriers.features",n),Re(e.polygonBarriers)&&Pe(e.polygonBarriers.features,a,"polygonBarriers.features",n);const j=await Sr(a);for(const D in n){const w=n[D];s.push(D),l[D]=j.slice(w[0],w[1])}if(jr(l,s)){let D=null;try{D=await Pt(g,e.apiKey,r)}catch{}D&&!D.hasZ&&Cr(l,s)}for(const D in l)l[D].forEach(((w,I)=>{Ut(e,D)[I].geometry=w}));const f={...r,query:{...d.query,...Fr(e),f:"json"}},y=g.endsWith("/solve")?g:`${g}/solve`,{data:C}=await Ne(y,f);return Ur(C)}function Ur(o){const{barriers:e,checksum:r,directionLines:s,directionPoints:a,directions:n,messages:l,polygonBarriers:d,polylineBarriers:g,routes:j,stops:f,traversedEdges:y,traversedJunctions:C,traversedTurns:D}=o,w=p=>{const b=h.find((R=>R.routeName===p));if(b!=null)return b;const T={routeId:h.length+1,routeName:p};return h.push(T),T},I=p=>{const b=h.find((R=>R.routeId===p));if(b!=null)return b;const T={routeId:p,routeName:null};return h.push(T),T},h=[];j==null||j.features.forEach(((p,b)=>{p.geometry.spatialReference=j.spatialReference??void 0;const T=p.attributes.Name,R=b+1;h.push({routeId:R,routeName:T,route:p})})),n==null||n.forEach((p=>{const{routeName:b}=p;w(b).directions=p}));const N=((f==null?void 0:f.features.every((p=>p.attributes.RouteName==null)))??!1)&&h.length>0?h[0].routeName:null;return f==null||f.features.forEach((p=>{var R;p.geometry&&((R=p.geometry).spatialReference??(R.spatialReference=f.spatialReference??void 0));const b=N??p.attributes.RouteName,T=w(b);T.stops??(T.stops=[]),T.stops.push(p)})),s==null||s.features.forEach((p=>{const b=p.attributes.RouteID,T=I(b),{geometryType:R,spatialReference:oe}=s;T.directionLines??(T.directionLines={features:[],geometryType:R,spatialReference:oe}),T.directionLines.features.push(p)})),a==null||a.features.forEach((p=>{const b=p.attributes.RouteID,T=I(b),{geometryType:R,spatialReference:oe}=a;T.directionPoints??(T.directionPoints={features:[],geometryType:R,spatialReference:oe}),T.directionPoints.features.push(p)})),y==null||y.features.forEach((p=>{const b=p.attributes.RouteID,T=I(b),{geometryType:R,spatialReference:oe}=y;T.traversedEdges??(T.traversedEdges={features:[],geometryType:R,spatialReference:oe}),T.traversedEdges.features.push(p)})),C==null||C.features.forEach((p=>{const b=p.attributes.RouteID,T=I(b),{geometryType:R,spatialReference:oe}=C;T.traversedJunctions??(T.traversedJunctions={features:[],geometryType:R,spatialReference:oe}),T.traversedJunctions.features.push(p)})),D==null||D.features.forEach((p=>{const b=p.attributes.RouteID,T=I(b);T.traversedTurns??(T.traversedTurns={features:[]}),T.traversedTurns.features.push(p)})),X.fromJSON({barriers:e,checksum:r,messages:l,polygonBarriers:d,polylineBarriers:g,routeResults:h})}var tt,me;let E=(me=class extends Q.ClonableMixin(P){constructor(e){super(e),this.directionLineType=null,this.directionPointId=null,this.distance=null,this.duration=null,this.fromLevel=null,this.geometry=null,this.objectId=null,this.popupTemplate=null,this.symbol=null,this.toLevel=null,this.type="direction-line"}static fromGraphic(e){return new tt({directionLineType:Ve.fromJSON(e.attributes.DirectionLineType),directionPointId:e.attributes.DirectionPointID,distance:e.attributes.Meters,duration:e.attributes.Minutes,fromLevel:e.attributes.FromLevel??null,geometry:e.geometry,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,symbol:e.symbol,toLevel:e.attributes.ToLevel??null})}toGraphic(){const e={ObjectID:this.objectId,DirectionLineType:this.directionLineType?Ve.toJSON(this.directionLineType):null,DirectionPointID:this.directionPointId,Meters:this.distance,Minutes:this.duration};return this.fromLevel!=null&&(e.FromLevel=this.fromLevel),this.toLevel!=null&&(e.ToLevel=this.toLevel),new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},tt=me,me.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"DirectionLineType",alias:"Line Type",type:"esriFieldTypeInteger"},{name:"DirectionPointID",alias:"Direction Point ID",type:"esriFieldTypeInteger"},{name:"FromLevel",alias:"From Level",type:"esriFieldTypeInteger"},{name:"Meters",alias:"Meters",type:"esriFieldTypeDouble"},{name:"Minutes",alias:"Minutes",type:"esriFieldTypeDouble"},{name:"ToLevel",alias:"To Level",type:"esriFieldTypeInteger"}],me);t([i({type:Ve.apiValues,json:{read:{source:"attributes.DirectionLineType",reader:Ve.read}}})],E.prototype,"directionLineType",void 0),t([i({json:{read:{source:"attributes.DirectionPointID"}}})],E.prototype,"directionPointId",void 0),t([i({json:{read:{source:"attributes.Meters"}}})],E.prototype,"distance",void 0),t([i({json:{read:{source:"attributes.Minutes"}}})],E.prototype,"duration",void 0),t([i({json:{read:{source:"attributes.FromLevel"}}})],E.prototype,"fromLevel",void 0),t([i({type:we})],E.prototype,"geometry",void 0),t([i({json:{read:{source:"attributes.ObjectID"}}})],E.prototype,"objectId",void 0),t([i({type:ce})],E.prototype,"popupTemplate",void 0),t([i({types:Se})],E.prototype,"symbol",void 0),t([i({json:{read:{source:"attributes.ToLevel"}}})],E.prototype,"toLevel",void 0),t([i({readOnly:!0,json:{read:!1}})],E.prototype,"type",void 0),E=tt=t([B("esri.rest.support.DirectionLine")],E);var rt,he;let A=(he=class extends Q.ClonableMixin(P){constructor(e){super(e),this.alternateName=null,this.arrivalTime=null,this.arrivalTimeOffset=null,this.azimuth=null,this.branchName=null,this.directionPointType=null,this.displayText=null,this.exitName=null,this.geometry=null,this.intersectingName=null,this.level=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.sequence=null,this.shortVoiceInstruction=null,this.stopId=null,this.symbol=null,this.towardName=null,this.type="direction-point",this.voiceInstruction=null}readArrivalTime(e,r){return r.attributes.ArrivalTime!=null?new Date(r.attributes.ArrivalTime):null}static fromGraphic(e){return new rt({alternateName:e.attributes.AlternateName??null,arrivalTime:e.attributes.ArrivalTime!=null?new Date(e.attributes.ArrivalTime):null,arrivalTimeOffset:e.attributes.ArrivalUTCOffset??null,azimuth:e.attributes.Azimuth??null,branchName:e.attributes.BranchName??null,directionPointType:Ge.fromJSON(e.attributes.DirectionPointType),displayText:e.attributes.DisplayText??null,exitName:e.attributes.ExitName??null,geometry:e.geometry,intersectingName:e.attributes.IntersectingName??null,level:e.attributes.Level??null,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,sequence:e.attributes.Sequence,shortVoiceInstruction:e.attributes.ShortVoiceInstruction??null,stopId:e.attributes.StopID??null,symbol:e.symbol,towardName:e.attributes.TowardName??null,voiceInstruction:e.attributes.VoiceInstruction??null})}toGraphic(){const e={ObjectID:this.objectId,DirectionPointType:this.directionPointType?Ge.toJSON(this.directionPointType):null,Sequence:this.sequence,StopID:this.stopId};return this.alternateName!=null&&(e.AlternateName=this.alternateName),this.arrivalTime!=null&&(e.ArrivalTime=this.arrivalTime.getTime()),this.arrivalTimeOffset!=null&&(e.ArrivalUTCOffset=this.arrivalTimeOffset),this.azimuth!=null&&(e.Azimuth=this.azimuth),this.branchName!=null&&(e.BranchName=this.branchName),this.displayText!=null&&(e.DisplayText=this.displayText),this.exitName!=null&&(e.ExitName=this.exitName),this.intersectingName!=null&&(e.IntersectingName=this.intersectingName),this.level!=null&&(e.Level=this.level),this.name!=null&&(e.Name=this.name),this.shortVoiceInstruction!=null&&(e.ShortVoiceInstruction=this.shortVoiceInstruction),this.towardName!=null&&(e.TowardName=this.towardName),this.voiceInstruction!=null&&(e.VoiceInstruction=this.voiceInstruction),new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},rt=he,he.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"AlternateName",alias:"Alternative Name",type:"esriFieldTypeString"},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate"},{name:"ArrivalUTCOffset",alias:"Arrival Time Offset",type:"esriFieldTypeInteger"},{name:"Azimuth",alias:"Azimuth",type:"esriFieldTypeDouble"},{name:"BranchName",alias:"Branch Name",type:"esriFieldTypeString"},{name:"DirectionPointType",alias:"Directions Point Type",type:"esriFieldTypeInteger"},{name:"DisplayText",alias:"Display Text",type:"esriFieldTypeString"},{name:"ExitName",alias:"Exit Name",type:"esriFieldTypeString"},{name:"IntersectingName",alias:"Intersecting Name",type:"esriFieldTypeString"},{name:"Level",alias:"Level",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger"},{name:"ShortVoiceInstruction",alias:"Short Voice Instruction",type:"esriFieldTypeString"},{name:"StopID",alias:"Stop ID",type:"esriFieldTypeInteger"},{name:"TowardName",alias:"Toward Name",type:"esriFieldTypeString"},{name:"VoiceInstruction",alias:"Voice Instruction",type:"esriFieldTypeString"}],he);t([i({json:{read:{source:"attributes.AlternateName"}}})],A.prototype,"alternateName",void 0),t([i({type:Date})],A.prototype,"arrivalTime",void 0),t([v("arrivalTime",["attributes.ArrivalTime"])],A.prototype,"readArrivalTime",null),t([i({json:{read:{source:"attributes.ArrivalUTCOffset"}}})],A.prototype,"arrivalTimeOffset",void 0),t([i({json:{read:{source:"attributes.Azimuth"}}})],A.prototype,"azimuth",void 0),t([i({json:{read:{source:"attributes.BranchName"}}})],A.prototype,"branchName",void 0),t([i({type:Ge.apiValues,json:{read:{source:"attributes.DirectionPointType",reader:Ge.read}}})],A.prototype,"directionPointType",void 0),t([i({json:{read:{source:"attributes.DisplayText"}}})],A.prototype,"displayText",void 0),t([i({json:{read:{source:"attributes.ExitName"}}})],A.prototype,"exitName",void 0),t([i({type:Me})],A.prototype,"geometry",void 0),t([i({json:{read:{source:"attributes.IntersectingName"}}})],A.prototype,"intersectingName",void 0),t([i({json:{read:{source:"attributes.Level"}}})],A.prototype,"level",void 0),t([i({json:{read:{source:"attributes.Name"}}})],A.prototype,"name",void 0),t([i({json:{read:{source:"attributes.ObjectID"}}})],A.prototype,"objectId",void 0),t([i({type:ce})],A.prototype,"popupTemplate",void 0),t([i({json:{read:{source:"attributes.Sequence"}}})],A.prototype,"sequence",void 0),t([i({json:{read:{source:"attributes.ShortVoiceInstruction"}}})],A.prototype,"shortVoiceInstruction",void 0),t([i({json:{read:{source:"attributes.StopID"}}})],A.prototype,"stopId",void 0),t([i({types:Se})],A.prototype,"symbol",void 0),t([i({json:{read:{source:"attributes.TowardName"}}})],A.prototype,"towardName",void 0),t([i({readOnly:!0,json:{read:!1}})],A.prototype,"type",void 0),t([i({json:{read:{source:"attributes.VoiceInstruction"}}})],A.prototype,"voiceInstruction",void 0),A=rt=t([B("esri.rest.support.DirectionPoint")],A);var it,fe;let F=(fe=class extends Q.ClonableMixin(P){constructor(e){super(e),this.addedCost=null,this.barrierType=null,this.costs=null,this.curbApproach=null,this.fullEdge=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.sideOfEdge=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.type="point-barrier"}readCosts(e,r){return ie(r.attributes,"Attr_")}writeCosts(e,r){ct(e,r,"Attr_")}static fromGraphic(e){return new it({addedCost:e.attributes.AddedCost??null,barrierType:e.attributes.BarrierType!=null?q.fromJSON(e.attributes.BarrierType):null,costs:e.attributes.Costs!=null?Ie(JSON.parse(e.attributes.Costs)):null,curbApproach:e.attributes.CurbApproach!=null?U.fromJSON(e.attributes.CurbApproach):null,fullEdge:e.attributes.FullEdge!=null?Be.fromJSON(e.attributes.FullEdge):null,geometry:e.geometry,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,status:e.attributes.Status!=null?pe.fromJSON(e.attributes.Status):null,symbol:e.symbol})}toGraphic(){const e={ObjectID:this.objectId,AddedCost:this.addedCost,BarrierType:this.barrierType?q.toJSON(this.barrierType):null,Costs:this.costs?JSON.stringify(Ce(this.costs)):null,CurbApproach:this.curbApproach?U.toJSON(this.curbApproach):null,FullEdge:this.fullEdge?Be.toJSON(this.fullEdge):null,Name:this.name,Status:this.status?pe.toJSON(this.status):null};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},it=fe,fe.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"AddedCost",alias:"Added Cost",type:"esriFieldTypeDouble"},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger"},{name:"Costs",alias:"Costs",type:"esriFieldTypeString"},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger"},{name:"FullEdge",alias:"Full Edge",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"Status",alias:"Status",type:"esriFieldTypeInteger"}],fe);t([i()],F.prototype,"addedCost",void 0),t([i({type:q.apiValues,json:{name:"attributes.BarrierType",read:{reader:q.read},write:{writer:q.write}}})],F.prototype,"barrierType",void 0),t([i()],F.prototype,"costs",void 0),t([v("costs",["attributes"])],F.prototype,"readCosts",null),t([W("costs")],F.prototype,"writeCosts",null),t([i({type:U.apiValues,json:{read:{source:"attributes.CurbApproach",reader:U.read}}})],F.prototype,"curbApproach",void 0),t([i({type:Be.apiValues,json:{name:"attributes.FullEdge",read:{reader:Be.read},write:{writer:Be.write}}})],F.prototype,"fullEdge",void 0),t([i({type:Me,json:{write:!0}})],F.prototype,"geometry",void 0),t([i({json:{name:"attributes.Name"}})],F.prototype,"name",void 0),t([i({json:{name:"attributes.ObjectID"}})],F.prototype,"objectId",void 0),t([i({type:ce})],F.prototype,"popupTemplate",void 0),t([i({type:qe.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:qe.read}}})],F.prototype,"sideOfEdge",void 0),t([i({json:{read:{source:"attributes.SourceID"}}})],F.prototype,"sourceId",void 0),t([i({json:{read:{source:"attributes.SourceOID"}}})],F.prototype,"sourceOid",void 0),t([i({type:pe.apiValues,json:{read:{source:"attributes.Status",reader:pe.read}}})],F.prototype,"status",void 0),t([i({types:Se})],F.prototype,"symbol",void 0),t([i({readOnly:!0,json:{read:!1}})],F.prototype,"type",void 0),F=it=t([B("esri.rest.support.PointBarrier")],F);var ot,be;let $=(be=class extends Q.ClonableMixin(P){constructor(e){super(e),this.barrierType=null,this.costs=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.scaleFactor=null,this.symbol=null,this.type="polygon-barrier"}readCosts(e,r){return ie(r.attributes,"Attr_")}writeCosts(e,r){ct(e,r,"Attr_")}static fromGraphic(e){return new ot({barrierType:e.attributes.BarrierType!=null?q.fromJSON(e.attributes.BarrierType):null,costs:e.attributes.Costs!=null?Ie(JSON.parse(e.attributes.Costs)):null,geometry:e.geometry,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,scaleFactor:e.attributes.ScaleFactor??null,symbol:e.symbol})}toGraphic(){const e={ObjectID:this.objectId,BarrierType:this.barrierType?q.toJSON(this.barrierType):null,Costs:this.costs?JSON.stringify(Ce(this.costs)):null,Name:this.name??null,ScaleFactor:this.scaleFactor??null};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},ot=be,be.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger"},{name:"Costs",alias:"Costs",type:"esriFieldTypeString"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble"}],be);t([i({type:q.apiValues,json:{name:"attributes.BarrierType",read:{reader:q.read},write:{writer:q.write}}})],$.prototype,"barrierType",void 0),t([i()],$.prototype,"costs",void 0),t([v("costs",["attributes"])],$.prototype,"readCosts",null),t([W("costs")],$.prototype,"writeCosts",null),t([i({type:Wt,json:{write:!0}})],$.prototype,"geometry",void 0),t([i({json:{name:"attributes.Name"}})],$.prototype,"name",void 0),t([i({json:{name:"attributes.ObjectID"}})],$.prototype,"objectId",void 0),t([i({type:ce})],$.prototype,"popupTemplate",void 0),t([i()],$.prototype,"scaleFactor",void 0),t([i({types:Se})],$.prototype,"symbol",void 0),t([i({readOnly:!0,json:{read:!1}})],$.prototype,"type",void 0),$=ot=t([B("esri.rest.support.PolygonBarrier")],$);var st,ve;let x=(ve=class extends Q.ClonableMixin(P){constructor(e){super(e),this.barrierType=null,this.costs=null,this.geometry=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.scaleFactor=null,this.symbol=null,this.type="polyline-barrier"}readCosts(e,r){return ie(r.attributes,"Attr_")}static fromGraphic(e){return new st({barrierType:e.attributes.BarrierType!=null?q.fromJSON(e.attributes.BarrierType):null,costs:e.attributes.Costs!=null?Ie(JSON.parse(e.attributes.Costs)):null,geometry:e.geometry,name:e.attributes.Name??null,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,scaleFactor:e.attributes.ScaleFactor??null,symbol:e.symbol})}toGraphic(){const e={ObjectID:this.objectId,BarrierType:this.barrierType?q.toJSON(this.barrierType):null,Costs:this.costs?JSON.stringify(Ce(this.costs)):null,Name:this.name,ScaleFactor:this.scaleFactor};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},st=ve,ve.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"BarrierType",alias:"Barrier Type",type:"esriFieldTypeInteger"},{name:"Costs",alias:"Costs",type:"esriFieldTypeString"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"ScaleFactor",alias:"Scale Factor",type:"esriFieldTypeDouble"}],ve);t([i({type:q.apiValues,json:{read:{source:"attributes.BarrierType",reader:q.read}}})],x.prototype,"barrierType",void 0),t([i()],x.prototype,"costs",void 0),t([v("costs",["attributes"])],x.prototype,"readCosts",null),t([i({type:we,json:{write:!0}})],x.prototype,"geometry",void 0),t([i({json:{name:"attributes.Name"}})],x.prototype,"name",void 0),t([i({json:{name:"attributes.ObjectID"}})],x.prototype,"objectId",void 0),t([i({type:ce})],x.prototype,"popupTemplate",void 0),t([i()],x.prototype,"scaleFactor",void 0),t([i({types:Se})],x.prototype,"symbol",void 0),t([i({readOnly:!0,json:{read:!1}})],x.prototype,"type",void 0),x=st=t([B("esri.rest.support.PolylineBarrier")],x);let V=class extends P{constructor(o){super(o),this.accumulateAttributes=null,this.directionsLanguage=null,this.findBestSequence=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.startTimeIsUTC=null,this.timeWindowsAreUTC=null,this.travelMode=null}readAccumulateAttributes(o){return o==null?null:o.map((e=>z.fromJSON(e)))}writeAccumulateAttributes(o,e,r){o!=null&&o.length&&(e[r]=o.map((s=>z.toJSON(s))))}};t([i({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],V.prototype,"accumulateAttributes",void 0),t([v("accumulateAttributes")],V.prototype,"readAccumulateAttributes",null),t([W("accumulateAttributes")],V.prototype,"writeAccumulateAttributes",null),t([i({type:String,json:{write:!0}})],V.prototype,"directionsLanguage",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"findBestSequence",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"preserveFirstStop",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"preserveLastStop",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"startTimeIsUTC",void 0),t([i({type:Boolean,json:{write:!0}})],V.prototype,"timeWindowsAreUTC",void 0),t([i({type:M,json:{write:!0}})],V.prototype,"travelMode",void 0),V=t([B("esri.rest.support.RouteSettings")],V);var at,Te;let O=(Te=class extends Q.ClonableMixin(P){constructor(e){super(e),this.analysisSettings=null,this.endTime=null,this.endTimeOffset=null,this.firstStopId=null,this.geometry=null,this.lastStopId=null,this.messages=null,this.name=null,this.objectId=null,this.popupTemplate=null,this.startTime=null,this.startTimeOffset=null,this.stopCount=null,this.symbol=null,this.totalCosts=null,this.totalDistance=null,this.totalDuration=null,this.totalLateDuration=null,this.totalViolations=null,this.totalWait=null,this.totalWaitDuration=null,this.type="route-info",this.version="1.0.0"}readEndTime(e,r){return r.attributes.EndTimeUTC!=null?new Date(r.attributes.EndTimeUTC):null}readEndTimeOffset(e,r){return Le(r.attributes.EndTime,r.attributes.EndTimeUTC)}readStartTime(e,r){return r.attributes.StartTimeUTC!=null?new Date(r.attributes.StartTimeUTC):null}readStartTimeOffset(e,r){return Le(r.attributes.StartTime,r.attributes.StartTimeUTC)}readTotalCosts(e,r){return ie(r.attributes,"Total_")}readTotalViolations(e,r){return ie(r.attributes,"TotalViolation_")}readTotalWait(e,r){return ie(r.attributes,"TotalWait_")}static fromGraphic(e){return new at({analysisSettings:e.attributes.AnalysisSettings!=null?V.fromJSON(JSON.parse(e.attributes.AnalysisSettings)):null,endTime:e.attributes.EndTime!=null?new Date(e.attributes.EndTime):null,endTimeOffset:e.attributes.EndUTCOffset??null,geometry:e.geometry,messages:e.attributes.Messages!=null?JSON.parse(e.attributes.Messages):null,name:e.attributes.RouteName,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,startTime:e.attributes.StartTime!=null?new Date(e.attributes.StartTime):null,startTimeOffset:e.attributes.StartUTCOffset??null,symbol:e.symbol,totalCosts:e.attributes.TotalCosts!=null?Ie(JSON.parse(e.attributes.TotalCosts)):null,totalDistance:e.attributes.TotalMeters??null,totalDuration:e.attributes.TotalMinutes??null,totalLateDuration:e.attributes.TotalLateMinutes??null,totalWaitDuration:e.attributes.TotalWaitMinutes??null,version:e.attributes.Version})}toGraphic(){var r,s;const e={ObjectID:this.objectId,AnalysisSettings:this.analysisSettings?JSON.stringify(this.analysisSettings.toJSON()):null,EndTime:((r=this.endTime)==null?void 0:r.getTime())??null,EndUTCOffset:this.endTimeOffset,Messages:this.messages?JSON.stringify(this.messages):null,RouteName:this.name,StartTime:((s=this.startTime)==null?void 0:s.getTime())??null,StartUTCOffset:this.startTimeOffset,TotalCosts:this.totalCosts?JSON.stringify(Ce(this.totalCosts)):null,TotalLateMinutes:this.totalLateDuration,TotalMeters:this.totalDistance,TotalMinutes:this.totalDuration,TotalWaitMinutes:this.totalWaitDuration,Version:this.version};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},at=Te,Te.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"AnalysisSettings",alias:"Analysis Settings",type:"esriFieldTypeString"},{name:"EndTime",alias:"End Time",type:"esriFieldTypeDate"},{name:"EndUTCOffset",alias:"End Time Offset",type:"esriFieldTypeInteger"},{name:"Messages",alias:"Messages",type:"esriFieldTypeString"},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString"},{name:"StartTime",alias:"Start Time",type:"esriFieldTypeDate"},{name:"StartUTCOffset",alias:"Start Time Offset",type:"esriFieldTypeInteger"},{name:"TotalCosts",alias:"Total Costs",type:"esriFieldTypeString"},{name:"TotalLateMinutes",alias:"Total Late Minutes",type:"esriFieldTypeDouble"},{name:"TotalMeters",alias:"Total Meters",type:"esriFieldTypeDouble"},{name:"TotalMinutes",alias:"Total Minutes",type:"esriFieldTypeDouble"},{name:"TotalWaitMinutes",alias:"Total Wait Minutes",type:"esriFieldTypeDouble"},{name:"Version",alias:"Version",type:"esriFieldTypeString"}],Te);t([i()],O.prototype,"analysisSettings",void 0),t([i({type:Date})],O.prototype,"endTime",void 0),t([v("endTime",["attributes.EndTimeUTC"])],O.prototype,"readEndTime",null),t([i()],O.prototype,"endTimeOffset",void 0),t([v("endTimeOffset",["attributes.EndTime","attributes.EndTimeUTC"])],O.prototype,"readEndTimeOffset",null),t([i({json:{read:{source:"attributes.FirstStopID"}}})],O.prototype,"firstStopId",void 0),t([i({type:we})],O.prototype,"geometry",void 0),t([i({json:{read:{source:"attributes.LastStopID"}}})],O.prototype,"lastStopId",void 0),t([i()],O.prototype,"messages",void 0),t([i({json:{read:{source:"attributes.Name"}}})],O.prototype,"name",void 0),t([i({json:{read:{source:"attributes.ObjectID"}}})],O.prototype,"objectId",void 0),t([i({type:ce})],O.prototype,"popupTemplate",void 0),t([i({type:Date})],O.prototype,"startTime",void 0),t([v("startTime",["attributes.StartTimeUTC"])],O.prototype,"readStartTime",null),t([i()],O.prototype,"startTimeOffset",void 0),t([v("startTimeOffset",["attributes.StartTime","attributes.StartTimeUTC"])],O.prototype,"readStartTimeOffset",null),t([i({json:{read:{source:"attributes.StopCount"}}})],O.prototype,"stopCount",void 0),t([i({types:Se})],O.prototype,"symbol",void 0),t([i()],O.prototype,"totalCosts",void 0),t([v("totalCosts",["attributes"])],O.prototype,"readTotalCosts",null),t([i()],O.prototype,"totalDistance",void 0),t([i()],O.prototype,"totalDuration",void 0),t([i()],O.prototype,"totalLateDuration",void 0),t([i()],O.prototype,"totalViolations",void 0),t([v("totalViolations",["attributes"])],O.prototype,"readTotalViolations",null),t([i()],O.prototype,"totalWait",void 0),t([v("totalWait",["attributes"])],O.prototype,"readTotalWait",null),t([i()],O.prototype,"totalWaitDuration",void 0),t([i({readOnly:!0,json:{read:!1}})],O.prototype,"type",void 0),t([i()],O.prototype,"version",void 0),O=at=t([B("esri.rest.support.RouteInfo")],O);let ee=class extends Q.ClonableMixin(P){constructor(o){super(o),this.doNotLocateOnRestrictedElements=null,this.geometry=null,this.geometryType=null,this.name=null,this.spatialRelationship=null,this.type="layer",this.where=null}};t([i({type:Boolean,json:{write:!0}})],ee.prototype,"doNotLocateOnRestrictedElements",void 0),t([i({types:_t,json:{read:kt,write:!0}})],ee.prototype,"geometry",void 0),t([L(br)],ee.prototype,"geometryType",void 0),t([i({type:String,json:{name:"layerName",write:!0}})],ee.prototype,"name",void 0),t([L(vr,{name:"spatialRel"})],ee.prototype,"spatialRelationship",void 0),t([i({type:String,json:{write:!0}})],ee.prototype,"type",void 0),t([i({type:String,json:{write:!0}})],ee.prototype,"where",void 0),ee=t([B("esri.rest.support.DataLayer")],ee);var nt,Oe;let We=(Oe=class extends re{constructor(e){super(e),this.doNotLocateOnRestrictedElements=null}clone(){return new nt({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements,...this.cloneProperties()})}},nt=Oe,Oe);t([i({type:Boolean,json:{write:!0}})],We.prototype,"doNotLocateOnRestrictedElements",void 0),We=nt=t([B("esri.rest.support.NetworkFeatureSet")],We);let Ae=class extends Q.ClonableMixin(P){constructor(o){super(o),this.doNotLocateOnRestrictedElements=null,this.url=null}};t([i({type:Boolean,json:{write:!0}})],Ae.prototype,"doNotLocateOnRestrictedElements",void 0),t([i({type:String,json:{write:!0}})],Ae.prototype,"url",void 0),Ae=t([B("esri.rest.support.NetworkUrl")],Ae);var lt,De;let u=(De=class extends Q.ClonableMixin(P){constructor(e){super(e),this.accumulateAttributes=null,this.apiKey=null,this.attributeParameterValues=null,this.checksum=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsOutputType=null,this.directionsStyleName=null,this.directionsTimeAttribute=null,this.findBestSequence=null,this.geometryPrecision=null,this.geometryPrecisionM=null,this.geometryPrecisionZ=null,this.ignoreInvalidLocations=null,this.impedanceAttribute=null,this.outputGeometryPrecision=null,this.outputGeometryPrecisionUnits=null,this.outputLines="true-shape",this.outSpatialReference=null,this.overrides=null,this.pointBarriers=null,this.polygonBarriers=null,this.polylineBarriers=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.preserveObjectID=null,this.restrictionAttributes=null,this.restrictUTurns=null,this.returnBarriers=!1,this.returnDirections=!1,this.returnPolygonBarriers=!1,this.returnPolylineBarriers=!1,this.returnRoutes=!0,this.returnStops=!1,this.returnTraversedEdges=null,this.returnTraversedJunctions=null,this.returnTraversedTurns=null,this.returnZ=!0,this.startTime=null,this.startTimeIsUTC=!0,this.stops=null,this.timeWindowsAreUTC=null,this.travelMode=null,this.useHierarchy=null,this.useTimeWindows=null}static from(e){return Vt(lt,e)}readAccumulateAttributes(e){return e==null?null:e.map((r=>z.fromJSON(r)))}writeAccumulateAttributes(e,r,s){e!=null&&e.length&&(r[s]=e.map((a=>z.toJSON(a))))}writePointBarriers(e,r,s){Je(e,r,s)}writePolygonBarrier(e,r,s){Je(e,r,s)}writePolylineBarrier(e,r,s){Je(e,r,s)}readRestrictionAttributes(e){return e==null?null:e.map((r=>_e.fromJSON(r)))}writeRestrictionAttributes(e,r,s){e!=null&&e.length&&(r[s]=e.map((a=>_e.toJSON(a))))}readStartTime(e,r){const{startTime:s}=r;return s==null?null:s==="now"?"now":new Date(s)}writeStartTime(e,r){e!=null&&(r.startTime=e==="now"?"now":e.getTime())}readStops(e,r){return Gr(r.stops)}writeStops(e,r,s){Je(e,r,s)}},lt=De,De);function Wr(o){return o&&"type"in o}function kr(o){return o&&"features"in o&&"doNotLocateOnRestrictedElements"in o}function _r(o){return o&&"url"in o}function Vr(o){return o&&"features"in o}function Gr(o){return Wr(o)?ee.fromJSON(o):_r(o)?Ae.fromJSON(o):kr(o)?We.fromJSON(o):Vr(o)?re.fromJSON(o):null}function Je(o,e,r){o!=null&&(e[r]=k.isCollection(o)?{features:o.toArray().map((s=>s.toJSON()))}:o.toJSON())}t([i({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],u.prototype,"accumulateAttributes",void 0),t([v("accumulateAttributes")],u.prototype,"readAccumulateAttributes",null),t([W("accumulateAttributes")],u.prototype,"writeAccumulateAttributes",null),t([i(Nr)],u.prototype,"apiKey",void 0),t([i({json:{write:!0}})],u.prototype,"attributeParameterValues",void 0),t([i({type:String,json:{write:!0}})],u.prototype,"checksum",void 0),t([i({type:String,json:{write:!0}})],u.prototype,"directionsLanguage",void 0),t([L(Mt)],u.prototype,"directionsLengthUnits",void 0),t([L(Tr)],u.prototype,"directionsOutputType",void 0),t([L(gr)],u.prototype,"directionsStyleName",void 0),t([L(ze,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],u.prototype,"directionsTimeAttribute",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"findBestSequence",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"geometryPrecision",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"geometryPrecisionM",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"geometryPrecisionZ",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"ignoreInvalidLocations",void 0),t([L(z,{name:"impedanceAttributeName",ignoreUnknown:!1})],u.prototype,"impedanceAttribute",void 0),t([i({type:Number,json:{write:!0}})],u.prototype,"outputGeometryPrecision",void 0),t([L(Ft)],u.prototype,"outputGeometryPrecisionUnits",void 0),t([L(wr)],u.prototype,"outputLines",void 0),t([i({type:ae,json:{name:"outSR",write:!0}})],u.prototype,"outSpatialReference",void 0),t([i({json:{write:!0}})],u.prototype,"overrides",void 0),t([i({json:{name:"barriers",write:!0}})],u.prototype,"pointBarriers",void 0),t([W("pointBarriers")],u.prototype,"writePointBarriers",null),t([i({json:{write:!0}})],u.prototype,"polygonBarriers",void 0),t([W("polygonBarriers")],u.prototype,"writePolygonBarrier",null),t([i({json:{write:!0}})],u.prototype,"polylineBarriers",void 0),t([W("polylineBarriers")],u.prototype,"writePolylineBarrier",null),t([i({type:Boolean,json:{write:!0}})],u.prototype,"preserveFirstStop",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"preserveLastStop",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"preserveObjectID",void 0),t([i({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],u.prototype,"restrictionAttributes",void 0),t([v("restrictionAttributes")],u.prototype,"readRestrictionAttributes",null),t([W("restrictionAttributes")],u.prototype,"writeRestrictionAttributes",null),t([L(Lt)],u.prototype,"restrictUTurns",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnBarriers",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnDirections",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnPolygonBarriers",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnPolylineBarriers",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnRoutes",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnStops",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnTraversedEdges",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnTraversedJunctions",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnTraversedTurns",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"returnZ",void 0),t([i({json:{write:!0}})],u.prototype,"startTime",void 0),t([v("startTime")],u.prototype,"readStartTime",null),t([W("startTime")],u.prototype,"writeStartTime",null),t([i({type:Boolean,json:{write:!0}})],u.prototype,"startTimeIsUTC",void 0),t([i({json:{write:!0}})],u.prototype,"stops",void 0),t([v("stops")],u.prototype,"readStops",null),t([W("stops")],u.prototype,"writeStops",null),t([i({type:Boolean,json:{write:!0}})],u.prototype,"timeWindowsAreUTC",void 0),t([i({type:M,json:{write:!0}})],u.prototype,"travelMode",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"useHierarchy",void 0),t([i({type:Boolean,json:{write:!0}})],u.prototype,"useTimeWindows",void 0),u=lt=t([B("esri.rest.support.RouteParameters")],u);var ut,ge;let c=(ge=class extends Q.ClonableMixin(P){constructor(e){super(e),this.arriveCurbApproach=null,this.arriveTime=null,this.arriveTimeOffset=null,this.bearing=null,this.bearingTol=null,this.cumulativeCosts=null,this.cumulativeDistance=null,this.cumulativeDuration=null,this.curbApproach=null,this.departCurbApproach=null,this.departTime=null,this.departTimeOffset=null,this.distanceToNetworkInMeters=null,this.geometry=null,this.lateDuration=null,this.locationType=null,this.name=null,this.navLatency=null,this.objectId=null,this.popupTemplate=null,this.posAlong=null,this.routeName=null,this.serviceCosts=null,this.serviceDistance=null,this.serviceDuration=null,this.sequence=null,this.sideOfEdge=null,this.snapX=null,this.snapY=null,this.snapZ=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.timeWindowEnd=null,this.timeWindowEndOffset=null,this.timeWindowStart=null,this.timeWindowStartOffset=null,this.type="stop",this.violations=null,this.waitDuration=null,this.wait=null}readArriveTimeOffset(e,r){return Le(r.attributes.ArriveTime,r.attributes.ArriveTimeUTC)}readCumulativeCosts(e,r){return ie(r.attributes,"Cumul_")}readDepartTimeOffset(e,r){return Le(r.attributes.DepartTime,r.attributes.DepartTimeUTC)}readServiceCosts(e,r){return ie(r.attributes,"Attr_")}writeServiceCosts(e,r){ct(e,r,"Attr_")}writeTimeWindowEnd(e,r){e!=null&&(r.attributes||(r.attributes={}),r.attributes.TimeWindowEnd=e.getTime())}writeTimeWindowStart(e,r){e!=null&&(r.attributes||(r.attributes={}),r.attributes.TimeWindowStart=e.getTime())}readViolations(e,r){return ie(r.attributes,"Violation_")}readWait(e,r){return ie(r.attributes,"Wait_")}static fromGraphic(e){return new ut({arriveCurbApproach:e.attributes.ArrivalCurbApproach!=null?U.fromJSON(e.attributes.ArrivalCurbApproach):null,arriveTime:e.attributes.ArrivalTime!=null?new Date(e.attributes.ArrivalTime):null,arriveTimeOffset:e.attributes.ArrivalUTCOffset,cumulativeCosts:e.attributes.CumulativeCosts!=null?Ie(JSON.parse(e.attributes.CumulativeCosts)):null,cumulativeDistance:e.attributes.CumulativeMeters??null,cumulativeDuration:e.attributes.CumulativeMinutes??null,curbApproach:e.attributes.CurbApproach!=null?U.fromJSON(e.attributes.CurbApproach):null,departCurbApproach:e.attributes.DepartureCurbApproach!=null?U.fromJSON(e.attributes.DepartureCurbApproach):null,departTime:e.attributes.DepartureTime!=null?new Date(e.attributes.DepartureTime):null,departTimeOffset:e.attributes.DepartureUTCOffset??null,geometry:e.geometry,lateDuration:e.attributes.LateMinutes??null,locationType:e.attributes.LocationType!=null?Fe.fromJSON(e.attributes.LocationType):null,name:e.attributes.Name,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,routeName:e.attributes.RouteName,sequence:e.attributes.Sequence??null,serviceCosts:e.attributes.ServiceCosts!=null?Ie(JSON.parse(e.attributes.ServiceCosts)):null,serviceDistance:e.attributes.ServiceMeters??null,serviceDuration:e.attributes.ServiceMinutes??null,status:e.attributes.Status!=null?pe.fromJSON(e.attributes.Status):null,symbol:e.symbol,timeWindowEnd:e.attributes.TimeWindowEnd!=null?new Date(e.attributes.TimeWindowEnd):null,timeWindowEndOffset:e.attributes.TimeWindowEndUTCOffset??null,timeWindowStart:e.attributes.TimeWindowStart!=null?new Date(e.attributes.TimeWindowStart):null,timeWindowStartOffset:e.attributes.TimeWindowStartUTCOffset??null,waitDuration:e.attributes.WaitMinutes??null})}toGraphic(){var r,s,a,n;const e={ObjectID:this.objectId,ArrivalCurbApproach:this.arriveCurbApproach?U.toJSON(this.arriveCurbApproach):null,ArrivalTime:((r=this.arriveTime)==null?void 0:r.getTime())??null,ArrivalUTCOffset:this.arriveTimeOffset,CumulativeCosts:this.cumulativeCosts?JSON.stringify(Ce(this.cumulativeCosts)):null,CumulativeMeters:this.cumulativeDistance,CumulativeMinutes:this.cumulativeDuration,CurbApproach:this.curbApproach?U.toJSON(this.curbApproach):null,DepartureCurbApproach:this.departCurbApproach?U.toJSON(this.departCurbApproach):null,DepartureTime:((s=this.departTime)==null?void 0:s.getTime())??null,DepartureUTCOffset:this.departTimeOffset,LateMinutes:this.lateDuration,LocationType:this.locationType?Fe.toJSON(this.locationType):null,Name:this.name,RouteName:this.routeName,Sequence:this.sequence,ServiceCosts:this.serviceCosts?JSON.stringify(Ce(this.serviceCosts)):null,ServiceMeters:this.serviceDistance,ServiceMinutes:this.serviceDuration,Status:this.status?pe.toJSON(this.status):null,TimeWindowEnd:((a=this.timeWindowEnd)==null?void 0:a.getTime())??null,TimeWindowEndUTCOffset:this.timeWindowEndOffset??this.arriveTimeOffset,TimeWindowStart:((n=this.timeWindowStart)==null?void 0:n.getTime())??null,TimeWindowStartUTCOffset:this.timeWindowStartOffset??this.arriveTimeOffset,WaitMinutes:this.waitDuration};return new G({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},ut=ge,ge.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"ArrivalCurbApproach",alias:"Arrival Curb Approach",type:"esriFieldTypeInteger"},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate"},{name:"ArrivalUTCOffset",alias:"Arrival Time",type:"esriFieldTypeInteger"},{name:"CumulativeCosts",alias:"Cumulative Costs",type:"esriFieldTypeString"},{name:"CumulativeMeters",alias:"Cumulative Meters",type:"esriFieldTypeDouble"},{name:"CumulativeMinutes",alias:"Cumulative Minutes",type:"esriFieldTypeDouble"},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureCurbApproach",alias:"Departure Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureTime",alias:"Departure Time",type:"esriFieldTypeDate"},{name:"DepartureUTCOffset",alias:"Departure Time",type:"esriFieldTypeInteger"},{name:"LateMinutes",alias:"Minutes Late",type:"esriFieldTypeDouble"},{name:"LocationType",alias:"Location Type",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString"},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger"},{name:"ServiceCosts",alias:"Service Costs",type:"esriFieldTypeString"},{name:"ServiceMeters",alias:"Service Meters",type:"esriFieldTypeDouble"},{name:"ServiceMinutes",alias:"Service Minutes",type:"esriFieldTypeDouble"},{name:"Status",alias:"Status",type:"esriFieldTypeInteger"},{name:"TimeWindowEnd",alias:"Time Window End",type:"esriFieldTypeDate"},{name:"TimeWindowEndUTCOffset",alias:"Time Window End Offset",type:"esriFieldTypeInteger"},{name:"TimeWindowStart",alias:"Time Window Start",type:"esriFieldTypeDate"},{name:"TimeWindowStartUTCOffset",alias:"Time Window Start Offset",type:"esriFieldTypeInteger"},{name:"WaitMinutes",alias:"Minutes Wait",type:"esriFieldTypeDouble"}],ge);t([i({type:U.apiValues,json:{read:{source:"attributes.ArrivalCurbApproach",reader:U.read}}})],c.prototype,"arriveCurbApproach",void 0),t([i({type:Date,json:{read:{source:"attributes.ArriveTimeUTC"}}})],c.prototype,"arriveTime",void 0),t([i()],c.prototype,"arriveTimeOffset",void 0),t([v("arriveTimeOffset",["attributes.ArriveTime","attributes.ArriveTimeUTC"])],c.prototype,"readArriveTimeOffset",null),t([i({json:{name:"attributes.Bearing",read:!1,write:!0}})],c.prototype,"bearing",void 0),t([i({json:{name:"attributes.BearingTol",read:!1,write:!0}})],c.prototype,"bearingTol",void 0),t([i()],c.prototype,"cumulativeCosts",void 0),t([v("cumulativeCosts",["attributes"])],c.prototype,"readCumulativeCosts",null),t([i()],c.prototype,"cumulativeDistance",void 0),t([i()],c.prototype,"cumulativeDuration",void 0),t([i({type:U.apiValues,json:{name:"attributes.CurbApproach",read:{reader:U.read},write:{writer:U.write}}})],c.prototype,"curbApproach",void 0),t([i({type:U.apiValues,json:{read:{source:"attributes.DepartCurbApproach",reader:U.read}}})],c.prototype,"departCurbApproach",void 0),t([i({type:Date,json:{read:{source:"attributes.DepartTimeUTC"}}})],c.prototype,"departTime",void 0),t([i()],c.prototype,"departTimeOffset",void 0),t([v("departTimeOffset",["attributes.DepartTime","attributes.DepartTimeUTC"])],c.prototype,"readDepartTimeOffset",null),t([i({json:{read:{source:"attributes.DistanceToNetworkInMeters"}}})],c.prototype,"distanceToNetworkInMeters",void 0),t([i({type:Me,json:{write:!0}})],c.prototype,"geometry",void 0),t([i()],c.prototype,"lateDuration",void 0),t([i({type:Fe.apiValues,json:{name:"attributes.LocationType",read:{reader:Fe.read},write:{writer:Fe.write}}})],c.prototype,"locationType",void 0),t([i({json:{name:"attributes.Name"}})],c.prototype,"name",void 0),t([i({json:{name:"attributes.NavLatency",read:!1,write:!0}})],c.prototype,"navLatency",void 0),t([i({json:{name:"attributes.ObjectID"}})],c.prototype,"objectId",void 0),t([i({type:ce})],c.prototype,"popupTemplate",void 0),t([i({json:{read:{source:"attributes.PosAlong"}}})],c.prototype,"posAlong",void 0),t([i({json:{name:"attributes.RouteName"}})],c.prototype,"routeName",void 0),t([i()],c.prototype,"serviceCosts",void 0),t([v("serviceCosts",["attributes"])],c.prototype,"readServiceCosts",null),t([W("serviceCosts")],c.prototype,"writeServiceCosts",null),t([i()],c.prototype,"serviceDistance",void 0),t([i()],c.prototype,"serviceDuration",void 0),t([i({json:{name:"attributes.Sequence"}})],c.prototype,"sequence",void 0),t([i({type:qe.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:qe.read}}})],c.prototype,"sideOfEdge",void 0),t([i({json:{read:{source:"attributes.SnapX"}}})],c.prototype,"snapX",void 0),t([i({json:{read:{source:"attributes.SnapY"}}})],c.prototype,"snapY",void 0),t([i({json:{read:{source:"attributes.SnapZ"}}})],c.prototype,"snapZ",void 0),t([i({json:{read:{source:"attributes.SourceID"}}})],c.prototype,"sourceId",void 0),t([i({json:{read:{source:"attributes.SourceOID"}}})],c.prototype,"sourceOid",void 0),t([i({type:pe.apiValues,json:{read:{source:"attributes.Status",reader:pe.read}}})],c.prototype,"status",void 0),t([i({types:Se})],c.prototype,"symbol",void 0),t([i({type:Date,json:{name:"attributes.TimeWindowEnd"}})],c.prototype,"timeWindowEnd",void 0),t([W("timeWindowEnd")],c.prototype,"writeTimeWindowEnd",null),t([i()],c.prototype,"timeWindowEndOffset",void 0),t([i({type:Date,json:{name:"attributes.TimeWindowStart"}})],c.prototype,"timeWindowStart",void 0),t([W("timeWindowStart")],c.prototype,"writeTimeWindowStart",null),t([i()],c.prototype,"timeWindowStartOffset",void 0),t([i({readOnly:!0,json:{read:!1}})],c.prototype,"type",void 0),t([i()],c.prototype,"violations",void 0),t([v("violations",["attributes"])],c.prototype,"readViolations",null),t([i()],c.prototype,"waitDuration",void 0),t([i()],c.prototype,"wait",void 0),t([v("wait",["attributes"])],c.prototype,"readWait",null),c=ut=t([B("esri.rest.support.Stop")],c);function $e(o){if(!o.length)return;const e=o.toArray(),r=e.map((({objectId:a})=>a)).filter((a=>a!=null));let s=Math.max(...r,0);for(const a of e)a.objectId==null&&(a.objectId=++s)}function Ee(o,e){return!!o.length&&o.length===e.length&&St(o)&&St(e)}function St(o){return o.every((({objectId:e})=>e!=null))}function He(o){return o.length?o:null}function pt(o){switch(o){case"esriGeometryPoint":return{type:"esriSMS",style:"esriSMSCircle",size:12,color:[0,0,0,0],outline:pt("esriGeometryPolyline")};case"esriGeometryPolyline":return{type:"esriSLS",style:"esriSLSSolid",width:1,color:[0,0,0,0]};case"esriGeometryPolygon":return{type:"esriSFS",style:"esriSFSNull",outline:pt("esriGeometryPolyline")}}}function xe(o){return"layers"in o}function qr(o){return o.declaredClass==="esri.rest.support.FeatureSet"}function zr(o){return o.declaredClass==="esri.rest.support.NetworkFeatureSet"}function Zr(o,e){for(const r of o){const s=e.find((a=>a.objectId===r.objectId));s&&(s.addedCost=r.addedCost,s.barrierType=r.barrierType,s.costs=r.costs,s.curbApproach=r.curbApproach,s.fullEdge=r.fullEdge,s.geometry=r.geometry,s.name=r.name,s.sideOfEdge=r.sideOfEdge,s.sourceId=r.sourceId,s.sourceOid=r.sourceOid,s.status=r.status,s.symbol=r.symbol)}}function Xr(o,e){for(const r of o){const s=e.find((a=>a.objectId===r.objectId));s&&(s.barrierType=r.barrierType,s.costs=r.costs,s.geometry=r.geometry,s.name=r.name,s.scaleFactor=r.scaleFactor,s.symbol=r.symbol)}}function Yr(o,e){for(const r of o){const s=e.find((a=>a.objectId===r.objectId));s&&(s.barrierType=r.barrierType,s.costs=r.costs,s.geometry=r.geometry,s.name=r.name,s.scaleFactor=r.scaleFactor,s.symbol=r.symbol)}}function Hr(o,e){for(const r of o){const s=e.find((a=>a.objectId===r.objectId));s&&(s.arriveCurbApproach=r.arriveCurbApproach,s.arriveTime=r.arriveTime,s.arriveTimeOffset=r.arriveTimeOffset,s.cumulativeCosts=r.cumulativeCosts,s.cumulativeDistance=r.cumulativeDistance,s.cumulativeDuration=r.cumulativeDuration,s.curbApproach=r.curbApproach,s.departCurbApproach=r.departCurbApproach,s.departTime=r.departTime,s.departTimeOffset=r.departTimeOffset,s.distanceToNetworkInMeters=r.distanceToNetworkInMeters,s.geometry=r.geometry,s.lateDuration=r.lateDuration,s.name=r.name,s.navLatency=r.navLatency,s.posAlong=r.posAlong,s.routeName=r.routeName,s.serviceCosts=r.serviceCosts,s.serviceDistance=r.serviceDistance,s.serviceDuration=r.serviceDuration,s.sequence=r.sequence,s.sideOfEdge=r.sideOfEdge,s.snapX=r.snapX,s.snapY=r.snapY,s.snapZ=r.snapZ,s.sourceId=r.sourceId,s.sourceOid=r.sourceOid,s.status=r.status,s.symbol=r.symbol,s.timeWindowEnd=r.timeWindowEnd,s.timeWindowStart=r.timeWindowStart,s.violations=r.violations,s.waitDuration=r.waitDuration,s.wait=r.wait)}}async function Nt(o){const e=ae.WGS84;return await nr(o.spatialReference,e),ar(o,e)}function de(o,e){switch(e){case"seconds":return o/60;case"hours":return 60*o;case"days":return 60*o*24;default:return o}}function Ke(o,e){return e==="decimal-degrees"||e==="points"||e==="unknown"?o:lr(o,e,"meters")}function Kr(o){const{attributes:e,geometry:r,popupTemplate:s,symbol:a}=o.toGraphic().toJSON();return{attributes:e,geometry:r,popupInfo:s,symbol:a}}const Qr=k.ofType(E),ei=k.ofType(A),Ot=k.ofType(F),Dt=k.ofType($),It=k.ofType(x),Ct=k.ofType(c);let S=class extends Gt(qt(zt(Zt(Xt(ur))))){constructor(o){super(o),this._cachedServiceDescription=null,this._featureCollection=null,this._type="Feature Collection",this.checksum=null,this.defaultSymbols=new K,this.directionLines=null,this.directionPoints=null,this.featureCollectionType="route",this.legendEnabled=!1,this.maxScale=0,this.minScale=0,this.pointBarriers=new Ot,this.polygonBarriers=new Dt,this.polylineBarriers=new It,this.routeInfo=null,this.spatialReference=ae.WGS84,this.stops=new Ct,this.type="route";const e=()=>{this._setStopSymbol(this.stops)};this.addHandles(Yt((()=>this.stops),"change",e,{sync:!0,onListenerAdd:e}))}writeFeatureCollectionWebmap(o,e,r,s){const a=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((d=>!!d)),n=a.map(((d,g)=>g)),l=s.origin==="web-map"?"featureCollection.layers":"layers";Ht(l,a,e),e.opacity=this.opacity,e.visibility=this.visible,e.visibleLayers=n}readDirectionLines(o,e){return this._getNetworkFeatures(e,"DirectionLines",(r=>E.fromGraphic(r)))}readDirectionPoints(o,e){return this._getNetworkFeatures(e,"DirectionPoints",(r=>A.fromGraphic(r)))}get fullExtent(){var a;const o=new jt({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:ae.WGS84});if(((a=this.routeInfo)==null?void 0:a.geometry)!=null)return this.routeInfo.geometry.extent??o;if(this.stops==null)return o;const e=this.stops.filter((n=>n.geometry!=null));if(e.length<2)return o;const{spatialReference:r}=e.at(0).geometry;if(r==null)return o;const s=e.toArray().map((n=>{const l=n.geometry;return[l.x,l.y]}));return new Kt({points:s,spatialReference:r}).extent}readMaxScale(o,e){var a;const r=xe(e)?e.layers:(a=e.featureCollection)==null?void 0:a.layers,s=r==null?void 0:r.find((n=>n.layerDefinition.maxScale!=null));return(s==null?void 0:s.layerDefinition.maxScale)??0}readMinScale(o,e){var a;const r=xe(e)?e.layers:(a=e.featureCollection)==null?void 0:a.layers,s=r==null?void 0:r.find((n=>n.layerDefinition.minScale!=null));return(s==null?void 0:s.layerDefinition.minScale)??0}readPointBarriers(o,e){return this._getNetworkFeatures(e,"Barriers",(r=>F.fromGraphic(r)))}readPolygonBarriers(o,e){return this._getNetworkFeatures(e,"PolygonBarriers",(r=>$.fromGraphic(r)))}readPolylineBarriers(o,e){return this._getNetworkFeatures(e,"PolylineBarriers",(r=>x.fromGraphic(r)))}readRouteInfo(o,e){return this._getNetworkFeatures(e,"RouteInfo",(r=>O.fromGraphic(r))).at(0)??null}readSpatialReference(o,e){var d,g;const r=xe(e)?e.layers:(d=e.featureCollection)==null?void 0:d.layers;if(!(r!=null&&r.length))return ae.WGS84;const{layerDefinition:s,featureSet:a}=r[0],n=a.features[0],l=((g=n==null?void 0:n.geometry)==null?void 0:g.spatialReference)??a.spatialReference??s.spatialReference??s.extent.spatialReference??Tt;return ae.fromJSON(l)}readStops(o,e){return this._getNetworkFeatures(e,"Stops",(r=>c.fromGraphic(r)),(r=>this._setStopSymbol(r)))}get title(){var o;return((o=this.routeInfo)==null?void 0:o.name)??"Route"}set title(o){this._overrideIfSome("title",o)}get url(){return gt.routeServiceUrl}set url(o){o!=null?this._set("url",Qt(o,Qe.getLogger(this))):this._set("url",gt.routeServiceUrl)}load(o){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},o)),Promise.resolve(this)}removeAll(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}removeResult(){this.directionLines!=null&&(this.directionLines.removeAll(),this._set("directionLines",null)),this.directionPoints!=null&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),this.routeInfo!=null&&this._set("routeInfo",null)}async save(){await this.load();const{fullExtent:o,portalItem:e}=this;if(!e)throw new Y("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");if(!e.id)throw new Y("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");if(e.type!=="Feature Collection")throw new Y("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');if(!this.routeInfo)throw new Y("routelayer:route-unsolved","save() requires a solved route");const{portal:r}=e;await r.signIn(),r.user||await e.reload();const{itemUrl:s,itemControl:a}=e;if(a!=="admin"&&a!=="update")throw new Y("routelayer:insufficient-permissions","To save this layer, you need to be the owner or an administrator of your organization");const n={messages:[],origin:"portal-item",portal:r,url:s?er(s):void 0,writtenProperties:[]},l=this.write(void 0,n);return e.extent=await Nt(o),e.title=this.title,await e.update({data:l}),e}async saveAs(o,e={}){if(await this.load(),this.routeInfo==null)throw new Y("routelayer:route-unsolved","saveAs() requires a solved route");const r=tr.from(o).clone();r.extent??(r.extent=await Nt(this.fullExtent)),r.id=null,r.portal??(r.portal=rr.getDefault()),r.title??(r.title=this.title),r.type="Feature Collection",r.typeKeywords=["Data","Feature Collection",ir.MULTI_LAYER,"Route Layer"];const{portal:s}=r,a={messages:[],origin:"portal-item",portal:s,url:null,writtenProperties:[]};await s.signIn();const n=e==null?void 0:e.folder,l=this.write(void 0,a);return await s.user.addItem({item:r,folder:n,data:l}),this.portalItem=r,pr(a),a.portalItem=r,r}async solve(o,e){$e(this.stops),$e(this.pointBarriers),$e(this.polylineBarriers),$e(this.polygonBarriers);const r=(o==null?void 0:o.stops)??this.stops,s=(o==null?void 0:o.pointBarriers)??He(this.pointBarriers),a=(o==null?void 0:o.polylineBarriers)??He(this.polylineBarriers),n=(o==null?void 0:o.polygonBarriers)??He(this.polygonBarriers);if(r==null)throw new Y("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");if((qr(r)||zr(r))&&r.features.length<2||k.isCollection(r)&&r.length<2)throw new Y("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");if(k.isCollection(r))for(const h of r)h.routeName=null;const l=o==null?void 0:o.apiKey,{checksum:d,url:g}=this,j=await this._getServiceDescription(g,l,e),f=(o==null?void 0:o.travelMode)??j.defaultTravelMode,y=(o==null?void 0:o.accumulateAttributes)??[];f&&(y.push(f.distanceAttributeName),f.timeAttributeName&&y.push(f.timeAttributeName));const C={accumulateAttributes:y,checksum:d,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:s,polylineBarriers:a,polygonBarriers:n,preserveObjectID:!0,returnBarriers:!!s,returnDirections:!0,returnPolygonBarriers:!!n,returnPolylineBarriers:!!a,returnRoutes:!0,returnStops:!0,stops:r},D=u.from(o??{});let w;D.set(C);try{w=await xr(g,D,e)}catch(h){throw or(h)?h:new Y("routelayer:failed-route-request","the routing request failed",{error:h})}const I=this._toRouteLayerSolution(w);return this._isOverridden("title")||(this.title=I.routeInfo.name??"Route"),this._populatePortalFields(I,j,D),I}update(o){const{checksum:e,directionLines:r,directionPoints:s,pointBarriers:a,polygonBarriers:n,polylineBarriers:l,routeInfo:d,stops:g}=o;Ee(g,this.stops)?Hr(g,this.stops):this.set({stops:g}),Ee(a,this.pointBarriers)?Zr(a,this.pointBarriers):this.set({pointBarriers:a}),Ee(l,this.polylineBarriers)?Xr(l,this.polylineBarriers):this.set({polylineBarriers:l}),Ee(n,this.polygonBarriers)?Yr(n,this.polygonBarriers):this.set({polygonBarriers:n}),this.set({checksum:e}),this._set("directionLines",r),this._set("directionPoints",s),this._set("routeInfo",d),d.geometry!=null&&(this.spatialReference=d.geometry.spatialReference)}_getNetworkFeatures(o,e,r,s){var I;const a=xe(o)?o.layers:(I=o.featureCollection)==null?void 0:I.layers,n=a==null?void 0:a.find((h=>h.layerDefinition.name===e));if(n==null)return new k;const{layerDefinition:l,popupInfo:d,featureSet:g}=n,j=l.drawingInfo.renderer,{features:f}=g,y=g.spatialReference??l.spatialReference??l.extent.spatialReference??Tt,C=j&&sr(j),D=ae.fromJSON(y),w=f.map((h=>{const N=G.fromJSON(h);N.geometry!=null&&h.geometry!=null&&h.geometry.spatialReference==null&&(N.geometry.spatialReference=D);const p=r(N);return p.symbol??(p.symbol=(C==null?void 0:C.getSymbol(N))??this._getNetworkSymbol(e)),p.popupTemplate??(p.popupTemplate=d&&ce.fromJSON(d)),p}));return s&&w.some((({symbol:h})=>!h))&&s(w),new k(w)}_getNetworkSymbol(o){switch(o){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}async _getServiceDescription(o,e,r){if(this._cachedServiceDescription!=null&&this._cachedServiceDescription.url===o)return this._cachedServiceDescription.serviceDescription;const s=await Pt(o,e,r);return this._cachedServiceDescription={serviceDescription:s,url:o},s}_setStopSymbol(o){if(!o||!o.length||!this.defaultSymbols.stops||o.every((({symbol:y})=>!!y)))return;const{first:e,last:r,middle:s,unlocated:a,waypoint:n,break:l}=this.defaultSymbols.stops,d=o.map((({sequence:y})=>y)).filter((y=>y!=null)),g=o.length===d.length;if(!this.routeInfo&&!g||o.length===1)return void o.forEach(((y,C)=>{switch(C){case 0:y.symbol=e;break;case o.length-1:y.symbol=r;break;default:y.symbol=s}}));const j=Math.min(...d),f=Math.max(...d);for(const y of o)y.sequence!==j?y.sequence!==f?this.routeInfo&&y.status!=="ok"&&y.status!=="not-located-on-closest"?y.symbol=a:y.locationType!=="waypoint"?y.locationType!=="break"?y.symbol=s:y.symbol=l:y.symbol=n:y.symbol=r:y.symbol=e}_toRouteLayerSolution(o){var y,C,D,w,I,h,N;const{checksum:e,routeResults:r}=o,s=(y=r[0].stops)==null?void 0:y.map((p=>c.fromJSON(p.toJSON())));this._setStopSymbol(s);const a=new Ct(s),n=new Dt((C=o.polygonBarriers)==null?void 0:C.map((p=>{const b=$.fromJSON(p.toJSON());return b.symbol=this.defaultSymbols.polygonBarriers,b}))),l=new It((D=o.polylineBarriers)==null?void 0:D.map((p=>{const b=x.fromJSON(p.toJSON());return b.symbol=this.defaultSymbols.polylineBarriers,b}))),d=new Ot((w=o.pointBarriers)==null?void 0:w.map((p=>{const b=F.fromJSON(p.toJSON());return b.symbol=this.defaultSymbols.pointBarriers,b}))),g=(I=r[0].route)==null?void 0:I.toJSON(),j=O.fromJSON(g);j.symbol=this.defaultSymbols.routeInfo;const f=new ei((h=r[0].directionPoints)==null?void 0:h.features.map((p=>{const b=A.fromJSON(p.toJSON());return b.symbol=this.defaultSymbols.directionPoints,b})));return{checksum:e,directionLines:new Qr((N=r[0].directionLines)==null?void 0:N.features.map((p=>{const b=E.fromJSON(p.toJSON());return b.symbol=this.defaultSymbols.directionLines,b}))),directionPoints:f,pointBarriers:d,polygonBarriers:n,polylineBarriers:l,routeInfo:j,stops:a}}_writeDirectionLines(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,"esriGeometryPolyline",E.fields,"DirectionLines","Direction Lines")}_writeDirectionPoints(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,"esriGeometryPoint",A.fields,"DirectionPoints","Direction Points")}_writeNetworkFeatures(o,e,r,s,a,n){if(!(o!=null&&o.length))return null;const l=this.spatialReference.toJSON(),{fullExtent:d,maxScale:g,minScale:j}=this;return{featureSet:{features:o.toArray().map((f=>Kr(f))),geometryType:r,spatialReference:l},layerDefinition:{capabilities:"Query,Update,Editing",drawingInfo:{renderer:{type:"simple",symbol:e!=null?e.toJSON():pt(r)}},extent:d.toJSON(),fields:s,geometryType:r,hasM:!1,hasZ:!1,maxScale:g,minScale:j,name:a,objectIdField:"ObjectID",spatialReference:l,title:n,type:"Feature Layer",typeIdField:""}}}_writePointBarriers(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,"esriGeometryPoint",F.fields,"Barriers","Point Barriers")}_writePolygonBarriers(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,"esriGeometryPolygon",$.fields,"PolygonBarriers","Polygon Barriers")}_writePolylineBarriers(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,"esriGeometryPolyline",x.fields,"PolylineBarriers","Line Barriers")}_writeRouteInfo(){return this._writeNetworkFeatures(this.routeInfo!=null?new k([this.routeInfo]):null,this.defaultSymbols.routeInfo,"esriGeometryPolyline",O.fields,"RouteInfo","Route Details")}_writeStops(){var n,l,d;const o=this._writeNetworkFeatures(this.stops,null,"esriGeometryPoint",c.fields,"Stops","Stops");if(o==null)return null;const{stops:e}=this.defaultSymbols,r=(n=e==null?void 0:e.first)==null?void 0:n.toJSON(),s=(l=e==null?void 0:e.middle)==null?void 0:l.toJSON(),a=(d=e==null?void 0:e.last)==null?void 0:d.toJSON();return o.layerDefinition.drawingInfo.renderer={type:"uniqueValue",field1:"Sequence",defaultSymbol:s,uniqueValueInfos:[{value:"1",symbol:r,label:"First Stop"},{value:`${this.stops.length}`,symbol:a,label:"Last Stop"}]},o}_populatePortalFields(o,e,r){var dt,yt,mt,ht,ft,bt;const s=(dt=e.networkDataset)==null?void 0:dt.networkAttributes,a=(s==null?void 0:s.filter((({usageType:m})=>m==="cost")))??[],n=r.travelMode??e.defaultTravelMode;if(n==null)return void Qe.getLogger(this).warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");const{timeAttributeName:l,distanceAttributeName:d}=n,g=a.find((({name:m})=>m===l)),j=a.find((({name:m})=>m===d)),f=((yt=r.travelMode)==null?void 0:yt.impedanceAttributeName)??r.impedanceAttribute??e.impedance,y=g==null?void 0:g.units,C=j==null?void 0:j.units;if(!y||!C)throw new Y("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");const D=r.directionsLanguage??e.directionsLanguage,w=r.accumulateAttributes??e.accumulateAttributeNames??[],I=new Set(a.filter((({name:m})=>m===l||m===d||m===f||m!=null&&w.includes(m))).map((({name:m})=>m))),h=m=>{for(const vt in m)I.has(vt)||delete m[vt]};for(const m of o.pointBarriers)m.costs!=null&&(m.addedCost=m.costs[f]??0,h(m.costs));for(const m of o.polygonBarriers)m.costs!=null&&(m.scaleFactor=m.costs[f]??1,h(m.costs));for(const m of o.polylineBarriers)m.costs!=null&&(m.scaleFactor=m.costs[f]??1,h(m.costs));const{routeInfo:N}=o,{findBestSequence:p,preserveFirstStop:b,preserveLastStop:T,startTimeIsUTC:R,timeWindowsAreUTC:oe}=r;N.analysisSettings=new V({accumulateAttributes:w,directionsLanguage:D,findBestSequence:p,preserveFirstStop:b,preserveLastStop:T,startTimeIsUTC:R,timeWindowsAreUTC:oe,travelMode:n}),N.totalDuration=de(((mt=N.totalCosts)==null?void 0:mt[l])??0,y),N.totalDistance=Ke(((ht=N.totalCosts)==null?void 0:ht[d])??0,C),N.totalLateDuration=de(((ft=N.totalViolations)==null?void 0:ft[l])??0,y),N.totalWaitDuration=de(((bt=N.totalWait)==null?void 0:bt[l])??0,y),N.totalCosts!=null&&h(N.totalCosts),N.totalViolations!=null&&h(N.totalViolations),N.totalWait!=null&&h(N.totalWait);for(const m of o.stops)m.serviceCosts!=null&&(m.serviceDuration=de(m.serviceCosts[l]??0,y),m.serviceDistance=Ke(m.serviceCosts[d]??0,C),h(m.serviceCosts)),m.cumulativeCosts!=null&&(m.cumulativeDuration=de(m.cumulativeCosts[l]??0,y),m.cumulativeDistance=Ke(m.cumulativeCosts[d]??0,C),h(m.cumulativeCosts)),m.violations!=null&&(m.lateDuration=de(m.violations[l]??0,y),h(m.violations)),m.wait!=null&&(m.waitDuration=de(m.wait[l]??0,y),h(m.wait))}};t([i({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy(){return{allowNull:!0,ignoreOrigin:this.portalItem==null}}}}}}})],S.prototype,"_featureCollection",void 0),t([W(["web-map","portal-item"],"_featureCollection")],S.prototype,"writeFeatureCollectionWebmap",null),t([i({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy(){return{ignoreOrigin:this.portalItem!=null}}}}}}})],S.prototype,"_type",void 0),t([i({type:String})],S.prototype,"checksum",void 0),t([i({nonNullable:!0,type:K})],S.prototype,"defaultSymbols",void 0),t([i({readOnly:!0})],S.prototype,"directionLines",void 0),t([v(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],S.prototype,"readDirectionLines",null),t([i({readOnly:!0})],S.prototype,"directionPoints",void 0),t([v(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],S.prototype,"readDirectionPoints",null),t([i({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],S.prototype,"featureCollectionType",void 0),t([i({readOnly:!0})],S.prototype,"fullExtent",null),t([i({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],S.prototype,"legendEnabled",void 0),t([i({type:["show","hide"]})],S.prototype,"listMode",void 0),t([i({type:Number,nonNullable:!0,json:{write:!1}})],S.prototype,"maxScale",void 0),t([v(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],S.prototype,"readMaxScale",null),t([i({type:Number,nonNullable:!0,json:{write:!1}})],S.prototype,"minScale",void 0),t([v(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],S.prototype,"readMinScale",null),t([i({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],S.prototype,"operationalLayerType",void 0),t([i({nonNullable:!0,type:k.ofType(F)})],S.prototype,"pointBarriers",void 0),t([v(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],S.prototype,"readPointBarriers",null),t([i({nonNullable:!0,type:k.ofType($)})],S.prototype,"polygonBarriers",void 0),t([v(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],S.prototype,"readPolygonBarriers",null),t([i({nonNullable:!0,type:k.ofType(x)})],S.prototype,"polylineBarriers",void 0),t([v(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],S.prototype,"readPolylineBarriers",null),t([i({readOnly:!0})],S.prototype,"routeInfo",void 0),t([v(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],S.prototype,"readRouteInfo",null),t([i({type:ae})],S.prototype,"spatialReference",void 0),t([v(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],S.prototype,"readSpatialReference",null),t([i({nonNullable:!0,type:k.ofType(c)})],S.prototype,"stops",void 0),t([v(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],S.prototype,"readStops",null),t([i()],S.prototype,"title",null),t([i({readOnly:!0,json:{read:!1}})],S.prototype,"type",void 0),t([i()],S.prototype,"url",null),S=t([B("esri.layers.RouteLayer")],S);const Oi=S;export{Oi as default};

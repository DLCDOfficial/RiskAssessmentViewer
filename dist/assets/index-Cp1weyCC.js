import{g as mi}from"./customElement-CW8_LrXG.js";import{i as pt,L as ht,a as Y,x as G,c as vt,y as ct,D as vr,E as Qe,f as gr,z as es,b as ye,d as ts,A as Ee}from"./IdentityManager-C6sbzPzg.js";import{c as Rt,a as _t,n as xe,e as bi,b as Bt,g as ao,d as so}from"./component-C4aMrbhB.js";import{d as ns,g as is,e as rs,j as co,f as yi,t as lo,q as os,k as as,a as Te,l as mr,m as tn}from"./dom-DCtltayX.js";import{i as he,a as uo}from"./key-1SYfXAnk.js";import{u as fo,I as po,s as ss,i as cs,a as ls}from"./interactive-M0P1TcJY.js";import{g as nn}from"./index-BbP3371Q.js";import{o as ho}from"./openCloseComponent-fHKBRHSH.js";import"./index-DzoQLc5A.js";import"https://js.arcgis.com/map-components/4.33/arcgis-map-components.esm.js";import"./sanitizerUtils-C8BmVxiO.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const br={scrim:"scrim",content:"content"},yr={s:72,l:480},us=pt`:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0 }to{--tw-text-opacity: 1 }}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,xn=class xn extends ht{constructor(){super(...arguments),this.resizeObserver=Rt("resize",()=>this.handleResize()),this.messages=_t(),this.hasContent=!1,this.loading=!1}connectedCallback(){var n;super.connectedCallback(),(n=this.resizeObserver)==null||n.observe(this.el)}disconnectedCallback(){var n;super.disconnectedCallback(),(n=this.resizeObserver)==null||n.disconnect()}handleDefaultSlotChange(n){this.hasContent=ns(n)}storeLoaderEl(n){this.loaderEl=n,this.handleResize()}getScale(n){return n<yr.s?"s":n>=yr.l?"l":"m"}handleResize(){const{loaderEl:n,el:s}=this;n&&(this.loaderScale=this.getScale(Math.min(s.clientHeight,s.clientWidth)??0))}render(){const{hasContent:n,loading:s,messages:l}=this;return G`<div class=${Y(br.scrim)}>${s?G`<calcite-loader .label=${l.loading} .scale=${this.loaderScale} ${xe(this.storeLoaderEl)}></calcite-loader>`:null}<div class=${Y(br.content)} .hidden=${!n}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`}};xn.properties={hasContent:[16,{},{state:!0}],loaderScale:[16,{},{state:!0}],loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}]},xn.styles=us;let ri=xn;vt("calcite-scrim",ri);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Ce={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible",indicatorWithIcon:"indicator-with-icon",indicatorWithoutIcon:"indicator-without-icon"},ds={tooltip:"tooltip"},fs=pt`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;cursor:pointer;background-color:transparent;--calcite-internal-action-text-color: var(--calcite-color-text-3);border-radius:var(--calcite-action-corner-radius, var(--calcite-action-corner-radius-start-start, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-start-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-start, var(--calcite-corner-radius)))}.interaction-container{border-radius:inherit}:host([drag-handle]){cursor:move;--calcite-internal-action-text-color: var(--calcite-color-border-input);--calcite-internal-action-padding-inline: var(--calcite-spacing-xxs)}.button{border-radius:inherit;position:relative;margin:0;display:flex;inline-size:auto;align-items:center;justify-content:flex-start;border-style:none;font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1));color:var(--calcite-action-text-color, var(--calcite-internal-action-text-color));text-align:unset;flex:1 0 auto;cursor:inherit}.button:hover{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)))}.button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.button:active{background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}.icon-container{pointer-events:none;margin:0;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1.5rem}.text-container{margin:0;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:margin;transition-property:inline-size}.text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([active]) .button,:host([active]) .button:hover,:host([active]) .button:focus{color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)));background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}:host([active]) .button:active{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .text-container{opacity:var(--calcite-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-inline-end:0px}:host([appearance=transparent]):host([active]) .button{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}:host([appearance=transparent]) .button:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]) .button:active{background-color:var(--calcite-color-transparent-press)}:host([data-active]) .button{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .button{font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, .5rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xxs))}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:.5rem}:host([scale=m]) .button{font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-md))}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:.75rem}:host([scale=l]) .button{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1.25rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xl))}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}.indicator-with-icon{position:relative}.indicator-with-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-without-icon{margin-inline:.25rem;inline-size:1rem;position:relative}.indicator-without-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color, var(--calcite-action-background-color, var(--calcite-color-foreground-1)))}:host([disabled]):host([active]) .button,:host([disabled]):host([active]) .button:hover,:host([disabled]):host([active]) .button:focus{opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3))))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,wn=class wn extends ht{constructor(){super(...arguments),this.guid=`calcite-action-${mi()}`,this.buttonEl=bi(),this.buttonId=`${this.guid}-button`,this.indicatorId=`${this.guid}-indicator`,this.mutationObserver=Rt("mutation",()=>this.requestUpdate()),this.messages=_t({blocking:!0}),this.active=!1,this.appearance="solid",this.compact=!1,this.disabled=!1,this.dragHandle=!1,this.iconFlipRtl=!1,this.indicator=!1,this.loading=!1,this.scale="m",this.textEnabled=!1}async setFocus(){var n;await Bt(this),(n=this.buttonEl.value)==null||n.focus()}connectedCallback(){var n;super.connectedCallback(),(n=this.mutationObserver)==null||n.observe(this.el,{childList:!0,subtree:!0})}updated(){fo(this)}disconnectedCallback(){var n;super.disconnectedCallback(),(n=this.mutationObserver)==null||n.disconnect()}handleTooltipSlotChange(n){const l=n.target.assignedElements({flatten:!0}).filter(f=>f==null?void 0:f.matches("calcite-tooltip"))[0];l&&(l.referenceElement=this.buttonEl.value)}renderTextContainer(){const{text:n,textEnabled:s}=this,l={[Ce.textContainer]:!0,[Ce.textContainerVisible]:s};return n?he("text-container",G`<div class=${Y(l)}>${n}</div>`):null}renderIndicatorText(){const{indicator:n,messages:s,indicatorId:l,buttonId:f}=this;return G`<div aria-labelledby=${f??ct} aria-live=polite class=${Y(Ce.indicatorText)} id=${l??ct} role=region>${n?s.indicator:null}</div>`}renderIconContainer(){var D;const{loading:n,icon:s,scale:l,el:f,iconFlipRtl:g,indicator:v}=this,b=l==="l"?"l":"m",x=n?G`<calcite-loader inline .label=${this.messages.loading} .scale=${b}></calcite-loader>`:null,E=s?G`<calcite-icon class=${Y({[Ce.indicatorWithIcon]:v})} .flipRtl=${g} .icon=${s} .scale=${ao(this.scale)}></calcite-icon>`:null,$=x||E,O=$||((D=f.children)==null?void 0:D.length),z=G`<div class=${Y({[Ce.slotContainer]:!0,[Ce.slotContainerHidden]:n})}><slot></slot></div>`;return O?he("icon-container",G`<div aria-hidden=true class=${Y(Ce.iconContainer)}>${$}${z}</div>`):null}renderButton(){const{active:n,compact:s,disabled:l,icon:f,loading:g,textEnabled:v,label:b,text:x,indicator:E,indicatorId:$,buttonId:O,messages:z}=this,D=b||x||"",M=E?z.indicatorLabel.replace("{label}",D):D,L={[Ce.button]:!0,[Ce.buttonTextVisible]:v,[Ce.buttonCompact]:s},U=G`${this.renderIconContainer()}${this.renderTextContainer()}${!f&&E&&he("indicator-no-icon",G`<div class=${Y(Ce.indicatorWithoutIcon)}></div>`)||""}`;return this.dragHandle?G`<span aria-controls=${(E?$:null)??ct} .ariaBusy=${g} .ariaDisabled=${this.disabled?this.disabled:null} .ariaLabel=${M} .ariaPressed=${n} class=${Y(L)} id=${O??ct} role=button tabindex=${this.disabled?null:0} ${xe(this.buttonEl)}>${U}</span>`:G`<button aria-controls=${(E?$:null)??ct} .ariaBusy=${g} .ariaLabel=${M} .ariaPressed=${n} class=${Y(L)} .disabled=${l} id=${O??ct} tabindex=${l?null:0} ${xe(this.buttonEl)}>${U}</button>`}render(){return po({disabled:this.disabled,children:G`${this.renderButton()}<slot name=${ds.tooltip} @slotchange=${this.handleTooltipSlotChange}></slot>${this.renderIndicatorText()}`})}};wn.properties={active:[7,{},{reflect:!0,type:Boolean}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],compact:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],dragHandle:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],indicator:[7,{},{reflect:!0,type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],text:1,textEnabled:[7,{},{reflect:!0,type:Boolean}]},wn.styles=fs;let oi=wn;vt("calcite-action",oi);const vo=["top","right","bottom","left"],xr=["start","end"],wr=vo.reduce((a,n)=>a.concat(n,n+"-"+xr[0],n+"-"+xr[1]),[]),dt=Math.min,Je=Math.max,un=Math.round,rn=Math.floor,De=a=>({x:a,y:a}),ps={left:"right",right:"left",bottom:"top",top:"bottom"},hs={start:"end",end:"start"};function ai(a,n,s){return Je(a,dt(n,s))}function nt(a,n){return typeof a=="function"?a(n):a}function Le(a){return a.split("-")[0]}function ze(a){return a.split("-")[1]}function go(a){return a==="x"?"y":"x"}function xi(a){return a==="y"?"height":"width"}const vs=new Set(["top","bottom"]);function Ve(a){return vs.has(Le(a))?"y":"x"}function wi(a){return go(Ve(a))}function mo(a,n,s){s===void 0&&(s=!1);const l=ze(a),f=wi(a),g=xi(f);let v=f==="x"?l===(s?"end":"start")?"right":"left":l==="start"?"bottom":"top";return n.reference[g]>n.floating[g]&&(v=fn(v)),[v,fn(v)]}function gs(a){const n=fn(a);return[dn(a),n,dn(n)]}function dn(a){return a.replace(/start|end/g,n=>hs[n])}const Er=["left","right"],Sr=["right","left"],ms=["top","bottom"],bs=["bottom","top"];function ys(a,n,s){switch(a){case"top":case"bottom":return s?n?Sr:Er:n?Er:Sr;case"left":case"right":return n?ms:bs;default:return[]}}function xs(a,n,s,l){const f=ze(a);let g=ys(Le(a),s==="start",l);return f&&(g=g.map(v=>v+"-"+f),n&&(g=g.concat(g.map(dn)))),g}function fn(a){return a.replace(/left|right|bottom|top/g,n=>ps[n])}function ws(a){return{top:0,right:0,bottom:0,left:0,...a}}function bo(a){return typeof a!="number"?ws(a):{top:a,right:a,bottom:a,left:a}}function pn(a){const{x:n,y:s,width:l,height:f}=a;return{width:l,height:f,top:s,left:n,right:n+l,bottom:s+f,x:n,y:s}}function kr(a,n,s){let{reference:l,floating:f}=a;const g=Ve(n),v=wi(n),b=xi(v),x=Le(n),E=g==="y",$=l.x+l.width/2-f.width/2,O=l.y+l.height/2-f.height/2,z=l[b]/2-f[b]/2;let D;switch(x){case"top":D={x:$,y:l.y-f.height};break;case"bottom":D={x:$,y:l.y+l.height};break;case"right":D={x:l.x+l.width,y:O};break;case"left":D={x:l.x-f.width,y:O};break;default:D={x:l.x,y:l.y}}switch(ze(n)){case"start":D[v]-=z*(s&&E?-1:1);break;case"end":D[v]+=z*(s&&E?-1:1);break}return D}const Es=async(a,n,s)=>{const{placement:l="bottom",strategy:f="absolute",middleware:g=[],platform:v}=s,b=g.filter(Boolean),x=await(v.isRTL==null?void 0:v.isRTL(n));let E=await v.getElementRects({reference:a,floating:n,strategy:f}),{x:$,y:O}=kr(E,l,x),z=l,D={},M=0;for(let L=0;L<b.length;L++){const{name:U,fn:j}=b[L],{x:W,y:re,data:ne,reset:Q}=await j({x:$,y:O,initialPlacement:l,placement:z,strategy:f,middlewareData:D,rects:E,platform:v,elements:{reference:a,floating:n}});$=W??$,O=re??O,D={...D,[U]:{...D[U],...ne}},Q&&M<=50&&(M++,typeof Q=="object"&&(Q.placement&&(z=Q.placement),Q.rects&&(E=Q.rects===!0?await v.getElementRects({reference:a,floating:n,strategy:f}):Q.rects),{x:$,y:O}=kr(E,z,x)),L=-1)}return{x:$,y:O,placement:z,strategy:f,middlewareData:D}};async function It(a,n){var s;n===void 0&&(n={});const{x:l,y:f,platform:g,rects:v,elements:b,strategy:x}=a,{boundary:E="clippingAncestors",rootBoundary:$="viewport",elementContext:O="floating",altBoundary:z=!1,padding:D=0}=nt(n,a),M=bo(D),U=b[z?O==="floating"?"reference":"floating":O],j=pn(await g.getClippingRect({element:(s=await(g.isElement==null?void 0:g.isElement(U)))==null||s?U:U.contextElement||await(g.getDocumentElement==null?void 0:g.getDocumentElement(b.floating)),boundary:E,rootBoundary:$,strategy:x})),W=O==="floating"?{x:l,y:f,width:v.floating.width,height:v.floating.height}:v.reference,re=await(g.getOffsetParent==null?void 0:g.getOffsetParent(b.floating)),ne=await(g.isElement==null?void 0:g.isElement(re))?await(g.getScale==null?void 0:g.getScale(re))||{x:1,y:1}:{x:1,y:1},Q=pn(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:b,rect:W,offsetParent:re,strategy:x}):W);return{top:(j.top-Q.top+M.top)/ne.y,bottom:(Q.bottom-j.bottom+M.bottom)/ne.y,left:(j.left-Q.left+M.left)/ne.x,right:(Q.right-j.right+M.right)/ne.x}}const Ss=a=>({name:"arrow",options:a,async fn(n){const{x:s,y:l,placement:f,rects:g,platform:v,elements:b,middlewareData:x}=n,{element:E,padding:$=0}=nt(a,n)||{};if(E==null)return{};const O=bo($),z={x:s,y:l},D=wi(f),M=xi(D),L=await v.getDimensions(E),U=D==="y",j=U?"top":"left",W=U?"bottom":"right",re=U?"clientHeight":"clientWidth",ne=g.reference[M]+g.reference[D]-z[D]-g.floating[M],Q=z[D]-g.reference[D],ee=await(v.getOffsetParent==null?void 0:v.getOffsetParent(E));let w=ee?ee[re]:0;(!w||!await(v.isElement==null?void 0:v.isElement(ee)))&&(w=b.floating[re]||g.floating[M]);const ue=ne/2-Q/2,fe=w/2-L[M]/2-1,oe=dt(O[j],fe),pe=dt(O[W],fe),V=oe,k=w-L[M]-pe,T=w/2-L[M]/2+ue,F=ai(V,T,k),N=!x.arrow&&ze(f)!=null&&T!==F&&g.reference[M]/2-(T<V?oe:pe)-L[M]/2<0,K=N?T<V?T-V:T-k:0;return{[D]:z[D]+K,data:{[D]:F,centerOffset:T-F-K,...N&&{alignmentOffset:K}},reset:N}}});function ks(a,n,s){return(a?[...s.filter(f=>ze(f)===a),...s.filter(f=>ze(f)!==a)]:s.filter(f=>Le(f)===f)).filter(f=>a?ze(f)===a||(n?dn(f)!==f:!1):!0)}const Ts=function(a){return a===void 0&&(a={}),{name:"autoPlacement",options:a,async fn(n){var s,l,f;const{rects:g,middlewareData:v,placement:b,platform:x,elements:E}=n,{crossAxis:$=!1,alignment:O,allowedPlacements:z=wr,autoAlignment:D=!0,...M}=nt(a,n),L=O!==void 0||z===wr?ks(O||null,D,z):z,U=await It(n,M),j=((s=v.autoPlacement)==null?void 0:s.index)||0,W=L[j];if(W==null)return{};const re=mo(W,g,await(x.isRTL==null?void 0:x.isRTL(E.floating)));if(b!==W)return{reset:{placement:L[0]}};const ne=[U[Le(W)],U[re[0]],U[re[1]]],Q=[...((l=v.autoPlacement)==null?void 0:l.overflows)||[],{placement:W,overflows:ne}],ee=L[j+1];if(ee)return{data:{index:j+1,overflows:Q},reset:{placement:ee}};const w=Q.map(oe=>{const pe=ze(oe.placement);return[oe.placement,pe&&$?oe.overflows.slice(0,2).reduce((V,k)=>V+k,0):oe.overflows[0],oe.overflows]}).sort((oe,pe)=>oe[1]-pe[1]),fe=((f=w.filter(oe=>oe[2].slice(0,ze(oe[0])?2:3).every(pe=>pe<=0))[0])==null?void 0:f[0])||w[0][0];return fe!==b?{data:{index:j+1,overflows:Q},reset:{placement:fe}}:{}}}},Cs=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(n){var s,l;const{placement:f,middlewareData:g,rects:v,initialPlacement:b,platform:x,elements:E}=n,{mainAxis:$=!0,crossAxis:O=!0,fallbackPlacements:z,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:L=!0,...U}=nt(a,n);if((s=g.arrow)!=null&&s.alignmentOffset)return{};const j=Le(f),W=Ve(b),re=Le(b)===b,ne=await(x.isRTL==null?void 0:x.isRTL(E.floating)),Q=z||(re||!L?[fn(b)]:gs(b)),ee=M!=="none";!z&&ee&&Q.push(...xs(b,L,M,ne));const w=[b,...Q],ue=await It(n,U),fe=[];let oe=((l=g.flip)==null?void 0:l.overflows)||[];if($&&fe.push(ue[j]),O){const T=mo(f,v,ne);fe.push(ue[T[0]],ue[T[1]])}if(oe=[...oe,{placement:f,overflows:fe}],!fe.every(T=>T<=0)){var pe,V;const T=(((pe=g.flip)==null?void 0:pe.index)||0)+1,F=w[T];if(F&&(!(O==="alignment"?W!==Ve(F):!1)||oe.every(te=>Ve(te.placement)===W?te.overflows[0]>0:!0)))return{data:{index:T,overflows:oe},reset:{placement:F}};let N=(V=oe.filter(K=>K.overflows[0]<=0).sort((K,te)=>K.overflows[1]-te.overflows[1])[0])==null?void 0:V.placement;if(!N)switch(D){case"bestFit":{var k;const K=(k=oe.filter(te=>{if(ee){const H=Ve(te.placement);return H===W||H==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(H=>H>0).reduce((H,ae)=>H+ae,0)]).sort((te,H)=>te[1]-H[1])[0])==null?void 0:k[0];K&&(N=K);break}case"initialPlacement":N=b;break}if(f!==N)return{reset:{placement:N}}}return{}}}};function Tr(a,n){return{top:a.top-n.height,right:a.right-n.width,bottom:a.bottom-n.height,left:a.left-n.width}}function Cr(a){return vo.some(n=>a[n]>=0)}const Os=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(n){const{rects:s}=n,{strategy:l="referenceHidden",...f}=nt(a,n);switch(l){case"referenceHidden":{const g=await It(n,{...f,elementContext:"reference"}),v=Tr(g,s.reference);return{data:{referenceHiddenOffsets:v,referenceHidden:Cr(v)}}}case"escaped":{const g=await It(n,{...f,altBoundary:!0}),v=Tr(g,s.floating);return{data:{escapedOffsets:v,escaped:Cr(v)}}}default:return{}}}}},Ps=new Set(["left","top"]);async function $s(a,n){const{placement:s,platform:l,elements:f}=a,g=await(l.isRTL==null?void 0:l.isRTL(f.floating)),v=Le(s),b=ze(s),x=Ve(s)==="y",E=Ps.has(v)?-1:1,$=g&&x?-1:1,O=nt(n,a);let{mainAxis:z,crossAxis:D,alignmentAxis:M}=typeof O=="number"?{mainAxis:O,crossAxis:0,alignmentAxis:null}:{mainAxis:O.mainAxis||0,crossAxis:O.crossAxis||0,alignmentAxis:O.alignmentAxis};return b&&typeof M=="number"&&(D=b==="end"?M*-1:M),x?{x:D*$,y:z*E}:{x:z*E,y:D*$}}const As=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(n){var s,l;const{x:f,y:g,placement:v,middlewareData:b}=n,x=await $s(n,a);return v===((s=b.offset)==null?void 0:s.placement)&&(l=b.arrow)!=null&&l.alignmentOffset?{}:{x:f+x.x,y:g+x.y,data:{...x,placement:v}}}}},Ds=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(n){const{x:s,y:l,placement:f}=n,{mainAxis:g=!0,crossAxis:v=!1,limiter:b={fn:U=>{let{x:j,y:W}=U;return{x:j,y:W}}},...x}=nt(a,n),E={x:s,y:l},$=await It(n,x),O=Ve(Le(f)),z=go(O);let D=E[z],M=E[O];if(g){const U=z==="y"?"top":"left",j=z==="y"?"bottom":"right",W=D+$[U],re=D-$[j];D=ai(W,D,re)}if(v){const U=O==="y"?"top":"left",j=O==="y"?"bottom":"right",W=M+$[U],re=M-$[j];M=ai(W,M,re)}const L=b.fn({...n,[z]:D,[O]:M});return{...L,data:{x:L.x-s,y:L.y-l,enabled:{[z]:g,[O]:v}}}}}};function Cn(){return typeof window<"u"}function gt(a){return yo(a)?(a.nodeName||"").toLowerCase():"#document"}function we(a){var n;return(a==null||(n=a.ownerDocument)==null?void 0:n.defaultView)||window}function Me(a){var n;return(n=(yo(a)?a.ownerDocument:a.document)||window.document)==null?void 0:n.documentElement}function yo(a){return Cn()?a instanceof Node||a instanceof we(a).Node:!1}function Pe(a){return Cn()?a instanceof Element||a instanceof we(a).Element:!1}function Ie(a){return Cn()?a instanceof HTMLElement||a instanceof we(a).HTMLElement:!1}function Or(a){return!Cn()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof we(a).ShadowRoot}const zs=new Set(["inline","contents"]);function Nt(a){const{overflow:n,overflowX:s,overflowY:l,display:f}=$e(a);return/auto|scroll|overlay|hidden|clip/.test(n+l+s)&&!zs.has(f)}const Is=new Set(["table","td","th"]);function Ms(a){return Is.has(gt(a))}const Fs=[":popover-open",":modal"];function On(a){return Fs.some(n=>{try{return a.matches(n)}catch{return!1}})}const Rs=["transform","translate","scale","rotate","perspective"],_s=["transform","translate","scale","rotate","perspective","filter"],Bs=["paint","layout","strict","content"];function Pn(a){const n=Ei(),s=Pe(a)?$e(a):a;return Rs.some(l=>s[l]?s[l]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!n&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!n&&(s.filter?s.filter!=="none":!1)||_s.some(l=>(s.willChange||"").includes(l))||Bs.some(l=>(s.contain||"").includes(l))}function Ns(a){let n=qe(a);for(;Ie(n)&&!ft(n);){if(Pn(n))return n;if(On(n))return null;n=qe(n)}return null}function Ei(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ls=new Set(["html","body","#document"]);function ft(a){return Ls.has(gt(a))}function $e(a){return we(a).getComputedStyle(a)}function $n(a){return Pe(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function qe(a){if(gt(a)==="html")return a;const n=a.assignedSlot||a.parentNode||Or(a)&&a.host||Me(a);return Or(n)?n.host:n}function xo(a){const n=qe(a);return ft(n)?a.ownerDocument?a.ownerDocument.body:a.body:Ie(n)&&Nt(n)?n:xo(n)}function Mt(a,n,s){var l;n===void 0&&(n=[]),s===void 0&&(s=!0);const f=xo(a),g=f===((l=a.ownerDocument)==null?void 0:l.body),v=we(f);if(g){const b=si(v);return n.concat(v,v.visualViewport||[],Nt(f)?f:[],b&&s?Mt(b):[])}return n.concat(f,Mt(f,[],s))}function si(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function wo(a){const n=$e(a);let s=parseFloat(n.width)||0,l=parseFloat(n.height)||0;const f=Ie(a),g=f?a.offsetWidth:s,v=f?a.offsetHeight:l,b=un(s)!==g||un(l)!==v;return b&&(s=g,l=v),{width:s,height:l,$:b}}function Si(a){return Pe(a)?a:a.contextElement}function ut(a){const n=Si(a);if(!Ie(n))return De(1);const s=n.getBoundingClientRect(),{width:l,height:f,$:g}=wo(n);let v=(g?un(s.width):s.width)/l,b=(g?un(s.height):s.height)/f;return(!v||!Number.isFinite(v))&&(v=1),(!b||!Number.isFinite(b))&&(b=1),{x:v,y:b}}const js=De(0);function Eo(a){const n=we(a);return!Ei()||!n.visualViewport?js:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Hs(a,n,s){return n===void 0&&(n=!1),!s||n&&s!==we(a)?!1:n}function et(a,n,s,l){n===void 0&&(n=!1),s===void 0&&(s=!1);const f=a.getBoundingClientRect(),g=Si(a);let v=De(1);n&&(l?Pe(l)&&(v=ut(l)):v=ut(a));const b=Hs(g,s,l)?Eo(g):De(0);let x=(f.left+b.x)/v.x,E=(f.top+b.y)/v.y,$=f.width/v.x,O=f.height/v.y;if(g){const z=we(g),D=l&&Pe(l)?we(l):l;let M=z,L=si(M);for(;L&&l&&D!==M;){const U=ut(L),j=L.getBoundingClientRect(),W=$e(L),re=j.left+(L.clientLeft+parseFloat(W.paddingLeft))*U.x,ne=j.top+(L.clientTop+parseFloat(W.paddingTop))*U.y;x*=U.x,E*=U.y,$*=U.x,O*=U.y,x+=re,E+=ne,M=we(L),L=si(M)}}return pn({width:$,height:O,x,y:E})}function An(a,n){const s=$n(a).scrollLeft;return n?n.left+s:et(Me(a)).left+s}function So(a,n){const s=a.getBoundingClientRect(),l=s.left+n.scrollLeft-An(a,s),f=s.top+n.scrollTop;return{x:l,y:f}}function Us(a){let{elements:n,rect:s,offsetParent:l,strategy:f}=a;const g=f==="fixed",v=Me(l),b=n?On(n.floating):!1;if(l===v||b&&g)return s;let x={scrollLeft:0,scrollTop:0},E=De(1);const $=De(0),O=Ie(l);if((O||!O&&!g)&&((gt(l)!=="body"||Nt(v))&&(x=$n(l)),Ie(l))){const D=et(l);E=ut(l),$.x=D.x+l.clientLeft,$.y=D.y+l.clientTop}const z=v&&!O&&!g?So(v,x):De(0);return{width:s.width*E.x,height:s.height*E.y,x:s.x*E.x-x.scrollLeft*E.x+$.x+z.x,y:s.y*E.y-x.scrollTop*E.y+$.y+z.y}}function Ws(a){return Array.from(a.getClientRects())}function Ks(a){const n=Me(a),s=$n(a),l=a.ownerDocument.body,f=Je(n.scrollWidth,n.clientWidth,l.scrollWidth,l.clientWidth),g=Je(n.scrollHeight,n.clientHeight,l.scrollHeight,l.clientHeight);let v=-s.scrollLeft+An(a);const b=-s.scrollTop;return $e(l).direction==="rtl"&&(v+=Je(n.clientWidth,l.clientWidth)-f),{width:f,height:g,x:v,y:b}}const Pr=25;function Vs(a,n){const s=we(a),l=Me(a),f=s.visualViewport;let g=l.clientWidth,v=l.clientHeight,b=0,x=0;if(f){g=f.width,v=f.height;const $=Ei();(!$||$&&n==="fixed")&&(b=f.offsetLeft,x=f.offsetTop)}const E=An(l);if(E<=0){const $=l.ownerDocument,O=$.body,z=getComputedStyle(O),D=$.compatMode==="CSS1Compat"&&parseFloat(z.marginLeft)+parseFloat(z.marginRight)||0,M=Math.abs(l.clientWidth-O.clientWidth-D);M<=Pr&&(g-=M)}else E<=Pr&&(g+=E);return{width:g,height:v,x:b,y:x}}const qs=new Set(["absolute","fixed"]);function Xs(a,n){const s=et(a,!0,n==="fixed"),l=s.top+a.clientTop,f=s.left+a.clientLeft,g=Ie(a)?ut(a):De(1),v=a.clientWidth*g.x,b=a.clientHeight*g.y,x=f*g.x,E=l*g.y;return{width:v,height:b,x,y:E}}function $r(a,n,s){let l;if(n==="viewport")l=Vs(a,s);else if(n==="document")l=Ks(Me(a));else if(Pe(n))l=Xs(n,s);else{const f=Eo(a);l={x:n.x-f.x,y:n.y-f.y,width:n.width,height:n.height}}return pn(l)}function ko(a,n){const s=qe(a);return s===n||!Pe(s)||ft(s)?!1:$e(s).position==="fixed"||ko(s,n)}function Ys(a,n){const s=n.get(a);if(s)return s;let l=Mt(a,[],!1).filter(b=>Pe(b)&&gt(b)!=="body"),f=null;const g=$e(a).position==="fixed";let v=g?qe(a):a;for(;Pe(v)&&!ft(v);){const b=$e(v),x=Pn(v);!x&&b.position==="fixed"&&(f=null),(g?!x&&!f:!x&&b.position==="static"&&!!f&&qs.has(f.position)||Nt(v)&&!x&&ko(a,v))?l=l.filter($=>$!==v):f=b,v=qe(v)}return n.set(a,l),l}function Gs(a){let{element:n,boundary:s,rootBoundary:l,strategy:f}=a;const v=[...s==="clippingAncestors"?On(n)?[]:Ys(n,this._c):[].concat(s),l],b=v[0],x=v.reduce((E,$)=>{const O=$r(n,$,f);return E.top=Je(O.top,E.top),E.right=dt(O.right,E.right),E.bottom=dt(O.bottom,E.bottom),E.left=Je(O.left,E.left),E},$r(n,b,f));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function Zs(a){const{width:n,height:s}=wo(a);return{width:n,height:s}}function Qs(a,n,s){const l=Ie(n),f=Me(n),g=s==="fixed",v=et(a,!0,g,n);let b={scrollLeft:0,scrollTop:0};const x=De(0);function E(){x.x=An(f)}if(l||!l&&!g)if((gt(n)!=="body"||Nt(f))&&(b=$n(n)),l){const D=et(n,!0,g,n);x.x=D.x+n.clientLeft,x.y=D.y+n.clientTop}else f&&E();g&&!l&&f&&E();const $=f&&!l&&!g?So(f,b):De(0),O=v.left+b.scrollLeft-x.x-$.x,z=v.top+b.scrollTop-x.y-$.y;return{x:O,y:z,width:v.width,height:v.height}}function ei(a){return $e(a).position==="static"}function Ar(a,n){if(!Ie(a)||$e(a).position==="fixed")return null;if(n)return n(a);let s=a.offsetParent;return Me(a)===s&&(s=s.ownerDocument.body),s}function To(a,n){const s=we(a);if(On(a))return s;if(!Ie(a)){let f=qe(a);for(;f&&!ft(f);){if(Pe(f)&&!ei(f))return f;f=qe(f)}return s}let l=Ar(a,n);for(;l&&Ms(l)&&ei(l);)l=Ar(l,n);return l&&ft(l)&&ei(l)&&!Pn(l)?s:l||Ns(a)||s}const Js=async function(a){const n=this.getOffsetParent||To,s=this.getDimensions,l=await s(a.floating);return{reference:Qs(a.reference,await n(a.floating),a.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function ec(a){return $e(a).direction==="rtl"}const ci={convertOffsetParentRelativeRectToViewportRelativeRect:Us,getDocumentElement:Me,getClippingRect:Gs,getOffsetParent:To,getElementRects:Js,getClientRects:Ws,getDimensions:Zs,getScale:ut,isElement:Pe,isRTL:ec};function Co(a,n){return a.x===n.x&&a.y===n.y&&a.width===n.width&&a.height===n.height}function tc(a,n){let s=null,l;const f=Me(a);function g(){var b;clearTimeout(l),(b=s)==null||b.disconnect(),s=null}function v(b,x){b===void 0&&(b=!1),x===void 0&&(x=1),g();const E=a.getBoundingClientRect(),{left:$,top:O,width:z,height:D}=E;if(b||n(),!z||!D)return;const M=rn(O),L=rn(f.clientWidth-($+z)),U=rn(f.clientHeight-(O+D)),j=rn($),re={rootMargin:-M+"px "+-L+"px "+-U+"px "+-j+"px",threshold:Je(0,dt(1,x))||1};let ne=!0;function Q(ee){const w=ee[0].intersectionRatio;if(w!==x){if(!ne)return v();w?v(!1,w):l=setTimeout(()=>{v(!1,1e-7)},1e3)}w===1&&!Co(E,a.getBoundingClientRect())&&v(),ne=!1}try{s=new IntersectionObserver(Q,{...re,root:f.ownerDocument})}catch{s=new IntersectionObserver(Q,re)}s.observe(a)}return v(!0),g}function nc(a,n,s,l){l===void 0&&(l={});const{ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:v=typeof ResizeObserver=="function",layoutShift:b=typeof IntersectionObserver=="function",animationFrame:x=!1}=l,E=Si(a),$=f||g?[...E?Mt(E):[],...Mt(n)]:[];$.forEach(j=>{f&&j.addEventListener("scroll",s,{passive:!0}),g&&j.addEventListener("resize",s)});const O=E&&b?tc(E,s):null;let z=-1,D=null;v&&(D=new ResizeObserver(j=>{let[W]=j;W&&W.target===E&&D&&(D.unobserve(n),cancelAnimationFrame(z),z=requestAnimationFrame(()=>{var re;(re=D)==null||re.observe(n)})),s()}),E&&!x&&D.observe(E),D.observe(n));let M,L=x?et(a):null;x&&U();function U(){const j=et(a);L&&!Co(L,j)&&s(),L=j,M=requestAnimationFrame(U)}return s(),()=>{var j;$.forEach(W=>{f&&W.removeEventListener("scroll",s),g&&W.removeEventListener("resize",s)}),O==null||O(),(j=D)==null||j.disconnect(),D=null,x&&cancelAnimationFrame(M)}}const ic=As,rc=Ts,oc=Ds,Dr=Cs,ac=Os,sc=Ss,cc=(a,n,s)=>{const l=new Map,f={platform:ci,...s},g={...f.platform,_c:l};return Es(a,n,{...f,platform:g})};var lc=typeof nn=="object"&&nn&&nn.Object===Object&&nn,uc=typeof self=="object"&&self&&self.Object===Object&&self,Oo=lc||uc||Function("return this")(),hn=Oo.Symbol,Po=Object.prototype,dc=Po.hasOwnProperty,fc=Po.toString,$t=hn?hn.toStringTag:void 0;function pc(a){var n=dc.call(a,$t),s=a[$t];try{a[$t]=void 0;var l=!0}catch{}var f=fc.call(a);return l&&(n?a[$t]=s:delete a[$t]),f}var hc=Object.prototype,vc=hc.toString;function gc(a){return vc.call(a)}var mc="[object Null]",bc="[object Undefined]",zr=hn?hn.toStringTag:void 0;function yc(a){return a==null?a===void 0?bc:mc:zr&&zr in Object(a)?pc(a):gc(a)}function xc(a){return a!=null&&typeof a=="object"}var wc="[object Symbol]";function Ec(a){return typeof a=="symbol"||xc(a)&&yc(a)==wc}var Sc=/\s/;function kc(a){for(var n=a.length;n--&&Sc.test(a.charAt(n)););return n}var Tc=/^\s+/;function Cc(a){return a&&a.slice(0,kc(a)+1).replace(Tc,"")}function li(a){var n=typeof a;return a!=null&&(n=="object"||n=="function")}var Ir=NaN,Oc=/^[-+]0x[0-9a-f]+$/i,Pc=/^0b[01]+$/i,$c=/^0o[0-7]+$/i,Ac=parseInt;function Mr(a){if(typeof a=="number")return a;if(Ec(a))return Ir;if(li(a)){var n=typeof a.valueOf=="function"?a.valueOf():a;a=li(n)?n+"":n}if(typeof a!="string")return a===0?a:+a;a=Cc(a);var s=Pc.test(a);return s||$c.test(a)?Ac(a.slice(2),s?2:8):Oc.test(a)?Ir:+a}var ti=function(){return Oo.Date.now()},Dc="Expected a function",zc=Math.max,Ic=Math.min;function Mc(a,n,s){var l,f,g,v,b,x,E=0,$=!1,O=!1,z=!0;if(typeof a!="function")throw new TypeError(Dc);n=Mr(n)||0,li(s)&&($=!0,O="maxWait"in s,g=O?zc(Mr(s.maxWait)||0,n):g,z="trailing"in s?!!s.trailing:z);function D(ee){var w=l,ue=f;return l=f=void 0,E=ee,v=a.apply(ue,w),v}function M(ee){return E=ee,b=setTimeout(j,n),$?D(ee):v}function L(ee){var w=ee-x,ue=ee-E,fe=n-w;return O?Ic(fe,g-ue):fe}function U(ee){var w=ee-x,ue=ee-E;return x===void 0||w>=n||w<0||O&&ue>=g}function j(){var ee=ti();if(U(ee))return W(ee);b=setTimeout(j,L(ee))}function W(ee){return b=void 0,z&&l?D(ee):(l=f=void 0,v)}function re(){b!==void 0&&clearTimeout(b),E=0,l=x=f=b=void 0}function ne(){return b===void 0?v:W(ti())}function Q(){var ee=ti(),w=U(ee);if(l=arguments,f=this,x=ee,w){if(b===void 0)return M(x);if(O)return clearTimeout(b),b=setTimeout(j,n),D(x)}return b===void 0&&(b=setTimeout(j,n)),v}return Q.cancel=re,Q.flush=ne,Q}function Fc(a){return Rc(a)}function ni(a){return a.assignedSlot?a.assignedSlot:a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}function Rc(a){for(let n=a;n;n=ni(n))if(n instanceof Element&&getComputedStyle(n).display==="none")return null;for(let n=ni(a);n;n=ni(n)){if(!(n instanceof Element))continue;const s=getComputedStyle(n);if(s.display!=="contents"&&(s.position!=="static"||Pn(s)||n.tagName==="BODY"))return n}return null}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */(function(){{const n=ci.getOffsetParent;ci.getOffsetParent=s=>n(s,Fc)}})();function Fr(a){const n=window.devicePixelRatio||1;return Math.round(a*n)/n}const $o=(async(a,{referenceEl:n,floatingEl:s,overlayPositioning:l="absolute",placement:f,flipDisabled:g,flipPlacements:v,offsetDistance:b,offsetSkidding:x,arrowEl:E,type:$})=>{var ne;if(!n||!s)return;const O=is(s)==="rtl",{x:z,y:D,placement:M,strategy:L,middlewareData:U}=await cc(n,s,{strategy:l,placement:f==="auto"||f==="auto-start"||f==="auto-end"?void 0:Br(f,O),middleware:Nc({placement:f,flipDisabled:g,flipPlacements:v==null?void 0:v.map(Q=>Br(Q,O)),offsetDistance:b,offsetSkidding:x,arrowEl:E,type:$})});if(E&&U.arrow){const{x:Q,y:ee}=U.arrow,w=M.split("-")[0],ue=Q!=null?"left":"top",fe=Uc[w],oe={left:"",top:"",bottom:"",right:""};"floatingLayout"in a&&(a.floatingLayout=w==="left"||w==="right"?"horizontal":"vertical"),Object.assign(E.style,{...oe,[ue]:`${ue=="left"?Q:ee}px`,[w]:"100%",transform:fe})}const W=((ne=U.hide)==null?void 0:ne.referenceHidden)?"hidden":null,re=W?"none":null;s.setAttribute(_c,M),Object.assign(s.style,{pointerEvents:re,position:L,transform:`translate(${Fr(z)}px,${Fr(D)}px)`,visibility:W})}),_c="data-placement",Rr=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end","leading","trailing","leading-start","leading-end","trailing-start","trailing-end"],Bc="bottom-end",_r={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function Nc({placement:a,flipDisabled:n,flipPlacements:s,offsetDistance:l,offsetSkidding:f,arrowEl:g,type:v}){const b=[oc(),ac()];return v==="menu"&&b.push(Dr({fallbackPlacements:s||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})),b.push(ic({mainAxis:typeof l=="number"?l:0,crossAxis:typeof f=="number"?f:0})),a==="auto"||a==="auto-start"||a==="auto-end"?b.push(rc({alignment:a==="auto-start"?"start":a==="auto-end"?"end":null})):n||b.push(Dr(s?{fallbackPlacements:s}:{})),g&&b.push(sc({element:g})),b}function Lc(a,n){const s=a.filter(l=>Rr.includes(l));return s.length!==a.length&&console.warn(`${n.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Rr.map(l=>`"${l}"`).join(", ").trim()}`,{el:n}),s}function Br(a,n=!1){const s=["left","right"];return n&&s.reverse(),a.replace(/leading/gi,s[0]).replace(/trailing/gi,s[1])}async function jc(a,n,s=!1){if(!a.open||!n.floatingEl||!n.referenceEl)return;if(Object.assign(n.floatingEl.style,{display:"block",position:n.overlayPositioning??"absolute"}),!Ft.get(a))return Ao(a);await(s?Hc(a):$o)(a,n)}function Hc(a){let n=vn.get(a);return n||(n=Mc($o,vr.reposition,{leading:!0,maxWait:vr.reposition}),vn.set(a,n),n)}const Uc={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},Ft=new WeakMap,vn=new WeakMap;async function Ao(a){const{referenceEl:n,floatingEl:s}=a;if(!s.isConnected)return;const l=nc;Ft.set(a,{state:"pending"});let f;const g=l(n,s,()=>{const v=a.reposition();f||(f=v)});return Ft.set(a,{state:"active",cleanUp:g}),f}function Do(a){const{floatingEl:n}=a;n&&Object.assign(n.style,{display:"",pointerEvents:"",position:"",transform:"",visibility:""})}async function Wc(a){const{floatingEl:n,referenceEl:s}=a;if(Do(a),!(!n||!s)&&(zo(a),!!a.open))return Ao(a)}function zo(a){var s;const n=Ft.get(a);(n==null?void 0:n.state)==="active"&&n.cleanUp(),Ft.delete(a),(s=vn.get(a))==null||s.cancel(),vn.delete(a)}const Nr=4,Lr=Math.ceil(Math.hypot(Nr,Nr));/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Io=({children:a,...n})=>{const s=n.level?ss(`h${n.level}`):cs`div`;return he(n.key,ls`<${s} class=${Y(n.class)}>${a}</${s}>`)};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const jr={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},Kc={width:12,height:6,strokeWidth:1},Vc=({floatingLayout:a,key:n,ref:s})=>{const{width:l,height:f,strokeWidth:g}=Kc,v=l/2,b=a==="vertical",x=`M0,0 H${l} L${l-v},${f} Q${v},${f} ${v},${f} Z`;return he(n,G`<svg aria-hidden=true class=${Y(jr.arrow)} height=${l} viewBox=${`0 0 ${l} ${l+(b?0:g)}`} width=${l+(b?g:0)} ${xe(s)}>${gr`${gr`<path class=${Y(jr.arrowStroke)} d=${x??Qe} fill=none stroke-width=${g+1} />`||""}<path d=${x??Qe} stroke=none />`}</svg>`)};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Mo=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],gn=Mo.join(","),Fo=typeof Element>"u",tt=Fo?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mn=!Fo&&Element.prototype.getRootNode?function(a){var n;return a==null||(n=a.getRootNode)===null||n===void 0?void 0:n.call(a)}:function(a){return a==null?void 0:a.ownerDocument},bn=function a(n,s){var l;s===void 0&&(s=!0);var f=n==null||(l=n.getAttribute)===null||l===void 0?void 0:l.call(n,"inert"),g=f===""||f==="true",v=g||s&&n&&a(n.parentNode);return v},qc=function(n){var s,l=n==null||(s=n.getAttribute)===null||s===void 0?void 0:s.call(n,"contenteditable");return l===""||l==="true"},Ro=function(n,s,l){if(bn(n))return[];var f=Array.prototype.slice.apply(n.querySelectorAll(gn));return s&&tt.call(n,gn)&&f.unshift(n),f=f.filter(l),f},_o=function a(n,s,l){for(var f=[],g=Array.from(n);g.length;){var v=g.shift();if(!bn(v,!1))if(v.tagName==="SLOT"){var b=v.assignedElements(),x=b.length?b:v.children,E=a(x,!0,l);l.flatten?f.push.apply(f,E):f.push({scopeParent:v,candidates:E})}else{var $=tt.call(v,gn);$&&l.filter(v)&&(s||!n.includes(v))&&f.push(v);var O=v.shadowRoot||typeof l.getShadowRoot=="function"&&l.getShadowRoot(v),z=!bn(O,!1)&&(!l.shadowRootFilter||l.shadowRootFilter(v));if(O&&z){var D=a(O===!0?v.children:O.children,!0,l);l.flatten?f.push.apply(f,D):f.push({scopeParent:v,candidates:D})}else g.unshift.apply(g,v.children)}}return f},Bo=function(n){return!isNaN(parseInt(n.getAttribute("tabindex"),10))},Ze=function(n){if(!n)throw new Error("No node provided");return n.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(n.tagName)||qc(n))&&!Bo(n)?0:n.tabIndex},Xc=function(n,s){var l=Ze(n);return l<0&&s&&!Bo(n)?0:l},Yc=function(n,s){return n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex},No=function(n){return n.tagName==="INPUT"},Gc=function(n){return No(n)&&n.type==="hidden"},Zc=function(n){var s=n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(l){return l.tagName==="SUMMARY"});return s},Qc=function(n,s){for(var l=0;l<n.length;l++)if(n[l].checked&&n[l].form===s)return n[l]},Jc=function(n){if(!n.name)return!0;var s=n.form||mn(n),l=function(b){return s.querySelectorAll('input[type="radio"][name="'+b+'"]')},f;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")f=l(window.CSS.escape(n.name));else try{f=l(n.name)}catch(v){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",v.message),!1}var g=Qc(f,n.form);return!g||g===n},el=function(n){return No(n)&&n.type==="radio"},tl=function(n){return el(n)&&!Jc(n)},nl=function(n){var s,l=n&&mn(n),f=(s=l)===null||s===void 0?void 0:s.host,g=!1;if(l&&l!==n){var v,b,x;for(g=!!((v=f)!==null&&v!==void 0&&(b=v.ownerDocument)!==null&&b!==void 0&&b.contains(f)||n!=null&&(x=n.ownerDocument)!==null&&x!==void 0&&x.contains(n));!g&&f;){var E,$,O;l=mn(f),f=(E=l)===null||E===void 0?void 0:E.host,g=!!(($=f)!==null&&$!==void 0&&(O=$.ownerDocument)!==null&&O!==void 0&&O.contains(f))}}return g},Hr=function(n){var s=n.getBoundingClientRect(),l=s.width,f=s.height;return l===0&&f===0},il=function(n,s){var l=s.displayCheck,f=s.getShadowRoot;if(getComputedStyle(n).visibility==="hidden")return!0;var g=tt.call(n,"details>summary:first-of-type"),v=g?n.parentElement:n;if(tt.call(v,"details:not([open]) *"))return!0;if(!l||l==="full"||l==="legacy-full"){if(typeof f=="function"){for(var b=n;n;){var x=n.parentElement,E=mn(n);if(x&&!x.shadowRoot&&f(x)===!0)return Hr(n);n.assignedSlot?n=n.assignedSlot:!x&&E!==n.ownerDocument?n=E.host:n=x}n=b}if(nl(n))return!n.getClientRects().length;if(l!=="legacy-full")return!0}else if(l==="non-zero-area")return Hr(n);return!1},rl=function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var s=n.parentElement;s;){if(s.tagName==="FIELDSET"&&s.disabled){for(var l=0;l<s.children.length;l++){var f=s.children.item(l);if(f.tagName==="LEGEND")return tt.call(s,"fieldset[disabled] *")?!0:!f.contains(n)}return!0}s=s.parentElement}return!1},yn=function(n,s){return!(s.disabled||bn(s)||Gc(s)||il(s,n)||Zc(s)||rl(s))},ui=function(n,s){return!(tl(s)||Ze(s)<0||!yn(n,s))},ol=function(n){var s=parseInt(n.getAttribute("tabindex"),10);return!!(isNaN(s)||s>=0)},al=function a(n){var s=[],l=[];return n.forEach(function(f,g){var v=!!f.scopeParent,b=v?f.scopeParent:f,x=Xc(b,v),E=v?a(f.candidates):b;x===0?v?s.push.apply(s,E):s.push(b):l.push({documentOrder:g,tabIndex:x,item:f,isScope:v,content:E})}),l.sort(Yc).reduce(function(f,g){return g.isScope?f.push.apply(f,g.content):f.push(g.content),f},[]).concat(s)},sl=function(n,s){s=s||{};var l;return s.getShadowRoot?l=_o([n],s.includeContainer,{filter:ui.bind(null,s),flatten:!1,getShadowRoot:s.getShadowRoot,shadowRootFilter:ol}):l=Ro(n,s.includeContainer,ui.bind(null,s)),al(l)},cl=function(n,s){s=s||{};var l;return s.getShadowRoot?l=_o([n],s.includeContainer,{filter:yn.bind(null,s),flatten:!0,getShadowRoot:s.getShadowRoot}):l=Ro(n,s.includeContainer,yn.bind(null,s)),l},lt=function(n,s){if(s=s||{},!n)throw new Error("No node provided");return tt.call(n,gn)===!1?!1:ui(s,n)},ll=Mo.concat("iframe").join(","),ii=function(n,s){if(s=s||{},!n)throw new Error("No node provided");return tt.call(n,ll)===!1?!1:yn(s,n)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function di(a,n){(n==null||n>a.length)&&(n=a.length);for(var s=0,l=Array(n);s<n;s++)l[s]=a[s];return l}function ul(a){if(Array.isArray(a))return di(a)}function dl(a,n,s){return(n=gl(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}function fl(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function pl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(a,n){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);n&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),s.push.apply(s,l)}return s}function Wr(a){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Ur(Object(s),!0).forEach(function(l){dl(a,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Ur(Object(s)).forEach(function(l){Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))})}return a}function hl(a){return ul(a)||fl(a)||ml(a)||pl()}function vl(a,n){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var l=s.call(a,n);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function gl(a){var n=vl(a,"string");return typeof n=="symbol"?n:n+""}function ml(a,n){if(a){if(typeof a=="string")return di(a,n);var s={}.toString.call(a).slice(8,-1);return s==="Object"&&a.constructor&&(s=a.constructor.name),s==="Map"||s==="Set"?Array.from(a):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?di(a,n):void 0}}var Kr={activateTrap:function(n,s){if(n.length>0){var l=n[n.length-1];l!==s&&l._setPausedState(!0)}var f=n.indexOf(s);f===-1||n.splice(f,1),n.push(s)},deactivateTrap:function(n,s){var l=n.indexOf(s);l!==-1&&n.splice(l,1),n.length>0&&!n[n.length-1]._isManuallyPaused()&&n[n.length-1]._setPausedState(!1)}},bl=function(n){return n.tagName&&n.tagName.toLowerCase()==="input"&&typeof n.select=="function"},yl=function(n){return(n==null?void 0:n.key)==="Escape"||(n==null?void 0:n.key)==="Esc"||(n==null?void 0:n.keyCode)===27},zt=function(n){return(n==null?void 0:n.key)==="Tab"||(n==null?void 0:n.keyCode)===9},xl=function(n){return zt(n)&&!n.shiftKey},wl=function(n){return zt(n)&&n.shiftKey},Vr=function(n){return setTimeout(n,0)},At=function(n){for(var s=arguments.length,l=new Array(s>1?s-1:0),f=1;f<s;f++)l[f-1]=arguments[f];return typeof n=="function"?n.apply(void 0,l):n},on=function(n){return n.target.shadowRoot&&typeof n.composedPath=="function"?n.composedPath()[0]:n.target},El=[],Sl=function(n,s){var l=(s==null?void 0:s.document)||document,f=(s==null?void 0:s.trapStack)||El,g=Wr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:xl,isKeyBackward:wl},s),v={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},b,x=function(k,T,F){return k&&k[T]!==void 0?k[T]:g[F||T]},E=function(k,T){var F=typeof(T==null?void 0:T.composedPath)=="function"?T.composedPath():void 0;return v.containerGroups.findIndex(function(N){var K=N.container,te=N.tabbableNodes;return K.contains(k)||(F==null?void 0:F.includes(K))||te.find(function(H){return H===k})})},$=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=T.hasFallback,N=F===void 0?!1:F,K=T.params,te=K===void 0?[]:K,H=g[k];if(typeof H=="function"&&(H=H.apply(void 0,hl(te))),H===!0&&(H=void 0),!H){if(H===void 0||H===!1)return H;throw new Error("`".concat(k,"` was specified but was not a node, or did not return a node"))}var ae=H;if(typeof H=="string"){try{ae=l.querySelector(H)}catch(de){throw new Error("`".concat(k,'` appears to be an invalid selector; error="').concat(de.message,'"'))}if(!ae&&!N)throw new Error("`".concat(k,"` as selector refers to no known node"))}return ae},O=function(){var k=$("initialFocus",{hasFallback:!0});if(k===!1)return!1;if(k===void 0||k&&!ii(k,g.tabbableOptions))if(E(l.activeElement)>=0)k=l.activeElement;else{var T=v.tabbableGroups[0],F=T&&T.firstTabbableNode;k=F||$("fallbackFocus")}else k===null&&(k=$("fallbackFocus"));if(!k)throw new Error("Your focus-trap needs to have at least one focusable element");return k},z=function(){if(v.containerGroups=v.containers.map(function(k){var T=sl(k,g.tabbableOptions),F=cl(k,g.tabbableOptions),N=T.length>0?T[0]:void 0,K=T.length>0?T[T.length-1]:void 0,te=F.find(function(de){return lt(de)}),H=F.slice().reverse().find(function(de){return lt(de)}),ae=!!T.find(function(de){return Ze(de)>0});return{container:k,tabbableNodes:T,focusableNodes:F,posTabIndexesFound:ae,firstTabbableNode:N,lastTabbableNode:K,firstDomTabbableNode:te,lastDomTabbableNode:H,nextTabbableNode:function(Ae){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Se=T.indexOf(Ae);return Se<0?Fe?F.slice(F.indexOf(Ae)+1).find(function(Re){return lt(Re)}):F.slice(0,F.indexOf(Ae)).reverse().find(function(Re){return lt(Re)}):T[Se+(Fe?1:-1)]}}}),v.tabbableGroups=v.containerGroups.filter(function(k){return k.tabbableNodes.length>0}),v.tabbableGroups.length<=0&&!$("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(v.containerGroups.find(function(k){return k.posTabIndexesFound})&&v.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},D=function(k){var T=k.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?D(T.shadowRoot):T},M=function(k){if(k!==!1&&k!==D(document)){if(!k||!k.focus){M(O());return}k.focus({preventScroll:!!g.preventScroll}),v.mostRecentlyFocusedNode=k,bl(k)&&k.select()}},L=function(k){var T=$("setReturnFocus",{params:[k]});return T||(T===!1?!1:k)},U=function(k){var T=k.target,F=k.event,N=k.isBackward,K=N===void 0?!1:N;T=T||on(F),z();var te=null;if(v.tabbableGroups.length>0){var H=E(T,F),ae=H>=0?v.containerGroups[H]:void 0;if(H<0)K?te=v.tabbableGroups[v.tabbableGroups.length-1].lastTabbableNode:te=v.tabbableGroups[0].firstTabbableNode;else if(K){var de=v.tabbableGroups.findIndex(function(rt){var ot=rt.firstTabbableNode;return T===ot});if(de<0&&(ae.container===T||ii(T,g.tabbableOptions)&&!lt(T,g.tabbableOptions)&&!ae.nextTabbableNode(T,!1))&&(de=H),de>=0){var Ae=de===0?v.tabbableGroups.length-1:de-1,Fe=v.tabbableGroups[Ae];te=Ze(T)>=0?Fe.lastTabbableNode:Fe.lastDomTabbableNode}else zt(F)||(te=ae.nextTabbableNode(T,!1))}else{var Se=v.tabbableGroups.findIndex(function(rt){var ot=rt.lastTabbableNode;return T===ot});if(Se<0&&(ae.container===T||ii(T,g.tabbableOptions)&&!lt(T,g.tabbableOptions)&&!ae.nextTabbableNode(T))&&(Se=H),Se>=0){var Re=Se===v.tabbableGroups.length-1?0:Se+1,it=v.tabbableGroups[Re];te=Ze(T)>=0?it.firstTabbableNode:it.firstDomTabbableNode}else zt(F)||(te=ae.nextTabbableNode(T))}}else te=$("fallbackFocus");return te},j=function(k){var T=on(k);if(!(E(T,k)>=0)){if(At(g.clickOutsideDeactivates,k)){b.deactivate({returnFocus:g.returnFocusOnDeactivate});return}At(g.allowOutsideClick,k)||k.preventDefault()}},W=function(k){var T=on(k),F=E(T,k)>=0;if(F||T instanceof Document)F&&(v.mostRecentlyFocusedNode=T);else{k.stopImmediatePropagation();var N,K=!0;if(v.mostRecentlyFocusedNode)if(Ze(v.mostRecentlyFocusedNode)>0){var te=E(v.mostRecentlyFocusedNode),H=v.containerGroups[te].tabbableNodes;if(H.length>0){var ae=H.findIndex(function(de){return de===v.mostRecentlyFocusedNode});ae>=0&&(g.isKeyForward(v.recentNavEvent)?ae+1<H.length&&(N=H[ae+1],K=!1):ae-1>=0&&(N=H[ae-1],K=!1))}}else v.containerGroups.some(function(de){return de.tabbableNodes.some(function(Ae){return Ze(Ae)>0})})||(K=!1);else K=!1;K&&(N=U({target:v.mostRecentlyFocusedNode,isBackward:g.isKeyBackward(v.recentNavEvent)})),M(N||v.mostRecentlyFocusedNode||O())}v.recentNavEvent=void 0},re=function(k){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;v.recentNavEvent=k;var F=U({event:k,isBackward:T});F&&(zt(k)&&k.preventDefault(),M(F))},ne=function(k){(g.isKeyForward(k)||g.isKeyBackward(k))&&re(k,g.isKeyBackward(k))},Q=function(k){yl(k)&&At(g.escapeDeactivates,k)!==!1&&(k.preventDefault(),b.deactivate())},ee=function(k){var T=on(k);E(T,k)>=0||At(g.clickOutsideDeactivates,k)||At(g.allowOutsideClick,k)||(k.preventDefault(),k.stopImmediatePropagation())},w=function(){if(v.active)return Kr.activateTrap(f,b),v.delayInitialFocusTimer=g.delayInitialFocus?Vr(function(){M(O())}):M(O()),l.addEventListener("focusin",W,!0),l.addEventListener("mousedown",j,{capture:!0,passive:!1}),l.addEventListener("touchstart",j,{capture:!0,passive:!1}),l.addEventListener("click",ee,{capture:!0,passive:!1}),l.addEventListener("keydown",ne,{capture:!0,passive:!1}),l.addEventListener("keydown",Q),b},ue=function(){if(v.active)return l.removeEventListener("focusin",W,!0),l.removeEventListener("mousedown",j,!0),l.removeEventListener("touchstart",j,!0),l.removeEventListener("click",ee,!0),l.removeEventListener("keydown",ne,!0),l.removeEventListener("keydown",Q),b},fe=function(k){var T=k.some(function(F){var N=Array.from(F.removedNodes);return N.some(function(K){return K===v.mostRecentlyFocusedNode})});T&&M(O())},oe=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(fe):void 0,pe=function(){oe&&(oe.disconnect(),v.active&&!v.paused&&v.containers.map(function(k){oe.observe(k,{subtree:!0,childList:!0})}))};return b={get active(){return v.active},get paused(){return v.paused},activate:function(k){if(v.active)return this;var T=x(k,"onActivate"),F=x(k,"onPostActivate"),N=x(k,"checkCanFocusTrap");N||z(),v.active=!0,v.paused=!1,v.nodeFocusedBeforeActivation=D(l),T==null||T();var K=function(){N&&z(),w(),pe(),F==null||F()};return N?(N(v.containers.concat()).then(K,K),this):(K(),this)},deactivate:function(k){if(!v.active)return this;var T=Wr({onDeactivate:g.onDeactivate,onPostDeactivate:g.onPostDeactivate,checkCanReturnFocus:g.checkCanReturnFocus},k);clearTimeout(v.delayInitialFocusTimer),v.delayInitialFocusTimer=void 0,ue(),v.active=!1,v.paused=!1,pe(),Kr.deactivateTrap(f,b);var F=x(T,"onDeactivate"),N=x(T,"onPostDeactivate"),K=x(T,"checkCanReturnFocus"),te=x(T,"returnFocus","returnFocusOnDeactivate");F==null||F();var H=function(){Vr(function(){te&&M(L(v.nodeFocusedBeforeActivation)),N==null||N()})};return te&&K?(K(L(v.nodeFocusedBeforeActivation)).then(H,H),this):(H(),this)},pause:function(k){return v.active?(v.manuallyPaused=!0,this._setPausedState(!0,k)):this},unpause:function(k){return v.active?(v.manuallyPaused=!1,f[f.length-1]!==this?this:this._setPausedState(!1,k)):this},updateContainerElements:function(k){var T=[].concat(k).filter(Boolean);return v.containers=T.map(function(F){return typeof F=="string"?l.querySelector(F):F}),v.active&&z(),pe(),this}},Object.defineProperties(b,{_isManuallyPaused:{value:function(){return v.manuallyPaused}},_setPausedState:{value:function(k,T){if(v.paused===k)return this;if(v.paused=k,k){var F=x(T,"onPause"),N=x(T,"onPostPause");F==null||F(),ue(),pe(),N==null||N()}else{var K=x(T,"onUnpause"),te=x(T,"onPostUnpause");K==null||K(),z(),w(),pe(),te==null||te()}return this}}}),b.updateContainerElements(n),b};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const an=new WeakSet;function kl(a,n){const s=(n==null?void 0:n.fallbackFocus)||a,l=(n==null?void 0:n.clickOutsideDeactivates)??!0;return{fallbackFocus:s,setReturnFocus:f=>(an.has(a)||co(f),!1),...n,document:a.ownerDocument,tabbableOptions:rs,trapStack:es,clickOutsideDeactivates:f=>(an.has(a)||an.add(a),typeof l=="function"?l(f):l),onPostDeactivate:()=>{an.delete(a)}}}function qr(a,{focusTrapOptions:n},s){return!(n!=null&&n.extraContainers)&&!s?a:[a,...Xr(n==null?void 0:n.extraContainers),...Xr(s)]}function Xr(a=[]){return Array.isArray(a)?a:[a]}const Lo=a=>so((n,s)=>{let l,f,g;const v=a.focusTrapOptions;s.onConnected(()=>{n[a.triggerProp]&&l&&b.activate()}),s.onUpdate(x=>{n.hasUpdated&&x.has("focusTrapDisabled")&&(n.focusTrapDisabled?b.deactivate():b.activate())}),s.onDisconnected(()=>b.deactivate());const b={activate:()=>{const x=f||n.el;if(x.isConnected){if(!l){const E={...v,...n.focusTrapOptions};g||(g=qr(x,n)),l=Sl(g,kl(x,E))}(typeof n.focusTrapDisabledOverride=="function"?!n.focusTrapDisabledOverride():!n.focusTrapDisabled)&&l.activate()}},deactivate:()=>l==null?void 0:l.deactivate(),overrideFocusTrapEl:x=>{if(l)throw new Error("Focus trap already created");f=x},setExtraContainers:x=>{const E=f||n.el;g=qr(E,n,x)},updateContainerElements:()=>l==null?void 0:l.updateContainerElements(g)};return b});/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */class Tl{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=n=>{const{registeredElements:s}=this,l=n.find(f=>s.has(f));return s.get(l)},this.togglePopovers=n=>{const s=n.composedPath(),l=this.queryPopover(s);l&&!l.triggerDisabled&&(l.open=!l.open),Array.from(this.registeredElements.values()).filter(f=>f!==l&&f.autoClose&&f.open&&!s.includes(f)).forEach(f=>f.open=!1)},this.keyDownHandler=n=>{n.defaultPrevented||(n.key==="Escape"?this.closeAllPopovers():uo(n.key)&&this.togglePopovers(n))},this.clickHandler=n=>{as(n)||n.defaultPrevented||this.togglePopovers(n)}}registerElement(n,s){this.registeredElementCount++,this.registeredElements.set(n,s),this.registeredElementCount===1&&this.addListeners()}unregisterElement(n){this.registeredElements.delete(n)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(n=>n.open=!1)}addListeners(){window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}}const Oe={positionContainer:"position-container",container:"container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContainer:"header-container",heading:"heading"},Yr="auto",Gr="aria-controls",Zr="aria-expanded",Cl=pt`:host{display:contents;--calcite-floating-ui-z-index: var(--calcite-popover-z-index, var(--calcite-z-index-popup))}.position-container{inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}.position-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset,left,opacity;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.position-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.position-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.position-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.position-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding:.5rem .75rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding:.75rem 1rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding:1rem 1.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}.position-container .calcite-floating-ui-anim{border-width:1px;border-style:solid;background-color:var(--calcite-popover-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-popover-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))}.calcite-floating-ui-arrow{fill:var(--calcite-popover-background-color, var(--calcite-color-foreground-1))}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;border-block-end-color:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.heading{margin:0;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);word-wrap:break-word;word-break:break-word;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container{position:relative;display:flex;height:100%;flex-direction:row;flex-wrap:nowrap;border-radius:.25rem;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container.has-header{flex-direction:column}.content{display:flex;height:100%;width:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));--calcite-action-corner-radius-start-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp));--calcite-action-corner-radius-end-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp))}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}:host([hidden]){display:none}[hidden]{display:none}`,Qr=new Tl,En=class En extends ht{constructor(){super(...arguments),this.closeButtonEl=bi(),this.focusTrap=Lo({triggerProp:"open",focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:n=>(n.defaultPrevented||(this.open=!1,n.preventDefault()),!1)}})(this),this.guid=`calcite-popover-${mi()}`,this.hasLoaded=!1,this.mutationObserver=Rt("mutation",()=>this.focusTrap.updateContainerElements()),this.transitionProp="opacity",this.messages=_t(),this.floatingLayout="vertical",this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.offsetDistance=Lr,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=Yr,this.pointerDisabled=!1,this.scale="m",this.triggerDisabled=!1,this.calcitePopoverBeforeClose=ye({cancelable:!1}),this.calcitePopoverBeforeOpen=ye({cancelable:!1}),this.calcitePopoverClose=ye({cancelable:!1}),this.calcitePopoverOpen=ye({cancelable:!1})}async reposition(n=!1){const{referenceEl:s,placement:l,overlayPositioning:f,flipDisabled:g,filteredFlipPlacements:v,offsetDistance:b,offsetSkidding:x,arrowEl:E,floatingEl:$}=this;return jc(this,{floatingEl:$,referenceEl:s,overlayPositioning:f,placement:l,flipDisabled:g,flipPlacements:v,offsetDistance:b,offsetSkidding:x,arrowEl:E,type:"popover"},n)}async setFocus(){await Bt(this),this.requestUpdate(),yi(this.el)}async updateFocusTrapElements(){this.focusTrap.updateContainerElements()}connectedCallback(){var n;super.connectedCallback(),(n=this.mutationObserver)==null||n.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),requestAnimationFrame(()=>this.setUpReferenceElement(this.hasLoaded))}willUpdate(n){n.has("flipPlacements")&&this.flipPlacementsHandler(),n.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),(n.has("offsetDistance")&&(this.hasUpdated||this.offsetDistance!==Lr)||n.has("offsetSkidding")&&(this.hasUpdated||this.offsetSkidding!==0)||n.has("overlayPositioning")&&(this.hasUpdated||this.overlayPositioning!=="absolute")||n.has("placement")&&(this.hasUpdated||this.placement!==Yr))&&this.reposition(!0),n.has("referenceElement")&&this.referenceElementHandler()}loaded(){this.referenceElement&&!this.referenceEl&&this.setUpReferenceElement(),this.hasLoaded=!0}disconnectedCallback(){var n;super.disconnectedCallback(),(n=this.mutationObserver)==null||n.disconnect(),this.removeReferences(),zo(this)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}openHandler(){ho(this),this.reposition(!0),this.setExpandedAttr()}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}setFloatingEl(n){this.floatingEl=n,n&&requestAnimationFrame(()=>this.setUpReferenceElement())}setTransitionEl(n){n&&(this.transitionEl=n)}setFilteredPlacements(){const{el:n,flipPlacements:s}=this;this.filteredFlipPlacements=s?Lc(s,n):null}setUpReferenceElement(n=!0){this.removeReferences(),this.referenceEl=this.getReferenceElement(),Wc(this);const{el:s,referenceElement:l,referenceEl:f}=this;n&&l&&!f&&console.warn(`${s.tagName}: reference-element id "${l}" was not found.`,{el:s}),this.addReferences()}getId(){return this.el.id||this.guid}setExpandedAttr(){const{referenceEl:n,open:s}=this;n&&"setAttribute"in n&&n.setAttribute(Zr,lo(s))}addReferences(){const{referenceEl:n}=this;if(!n)return;const s=this.getId();"setAttribute"in n&&n.setAttribute(Gr,s),Qr.registerElement(n,this.el),this.setExpandedAttr()}removeReferences(){const{referenceEl:n}=this;n&&("removeAttribute"in n&&(n.removeAttribute(Gr),n.removeAttribute(Zr)),Qr.unregisterElement(n))}getReferenceElement(){const{referenceElement:n,el:s}=this;return(typeof n=="string"?os(s,{id:n}):n)||null}hide(){this.open=!1}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),this.focusTrap.activate()}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),Do(this),this.focusTrap.deactivate()}storeArrowEl(n){this.arrowEl=n,this.reposition(!0)}renderCloseButton(){const{messages:n,closable:s}=this;return s?he(Oe.closeButtonContainer,G`<div class=${Y(Oe.closeButtonContainer)}><calcite-action appearance=transparent class=${Y(Oe.closeButton)} @click=${this.hide} .scale=${this.scale} .text=${n.close} ${xe(this.closeButtonEl)}><calcite-icon icon=x .scale=${ao(this.scale)}></calcite-icon></calcite-action></div>`):null}renderHeader(){const{heading:n,headingLevel:s}=this,l=n?Io({class:Oe.heading,level:s,children:n}):null;return l?he(Oe.header,G`<div class=${Y(Oe.header)}>${l}${this.renderCloseButton()}</div>`):null}render(){const{referenceEl:n,heading:s,label:l,open:f,pointerDisabled:g,floatingLayout:v}=this,b=n&&f,x=!b,E=g?null:he("floating-arrow",Vc({floatingLayout:v,ref:this.storeArrowEl}));return this.el.inert=x,this.el.ariaLabel=l,this.el.ariaLive="polite",ts(this.el,"id",this.getId()),this.el.role="dialog",G`<div class=${Y(Oe.positionContainer)} ${xe(this.setFloatingEl)}><div class=${Y({[Oe.container]:!0,[_r.animation]:!0,[_r.animationActive]:b})} ${xe(this.setTransitionEl)}>${E}<div class=${Y({[Oe.hasHeader]:!!s,[Oe.headerContainer]:!0})}>${this.renderHeader()}<div class=${Y(Oe.content)}><slot></slot></div>${s?null:this.renderCloseButton()}</div></div></div>`}};En.properties={floatingLayout:[16,{},{state:!0}],referenceEl:[16,{},{state:!0}],autoClose:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],flipDisabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],offsetDistance:[11,{},{type:Number,reflect:!0}],offsetSkidding:[11,{},{reflect:!0,type:Number}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],pointerDisabled:[7,{},{reflect:!0,type:Boolean}],referenceElement:1,scale:[3,{},{reflect:!0}],triggerDisabled:[7,{},{reflect:!0,type:Boolean}]},En.styles=Cl;let fi=En;vt("calcite-popover",fi);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function Jr(a,n){return(a+n)%n}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const eo={menu:"menu",defaultTrigger:"default-trigger"},pi={tooltip:"tooltip",trigger:"trigger"},Ol={menu:"ellipsis"},Pl="data-active";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const $l=pt`:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`,Al=["ArrowUp","ArrowDown","End","Home"],Sn=class Sn extends ht{constructor(){super(...arguments),this.guid=`calcite-action-menu-${mi()}`,this.actionElements=[],this.menuButtonClick=()=>{this.toggleOpen()},this.menuButtonId=`${this.guid}-menu-button`,this.menuButtonKeyDown=n=>{const{key:s}=n,{actionElements:l,activeMenuItemIndex:f,open:g}=this;if(l.length){if(uo(s)){if(n.preventDefault(),!g){this.toggleOpen();return}const v=l[f];v?v.click():this.toggleOpen(!1)}if(s==="Tab"){this.open=!1;return}if(s==="Escape"){this.toggleOpen(!1),n.preventDefault();return}this.handleActionNavigation(n,s,l)}},this.menuId=`${this.guid}-menu`,this._open=!1,this.updateAction=(n,s)=>{const{guid:l,activeMenuItemIndex:f}=this,g=`${l}-action-${s}`;n.tabIndex=-1,n.setAttribute("role","menuitem"),n.id||(n.id=g),n.toggleAttribute(Pl,s===f)},this.activeMenuItemIndex=-1,this.appearance="solid",this.expanded=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale="m",this.calciteActionMenuOpen=ye({cancelable:!1})}get open(){return this._open}set open(n){const s=this._open;n!==s&&(this._open=n,this.openHandler(n))}async setFocus(){return await Bt(this),co(this.menuButtonEl)}connectedCallback(){super.connectedCallback(),this.connectMenuButtonEl()}willUpdate(n){n.has("expanded")&&(this.hasUpdated||this.expanded!==!1)&&this.expandedHandler(),n.has("activeMenuItemIndex")&&(this.hasUpdated||this.activeMenuItemIndex!==-1)&&this.updateActions(this.actionElements)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(n){this.menuButtonEl&&(this.menuButtonEl.active=n),this.popoverEl&&(this.popoverEl.open=n),this.activeMenuItemIndex=this.open?0:-1,this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}connectMenuButtonEl(){const{menuButtonId:n,menuId:s,open:l,label:f}=this,g=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==g&&(this.disconnectMenuButtonEl(),this.menuButtonEl=g,this.setTooltipReferenceElement(),g&&(g.active=l,g.setAttribute("aria-controls",s),g.setAttribute("aria-expanded",lo(l)),g.setAttribute("aria-haspopup","true"),g.id||(g.id=n),g.label||(g.label=f),g.text||(g.text=f),g.addEventListener("click",this.menuButtonClick),g.addEventListener("keydown",this.menuButtonKeyDown)))}disconnectMenuButtonEl(){const{menuButtonEl:n}=this;n&&(n.removeEventListener("click",this.menuButtonClick),n.removeEventListener("keydown",this.menuButtonKeyDown),this.menuButtonEl=null)}setMenuButtonEl(n){const s=n.target.assignedElements({flatten:!0}).filter(l=>l==null?void 0:l.matches("calcite-action"));this.slottedMenuButtonEl=s[0],this.connectMenuButtonEl()}setDefaultMenuButtonEl(n){this.defaultMenuButtonEl=n,n&&this.connectMenuButtonEl()}setPopoverEl(n){n&&(this.popoverEl=n,n.open=this.open)}handleCalciteActionClick(){this.open=!1,this.setFocus()}updateTooltip(n){const s=n.target.assignedElements({flatten:!0}).filter(l=>l==null?void 0:l.matches("calcite-tooltip"));this.tooltipEl=s[0],this.setTooltipReferenceElement()}setTooltipReferenceElement(){const{tooltipEl:n,expanded:s,menuButtonEl:l,open:f}=this;n&&(n.referenceElement=!s&&!f?l:null)}updateActions(n){n==null||n.forEach(this.updateAction)}handleDefaultSlotChange(n){const s=n.target.assignedElements({flatten:!0}).reduce((l,f)=>f!=null&&f.matches("calcite-action")?(l.push(f),l):f!=null&&f.matches("calcite-action-group")?l.concat(Array.from(f.querySelectorAll("calcite-action"))):l,[]);this.actionElements=s.filter(l=>!l.disabled&&!l.hidden)}isValidKey(n,s){return!!s.find(l=>l===n)}handleActionNavigation(n,s,l){if(!this.isValidKey(s,Al))return;if(n.preventDefault(),!this.open){this.toggleOpen(),(s==="Home"||s==="ArrowDown")&&(this.activeMenuItemIndex=0),(s==="End"||s==="ArrowUp")&&(this.activeMenuItemIndex=l.length-1);return}s==="Home"&&(this.activeMenuItemIndex=0),s==="End"&&(this.activeMenuItemIndex=l.length-1);const f=this.activeMenuItemIndex;s==="ArrowUp"&&(this.activeMenuItemIndex=Jr(Math.max(f-1,-1),l.length)),s==="ArrowDown"&&(this.activeMenuItemIndex=Jr(f+1,l.length))}toggleOpen(n=!this.open){this.open=n}handlePopoverOpen(n){n.stopPropagation(),this.open=!0,this.setFocus()}handlePopoverClose(n){n.stopPropagation(),this.open=!1}renderMenuButton(){const{appearance:n,label:s,scale:l,expanded:f}=this;return G`<slot name=${pi.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${n} class=${Y(eo.defaultTrigger)} .icon=${Ol.menu} .scale=${l} .text=${s} .textEnabled=${f} ${xe(this.setDefaultMenuButtonEl)}></calcite-action></slot>`}renderMenuItems(){const{actionElements:n,activeMenuItemIndex:s,menuId:l,menuButtonEl:f,label:g,placement:v,overlayPositioning:b,flipPlacements:x}=this,E=n[s],$=(E==null?void 0:E.id)||null;return G`<calcite-popover auto-close .flipPlacements=${x} focus-trap-disabled .label=${g} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${b} .placement=${v} pointer-disabled .referenceElement=${f} trigger-disabled ${xe(this.setPopoverEl)}><div aria-activedescendant=${$??Qe} aria-labelledby=${(f==null?void 0:f.id)??Qe} class=${Y(eo.menu)} id=${l??Qe} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`}render(){return G`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${pi.tooltip} @slotchange=${this.updateTooltip}></slot>`}};Sn.properties={activeMenuItemIndex:[16,{},{state:!0}],menuButtonEl:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],expanded:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],label:1,open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},Sn.styles=$l;let hi=Sn;vt("calcite-action-menu",hi);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const le={actionBarContainer:"action-bar-container",container:"container",contentBottom:"content-bottom",contentTop:"content-top",header:"header",headerContainer:"header-container",headerContainerBorderEnd:"header-container--border-end",heading:"heading",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",contentWrapper:"content-wrapper",fabContainer:"fab-container",footer:"footer",footerContent:"footer-content",footerActions:"footer-actions",footerStart:"footer-start",footerEnd:"footer-end",headerSlottedContent:"header-slotted-content",menuAction:"menu-action"},to={close:"close",collapse:"collapse"},sn={close:"x",menu:"ellipsis",expand:"chevron-down",collapse:"chevron-up"},se={actionBar:"action-bar",alerts:"alerts",contentBottom:"content-bottom",contentTop:"content-top",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerEnd:"footer-end",footerStart:"footer-start",footerActions:"footer-actions"};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Dl=pt`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-sharp))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.container[hidden]{display:none}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}#close,#collapse,.back-button,calcite-action-menu{--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press)}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header-slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}:host([hidden]){display:none}[hidden]{display:none}`,kn=class kn extends ht{constructor(){super(),this.resizeObserver=Rt("resize",()=>this.resizeHandler()),this.messages=_t(),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.isClosed=!1,this.showHeaderContent=!1,this.closable=!1,this.closed=!1,this.collapseDirection="down",this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=Bc,this.overlayPositioning="absolute",this.scale="m",this.calcitePanelClose=ye({cancelable:!1}),this.calcitePanelScroll=ye({cancelable:!1}),this.calcitePanelToggle=ye({cancelable:!1}),this.listen("keydown",this.panelKeyDownHandler)}async scrollContentTo(n){var s;(s=this.panelScrollEl)==null||s.scrollTo(n)}async setFocus(){await Bt(this),yi(this.containerEl)}async load(){this.isClosed=this.closed}willUpdate(n){n.has("closed")&&this.hasUpdated&&(this.closed?this.close():this.open())}updated(){fo(this)}disconnectedCallback(){var n;super.disconnectedCallback(),(n=this.resizeObserver)==null||n.disconnect()}resizeHandler(){const{panelScrollEl:n}=this;if(!n||typeof n.scrollHeight!="number"||typeof n.offsetHeight!="number")return;n.scrollHeight>n.offsetHeight?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}setContainerRef(n){this.containerEl=n}panelKeyDownHandler(n){this.closable&&n.key==="Escape"&&!n.defaultPrevented&&(this.handleUserClose(),n.preventDefault())}handleUserClose(){this.closed=!0,this.calcitePanelClose.emit()}open(){this.isClosed=!1}async close(){const n=this.beforeClose??(()=>Promise.resolve());try{await n()}catch{requestAnimationFrame(()=>{this.closed=!1});return}this.isClosed=!0}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(n){this.hasStartActions=Te(n)}handleHeaderActionsEndSlotChange(n){this.hasEndActions=Te(n)}handleHeaderMenuActionsSlotChange(n){this.hasMenuItems=Te(n)}handleActionBarSlotChange(n){const s=mr(n).filter(l=>l==null?void 0:l.matches("calcite-action-bar"));s.forEach(l=>l.layout="horizontal"),this.hasActionBar=!!s.length}handleHeaderContentSlotChange(n){this.hasHeaderContent=Te(n)}handleFabSlotChange(n){this.hasFab=Te(n)}handleFooterActionsSlotChange(n){this.hasFooterActions=Te(n)}handleFooterEndSlotChange(n){this.hasFooterEndContent=Te(n)}handleFooterStartSlotChange(n){this.hasFooterStartContent=Te(n)}handleFooterSlotChange(n){this.hasFooterContent=Te(n)}contentBottomSlotChangeHandler(n){this.hasContentBottom=Te(n)}contentTopSlotChangeHandler(n){this.hasContentTop=Te(n)}setPanelScrollEl(n){var s,l;this.panelScrollEl=n,(s=this.resizeObserver)==null||s.disconnect(),n&&((l=this.resizeObserver)==null||l.observe(n),this.resizeHandler())}handleAlertsSlotChange(n){var s;(s=mr(n))==null||s.map(l=>{l.nodeName==="CALCITE-ALERT"&&(l.embedded=!0)})}renderHeaderContent(){const{heading:n,headingLevel:s,description:l,hasHeaderContent:f}=this,g=n?Io({class:le.heading,level:s,children:n}):null,v=l?G`<span class=${Y(le.description)}>${l}</span>`:null;return!f&&(g||v)?he("header-content",G`<div class=${Y(le.headerContent)}>${g}${v}</div>`):null}renderActionBar(){return G`<div class=${Y(le.actionBarContainer)} .hidden=${!this.hasActionBar}><slot name=${se.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return he("slotted-header-content",G`<div class=${Y({[le.headerContent]:!0,[le.headerSlottedContent]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${se.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){const{hasStartActions:n}=this;return he("header-actions-start",G`<div class=${Y({[le.headerActionsStart]:!0,[le.headerActions]:!0})} .hidden=${!n}><slot name=${se.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){const{hasEndActions:n,messages:s,closable:l,collapsed:f,collapseDirection:g,collapsible:v,hasMenuItems:b}=this,{collapse:x,expand:E,close:$}=s,O=[sn.expand,sn.collapse];g==="up"&&O.reverse();const z=v?G`<calcite-action .ariaExpanded=${!f} .ariaLabel=${x} .icon=${f?O[0]:O[1]} id=${to.collapse} @click=${this.collapse} .scale=${this.scale} .text=${x} title=${(f?E:x)??Qe}></calcite-action>`:null,D=l?G`<calcite-action .ariaLabel=${$} .icon=${sn.close} id=${to.close} @click=${this.handleUserClose} .scale=${this.scale} .text=${$} title=${$??Qe}></calcite-action>`:null,M=G`<slot name=${se.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,L=n||z||D||b;return he("header-actions-end",G`<div class=${Y({[le.headerActionsEnd]:!0,[le.headerActions]:!0})} .hidden=${!L}>${M}${this.renderMenu()}${z}${D}</div>`)}renderMenu(){const{hasMenuItems:n,messages:s,menuOpen:l,menuFlipPlacements:f,menuPlacement:g}=this;return he("menu",G`<calcite-action-menu .flipPlacements=${f??["top","bottom"]} .hidden=${!n} .label=${s.options} .open=${l} .overlayPositioning=${this.overlayPositioning} .placement=${g}><calcite-action class=${Y(le.menuAction)} .icon=${sn.menu} .scale=${this.scale} slot=${pi.trigger} .text=${s.options}></calcite-action><slot name=${se.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){const{hasHeaderContent:n,hasStartActions:s,hasEndActions:l,closable:f,collapsible:g,hasMenuItems:v,hasActionBar:b}=this,x=this.renderHeaderContent(),E=n||!!x||s||l||g||f||v;return this.showHeaderContent=E,G`<header class=${Y(le.header)} .hidden=${!(E||b)}><div class=${Y({[le.headerContainer]:!0,[le.headerContainerBorderEnd]:b})} .hidden=${!E}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${x}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){const{hasFooterEndContent:n,hasFooterStartContent:s,hasFooterContent:l,hasFooterActions:f}=this,g=s||n||l||f;return G`<footer class=${Y(le.footer)} .hidden=${!g}><div class=${Y(le.footerContent)} .hidden=${!l}><slot name=${se.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${Y(le.footerStart)} .hidden=${l||!s}><slot name=${se.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${Y(le.footerEnd)} .hidden=${l||!n}><slot name=${se.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${Y(le.footerActions)} .hidden=${l||!f}>${he("footer-actions-slot",G`<slot name=${se.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return G`<div class=${Y(le.contentWrapper)} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${xe(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return G`<div class=${Y(le.contentBottom)} .hidden=${!this.hasContentBottom}><slot name=${se.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return G`<div class=${Y(le.contentTop)} .hidden=${!this.hasContentTop}><slot name=${se.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return G`<div class=${Y(le.fabContainer)} .hidden=${!this.hasFab}><slot name=${se.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){const{disabled:n,loading:s,isClosed:l}=this,f=G`<article .ariaBusy=${s} class=${Y(le.container)} .hidden=${l} ${xe(this.setContainerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${he("alerts",G`<slot name=${se.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return po({disabled:n,children:G`${s?G`<calcite-scrim .loading=${s}></calcite-scrim>`:null}${f}`})}};kn.properties={hasActionBar:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasEndActions:[16,{},{state:!0}],hasFab:[16,{},{state:!0}],hasFooterActions:[16,{},{state:!0}],hasFooterContent:[16,{},{state:!0}],hasFooterEndContent:[16,{},{state:!0}],hasFooterStartContent:[16,{},{state:!0}],hasHeaderContent:[16,{},{state:!0}],hasMenuItems:[16,{},{state:!0}],hasStartActions:[16,{},{state:!0}],isClosed:[16,{},{state:!0}],showHeaderContent:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],collapseDirection:1,collapsed:[7,{},{reflect:!0,type:Boolean}],collapsible:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],loading:[7,{},{reflect:!0,type:Boolean}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},kn.styles=Dl;let vi=kn;vt("calcite-panel",vi);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function zl(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Dt={exports:{}},Il=Dt.exports,no;function Ml(){return no||(no=1,(function(a,n){(function(s,l){a.exports=l()})(Il,function(){function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(r){x(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function f(t){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function b(t,e,i){return e&&v(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x(t,e,i){return(e=L(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function E(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},O(t,e)}function z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})();return function(){var i,r=$(t);if(e){var o=$(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return(function(c,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(c)})(this,i)}}function M(){return M=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=(function(c,u){for(;!Object.prototype.hasOwnProperty.call(c,u)&&(c=$(c))!==null;);return c})(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:i):o.value}},M.apply(this,arguments)}function L(t){var e=(function(i,r){if(typeof i!="object"||i===null)return i;var o=i[Symbol.toPrimitive];if(o!==void 0){var c=o.call(i,r);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)})(t,"string");return typeof e=="symbol"?e:e+""}var U=function(t){return!(!t||!t.Window)&&t instanceof t.Window},j=void 0,W=void 0;function re(t){j=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),W=t}function ne(t){return U(t)?t:(t.ownerDocument||t).defaultView||W.window}typeof window<"u"&&window&&re(window);var Q=function(t){return!!t&&f(t)==="object"},ee=function(t){return typeof t=="function"},w={window:function(t){return t===W||U(t)},docFrag:function(t){return Q(t)&&t.nodeType===11},object:Q,func:ee,number:function(t){return typeof t=="number"},bool:function(t){return typeof t=="boolean"},string:function(t){return typeof t=="string"},element:function(t){if(!t||f(t)!=="object")return!1;var e=ne(t)||W;return/object|function/.test(typeof Element>"u"?"undefined":f(Element))?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:function(t){return Q(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return Q(t)&&t.length!==void 0&&ee(t.splice)}};function ue(t){var e=t.interaction;if(e.prepared.name==="drag"){var i=e.prepared.axis;i==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):i==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function fe(t){var e=t.iEvent,i=t.interaction;if(i.prepared.name==="drag"){var r=i.prepared.axis;if(r==="x"||r==="y"){var o=r==="x"?"y":"x";e.page[o]=i.coords.start.page[o],e.client[o]=i.coords.start.client[o],e.delta[o]=0}}}var oe={id:"actions/drag",install:function(t){var e=t.actions,i=t.Interactable,r=t.defaults;i.prototype.draggable=oe.draggable,e.map.drag=oe,e.methodDict.drag="draggable",r.actions.drag=oe.defaults},listeners:{"interactions:before-action-move":ue,"interactions:action-resume":ue,"interactions:action-move":fe,"auto-start:check":function(t){var e=t.interaction,i=t.interactable,r=t.buttons,o=i.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||(r&i.options.drag.mouseButtons)!=0))return t.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(t){return w.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):w.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:ue,move:fe,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(t){return t.search("drag")===0}},pe=oe,V={init:function(t){var e=t;V.document=e.document,V.DocumentFragment=e.DocumentFragment||k,V.SVGElement=e.SVGElement||k,V.SVGSVGElement=e.SVGSVGElement||k,V.SVGElementInstance=e.SVGElementInstance||k,V.Element=e.Element||k,V.HTMLElement=e.HTMLElement||V.Element,V.Event=e.Event,V.Touch=e.Touch||k,V.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function k(){}var T=V,F={init:function(t){var e=T.Element,i=t.navigator||{};F.supportsTouch="ontouchstart"in t||w.func(t.DocumentTouch)&&T.document instanceof t.DocumentTouch,F.supportsPointerEvent=i.pointerEnabled!==!1&&!!T.PointerEvent,F.isIOS=/iP(hone|od|ad)/.test(i.platform),F.isIOS7=/iP(hone|od|ad)/.test(i.platform)&&/OS 7[^\d]/.test(i.appVersion),F.isIe9=/MSIE 9/.test(i.userAgent),F.isOperaMobile=i.appName==="Opera"&&F.supportsTouch&&/Presto/.test(i.userAgent),F.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",F.pEventTypes=F.supportsPointerEvent?T.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,F.wheelEvent=T.document&&"onmousewheel"in T.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},N=F;function K(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function te(t,e){for(;w.element(t);){if(ae(t,e))return t;t=H(t)}return null}function H(t){var e=t.parentNode;if(w.docFrag(e)){for(;(e=e.host)&&w.docFrag(e););return e}return e}function ae(t,e){return W!==j&&(e=e.replace(/\/deep\//g," ")),t[N.prefixedMatchesSelector](e)}var de=function(t){return t.parentNode||t.host};function Ae(t,e){for(var i,r=[],o=t;(i=de(o))&&o!==e&&i!==o.ownerDocument;)r.unshift(o),o=i;return r}function Fe(t,e,i){for(;w.element(t);){if(ae(t,e))return!0;if((t=H(t))===i)return ae(t,e)}return!1}function Se(t){return t.correspondingUseElement||t}function Re(t){var e=t instanceof T.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function it(t){var e,i=Re(t);if(!N.isIOS7&&i){var r={x:(e=(e=ne(t))||W).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};i.left+=r.x,i.right+=r.x,i.top+=r.y,i.bottom+=r.y}return i}function rt(t){for(var e=[];t;)e.push(t),t=H(t);return e}function ot(t){return!!w.string(t)&&(T.document.querySelector(t),!0)}function B(t,e){for(var i in e)t[i]=e[i];return t}function ki(t,e,i){return t==="parent"?H(i):t==="self"?e.getRect(i):te(i,t)}function mt(t,e,i,r){var o=t;return w.string(o)?o=ki(o,e,i):w.func(o)&&(o=o.apply(void 0,r)),w.element(o)&&(o=it(o)),o}function Lt(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function Dn(t){return!t||"x"in t&&"y"in t||((t=B({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function jt(t,e,i){t.left&&(e.left+=i.x),t.right&&(e.right+=i.x),t.top&&(e.top+=i.y),t.bottom&&(e.bottom+=i.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function bt(t,e,i){var r=i&&t.options[i];return Lt(mt(r&&r.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function Xe(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(p){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},w.string(t)&&t.search(" ")!==-1&&(t=Ti(t)),w.array(t))return t.forEach(function(p){return Xe(p,e,i,r)}),r;if(w.object(t)&&(e=t,t=""),w.func(e)&&i(t))r[t]=r[t]||[],r[t].push(e);else if(w.array(e))for(var o=0,c=e;o<c.length;o++){var u=c[o];Xe(t,u,i,r)}else if(w.object(e))for(var d in e)Xe(Ti(d).map(function(p){return"".concat(t).concat(p)}),e[d],i,r);return r}function Ti(t){return t.trim().split(/ +/)}var yt=function(t,e){return Math.sqrt(t*t+e*e)},jo=["webkit","moz"];function Ht(t,e){t.__set||(t.__set={});var i=function(o){if(jo.some(function(c){return o.indexOf(c)===0}))return 1;typeof t[o]!="function"&&o!=="__set"&&Object.defineProperty(t,o,{get:function(){return o in t.__set?t.__set[o]:t.__set[o]=e[o]},set:function(c){t.__set[o]=c},configurable:!0})};for(var r in e)i(r);return t}function Ut(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function Ci(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function Oi(t){return t instanceof T.Event||t instanceof T.Touch}function Wt(t,e,i){return t=t||"page",(i=i||{}).x=e[t+"X"],i.y=e[t+"Y"],i}function Pi(t,e){return e=e||{x:0,y:0},N.isOperaMobile&&Oi(t)?(Wt("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):Wt("page",t,e),e}function xt(t){return w.number(t.pointerId)?t.pointerId:t.identifier}function Ho(t,e,i){var r=e.length>1?$i(e):e[0];Pi(r,t.page),(function(o,c){c=c||{},N.isOperaMobile&&Oi(o)?Wt("screen",o,c):Wt("client",o,c)})(r,t.client),t.timeStamp=i}function zn(t){var e=[];return w.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function $i(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},i=0;i<t.length;i++){var r=t[i];for(var o in e)e[o]+=r[o]}for(var c in e)e[c]/=t.length;return e}function In(t){if(!t.length)return null;var e=zn(t),i=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),c=Math.max(e[0].pageY,e[1].pageY);return{x:i,y:r,left:i,top:r,right:o,bottom:c,width:o-i,height:c-r}}function Mn(t,e){var i=e+"X",r=e+"Y",o=zn(t),c=o[0][i]-o[1][i],u=o[0][r]-o[1][r];return yt(c,u)}function Fn(t,e){var i=e+"X",r=e+"Y",o=zn(t),c=o[1][i]-o[0][i],u=o[1][r]-o[0][r];return 180*Math.atan2(u,c)/Math.PI}function Ai(t){return w.string(t.pointerType)?t.pointerType:w.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof T.Touch?"touch":"mouse"}function Di(t){var e=w.func(t.composedPath)?t.composedPath():t.path;return[Se(e?e[0]:t.target),Se(t.currentTarget)]}var Kt=(function(){function t(e){g(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return b(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t})();Object.defineProperty(Kt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var zi=function(t,e){for(var i=0;i<e.length;i++){var r=e[i];t.push(r)}return t},Ii=function(t){return zi([],t)},wt=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1},Et=function(t,e){return t[wt(t,e)]},at=(function(t){E(i,t);var e=D(i);function i(r,o,c){var u;g(this,i),(u=e.call(this,o._interaction)).dropzone=void 0,u.dragEvent=void 0,u.relatedTarget=void 0,u.draggable=void 0,u.propagationStopped=!1,u.immediatePropagationStopped=!1;var d=c==="dragleave"?r.prev:r.cur,p=d.element,m=d.dropzone;return u.type=c,u.target=p,u.currentTarget=p,u.dropzone=m,u.dragEvent=o,u.relatedTarget=o.target,u.draggable=o.interactable,u.timeStamp=o.timeStamp,u}return b(i,[{key:"reject",value:function(){var r=this,o=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&o.cur.dropzone===this.dropzone&&o.cur.element===this.target)if(o.prev.dropzone=this.dropzone,o.prev.element=this.target,o.rejected=!0,o.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var c=o.activeDrops,u=wt(c,function(p){var m=p.dropzone,h=p.element;return m===r.dropzone&&h===r.target});o.activeDrops.splice(u,1);var d=new i(o,this.dragEvent,"dropdeactivate");d.dropzone=this.dropzone,d.target=this.target,this.dropzone.fire(d)}else this.dropzone.fire(new i(o,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),i})(Kt);function Mi(t,e){for(var i=0,r=t.slice();i<r.length;i++){var o=r[i],c=o.dropzone,u=o.element;e.dropzone=c,e.target=u,c.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function Rn(t,e){for(var i=(function(c,u){for(var d=[],p=0,m=c.interactables.list;p<m.length;p++){var h=m[p];if(h.options.drop.enabled){var y=h.options.drop.accept;if(!(w.element(y)&&y!==u||w.string(y)&&!ae(u,y)||w.func(y)&&!y({dropzone:h,draggableElement:u})))for(var S=0,P=h.getAllElements();S<P.length;S++){var C=P[S];C!==u&&d.push({dropzone:h,element:C,rect:h.getRect(C)})}}}return d})(t,e),r=0;r<i.length;r++){var o=i[r];o.rect=o.dropzone.getRect(o.element)}return i}function Fi(t,e,i){for(var r=t.dropState,o=t.interactable,c=t.element,u=[],d=0,p=r.activeDrops;d<p.length;d++){var m=p[d],h=m.dropzone,y=m.element,S=m.rect,P=h.dropCheck(e,i,o,c,y,S);u.push(P?y:null)}var C=(function(A){for(var R,I,_,Z=[],ie=0;ie<A.length;ie++){var q=A[ie],J=A[R];if(q&&ie!==R)if(J){var ge=de(q),ce=de(J);if(ge!==q.ownerDocument)if(ce!==q.ownerDocument)if(ge!==ce){Z=Z.length?Z:Ae(J);var be=void 0;if(J instanceof T.HTMLElement&&q instanceof T.SVGElement&&!(q instanceof T.SVGSVGElement)){if(q===ce)continue;be=q.ownerSVGElement}else be=q;for(var ke=Ae(be,J.ownerDocument),Ne=0;ke[Ne]&&ke[Ne]===Z[Ne];)Ne++;var en=[ke[Ne-1],ke[Ne],Z[Ne]];if(en[0])for(var Pt=en[0].lastChild;Pt;){if(Pt===en[1]){R=ie,Z=ke;break}if(Pt===en[2])break;Pt=Pt.previousSibling}}else _=J,(parseInt(ne(I=q).getComputedStyle(I).zIndex,10)||0)>=(parseInt(ne(_).getComputedStyle(_).zIndex,10)||0)&&(R=ie);else R=ie}else R=ie}return R})(u);return r.activeDrops[C]||null}function _n(t,e,i){var r=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return i.type==="dragstart"&&(o.activate=new at(r,i,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),i.type==="dragend"&&(o.deactivate=new at(r,i,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new at(r,i,"dragleave"),i.dragLeave=o.leave.target=r.prev.element,i.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new at(r,i,"dragenter"),i.dragEnter=r.cur.element,i.dropzone=r.cur.dropzone)),i.type==="dragend"&&r.cur.dropzone&&(o.drop=new at(r,i,"drop"),i.dropzone=r.cur.dropzone,i.relatedTarget=r.cur.element),i.type==="dragmove"&&r.cur.dropzone&&(o.move=new at(r,i,"dropmove"),i.dropzone=r.cur.dropzone)),o}function Bn(t,e){var i=t.dropState,r=i.activeDrops,o=i.cur,c=i.prev;e.leave&&c.dropzone.fire(e.leave),e.enter&&o.dropzone.fire(e.enter),e.move&&o.dropzone.fire(e.move),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&Mi(r,e.deactivate),i.prev.dropzone=o.dropzone,i.prev.element=o.element}function Ri(t,e){var i=t.interaction,r=t.iEvent,o=t.event;if(r.type==="dragmove"||r.type==="dragend"){var c=i.dropState;e.dynamicDrop&&(c.activeDrops=Rn(e,i.element));var u=r,d=Fi(i,u,o);c.rejected=c.rejected&&!!d&&d.dropzone===c.cur.dropzone&&d.element===c.cur.element,c.cur.dropzone=d&&d.dropzone,c.cur.element=d&&d.element,c.events=_n(i,0,u)}}var _i={id:"actions/drop",install:function(t){var e=t.actions,i=t.interactStatic,r=t.Interactable,o=t.defaults;t.usePlugin(pe),r.prototype.dropzone=function(c){return(function(u,d){if(w.object(d)){if(u.options.drop.enabled=d.enabled!==!1,d.listeners){var p=Xe(d.listeners),m=Object.keys(p).reduce(function(y,S){return y[/^(enter|leave)/.test(S)?"drag".concat(S):/^(activate|deactivate|move)/.test(S)?"drop".concat(S):S]=p[S],y},{}),h=u.options.drop.listeners;h&&u.off(h),u.on(m),u.options.drop.listeners=m}return w.func(d.ondrop)&&u.on("drop",d.ondrop),w.func(d.ondropactivate)&&u.on("dropactivate",d.ondropactivate),w.func(d.ondropdeactivate)&&u.on("dropdeactivate",d.ondropdeactivate),w.func(d.ondragenter)&&u.on("dragenter",d.ondragenter),w.func(d.ondragleave)&&u.on("dragleave",d.ondragleave),w.func(d.ondropmove)&&u.on("dropmove",d.ondropmove),/^(pointer|center)$/.test(d.overlap)?u.options.drop.overlap=d.overlap:w.number(d.overlap)&&(u.options.drop.overlap=Math.max(Math.min(1,d.overlap),0)),"accept"in d&&(u.options.drop.accept=d.accept),"checker"in d&&(u.options.drop.checker=d.checker),u}return w.bool(d)?(u.options.drop.enabled=d,u):u.options.drop})(this,c)},r.prototype.dropCheck=function(c,u,d,p,m,h){return(function(y,S,P,C,A,R,I){var _=!1;if(!(I=I||y.getRect(R)))return!!y.options.drop.checker&&y.options.drop.checker(S,P,_,y,R,C,A);var Z=y.options.drop.overlap;if(Z==="pointer"){var ie=bt(C,A,"drag"),q=Pi(S);q.x+=ie.x,q.y+=ie.y;var J=q.x>I.left&&q.x<I.right,ge=q.y>I.top&&q.y<I.bottom;_=J&&ge}var ce=C.getRect(A);if(ce&&Z==="center"){var be=ce.left+ce.width/2,ke=ce.top+ce.height/2;_=be>=I.left&&be<=I.right&&ke>=I.top&&ke<=I.bottom}return ce&&w.number(Z)&&(_=Math.max(0,Math.min(I.right,ce.right)-Math.max(I.left,ce.left))*Math.max(0,Math.min(I.bottom,ce.bottom)-Math.max(I.top,ce.top))/(ce.width*ce.height)>=Z),y.options.drop.checker&&(_=y.options.drop.checker(S,P,_,y,R,C,A)),_})(this,c,u,d,p,m,h)},i.dynamicDrop=function(c){return w.bool(c)?(t.dynamicDrop=c,i):t.dynamicDrop},B(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=_i.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var i=t.interaction,r=(t.event,t.iEvent);if(i.prepared.name==="drag"){var o=i.dropState;o.activeDrops=[],o.events={},o.activeDrops=Rn(e,i.element),o.events=_n(i,0,r),o.events.activate&&(Mi(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:i,dragEvent:r}))}},"interactions:action-move":Ri,"interactions:after-action-move":function(t,e){var i=t.interaction,r=t.iEvent;if(i.prepared.name==="drag"){var o=i.dropState;Bn(i,o.events),e.fire("actions/drop:move",{interaction:i,dragEvent:r}),o.events={}}},"interactions:action-end":function(t,e){if(t.interaction.prepared.name==="drag"){var i=t.interaction,r=t.iEvent;Ri(t,e),Bn(i,i.dropState.events),e.fire("actions/drop:end",{interaction:i,dragEvent:r})}},"interactions:stop":function(t){var e=t.interaction;if(e.prepared.name==="drag"){var i=e.dropState;i&&(i.activeDrops=null,i.events=null,i.cur.dropzone=null,i.cur.element=null,i.prev.dropzone=null,i.prev.element=null,i.rejected=!1)}}},getActiveDrops:Rn,getDrop:Fi,getDropEvents:_n,fireDropEvents:Bn,filterEventType:function(t){return t.search("drag")===0||t.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Uo=_i;function Nn(t){var e=t.interaction,i=t.iEvent,r=t.phase;if(e.prepared.name==="gesture"){var o=e.pointers.map(function(m){return m.pointer}),c=r==="start",u=r==="end",d=e.interactable.options.deltaSource;if(i.touches=[o[0],o[1]],c)i.distance=Mn(o,d),i.box=In(o),i.scale=1,i.ds=0,i.angle=Fn(o,d),i.da=0,e.gesture.startDistance=i.distance,e.gesture.startAngle=i.angle;else if(u||e.pointers.length<2){var p=e.prevEvent;i.distance=p.distance,i.box=p.box,i.scale=p.scale,i.ds=0,i.angle=p.angle,i.da=0}else i.distance=Mn(o,d),i.box=In(o),i.scale=i.distance/e.gesture.startDistance,i.angle=Fn(o,d),i.ds=i.scale-e.gesture.scale,i.da=i.angle-e.gesture.angle;e.gesture.distance=i.distance,e.gesture.angle=i.angle,w.number(i.scale)&&i.scale!==1/0&&!isNaN(i.scale)&&(e.gesture.scale=i.scale)}}var Ln={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,i=t.Interactable,r=t.defaults;i.prototype.gesturable=function(o){return w.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):w.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},e.map.gesture=Ln,e.methodDict.gesture="gesturable",r.actions.gesture=Ln.defaults},listeners:{"interactions:action-start":Nn,"interactions:action-move":Nn,"interactions:action-end":Nn,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(t){return t.search("gesture")===0}},Wo=Ln;function Ko(t,e,i,r,o,c,u){if(!e)return!1;if(e===!0){var d=w.number(c.width)?c.width:c.right-c.left,p=w.number(c.height)?c.height:c.bottom-c.top;if(u=Math.min(u,Math.abs((t==="left"||t==="right"?d:p)/2)),d<0&&(t==="left"?t="right":t==="right"&&(t="left")),p<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){var m=d>=0?c.left:c.right;return i.x<m+u}if(t==="top"){var h=p>=0?c.top:c.bottom;return i.y<h+u}if(t==="right")return i.x>(d>=0?c.right:c.left)-u;if(t==="bottom")return i.y>(p>=0?c.bottom:c.top)-u}return!!w.element(r)&&(w.element(e)?e===r:Fe(r,e,o))}function Bi(t){var e=t.iEvent,i=t.interaction;if(i.prepared.name==="resize"&&i.resizeAxes){var r=e;i.interactable.options.resize.square?(i.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=i.resizeAxes,i.resizeAxes==="x"?r.delta.y=0:i.resizeAxes==="y"&&(r.delta.x=0))}}var _e,Ye,Be={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,i=t.browser,r=t.Interactable,o=t.defaults;Be.cursors=(function(c){return c.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}})(i),Be.defaultMargin=i.supportsTouch||i.supportsPointerEvent?20:10,r.prototype.resizable=function(c){return(function(u,d,p){return w.object(d)?(u.options.resize.enabled=d.enabled!==!1,u.setPerAction("resize",d),u.setOnEvents("resize",d),w.string(d.axis)&&/^x$|^y$|^xy$/.test(d.axis)?u.options.resize.axis=d.axis:d.axis===null&&(u.options.resize.axis=p.defaults.actions.resize.axis),w.bool(d.preserveAspectRatio)?u.options.resize.preserveAspectRatio=d.preserveAspectRatio:w.bool(d.square)&&(u.options.resize.square=d.square),u):w.bool(d)?(u.options.resize.enabled=d,u):u.options.resize})(this,c,t)},e.map.resize=Be,e.methodDict.resize="resizable",o.actions.resize=Be.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){(function(e){var i=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=i,c=r.rect;r._rects={start:B({},c),corrected:B({},c),previous:B({},c),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=r.prepared.edges,o.rect=r._rects.corrected,o.deltaRect=r._rects.delta}})(t),Bi(t)},"interactions:action-move":function(t){(function(e){var i=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var o=i,c=r.interactable.options.resize.invert,u=c==="reposition"||c==="negate",d=r.rect,p=r._rects,m=p.start,h=p.corrected,y=p.delta,S=p.previous;if(B(S,h),u){if(B(h,d),c==="reposition"){if(h.top>h.bottom){var P=h.top;h.top=h.bottom,h.bottom=P}if(h.left>h.right){var C=h.left;h.left=h.right,h.right=C}}}else h.top=Math.min(d.top,m.bottom),h.bottom=Math.max(d.bottom,m.top),h.left=Math.min(d.left,m.right),h.right=Math.max(d.right,m.left);for(var A in h.width=h.right-h.left,h.height=h.bottom-h.top,h)y[A]=h[A]-S[A];o.edges=r.prepared.edges,o.rect=h,o.deltaRect=y}})(t),Bi(t)},"interactions:action-end":function(t){var e=t.iEvent,i=t.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var r=e;r.edges=i.prepared.edges,r.rect=i._rects.corrected,r.deltaRect=i._rects.delta}},"auto-start:check":function(t){var e=t.interaction,i=t.interactable,r=t.element,o=t.rect,c=t.buttons;if(o){var u=B({},e.coords.cur.page),d=i.options.resize;if(d&&d.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||(c&d.mouseButtons)!=0)){if(w.object(d.edges)){var p={left:!1,right:!1,top:!1,bottom:!1};for(var m in p)p[m]=Ko(m,d.edges[m],u,e._latestPointer.eventTarget,r,o,d.margin||Be.defaultMargin);p.left=p.left&&!p.right,p.top=p.top&&!p.bottom,(p.left||p.right||p.top||p.bottom)&&(t.action={name:"resize",edges:p})}else{var h=d.axis!=="y"&&u.x>o.right-Be.defaultMargin,y=d.axis!=="x"&&u.y>o.bottom-Be.defaultMargin;(h||y)&&(t.action={name:"resize",axes:(h?"x":"")+(y?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,i=t.axis,r=t.name,o=Be.cursors,c=null;if(i)c=o[r+i];else if(e){for(var u="",d=0,p=["top","bottom","left","right"];d<p.length;d++){var m=p[d];e[m]&&(u+=m)}c=o[u]}return c},filterEventType:function(t){return t.search("resize")===0},defaultMargin:null},Vo=Be,qo={id:"actions",install:function(t){t.usePlugin(Wo),t.usePlugin(Vo),t.usePlugin(pe),t.usePlugin(Uo)}},Ni=0,je={request:function(t){return _e(t)},cancel:function(t){return Ye(t)},init:function(t){if(_e=t.requestAnimationFrame,Ye=t.cancelAnimationFrame,!_e)for(var e=["ms","moz","webkit","o"],i=0;i<e.length;i++){var r=e[i];_e=t["".concat(r,"RequestAnimationFrame")],Ye=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}_e=_e&&_e.bind(t),Ye=Ye&&Ye.bind(t),_e||(_e=function(o){var c=Date.now(),u=Math.max(0,16-(c-Ni)),d=t.setTimeout(function(){o(c+u)},u);return Ni=c+u,d},Ye=function(o){return clearTimeout(o)})}},X={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){X.isScrolling=!0,je.cancel(X.i),t.autoScroll=X,X.interaction=t,X.prevTime=X.now(),X.i=je.request(X.scroll)},stop:function(){X.isScrolling=!1,X.interaction&&(X.interaction.autoScroll=null),je.cancel(X.i)},scroll:function(){var t=X.interaction,e=t.interactable,i=t.element,r=t.prepared.name,o=e.options[r].autoScroll,c=Li(o.container,e,i),u=X.now(),d=(u-X.prevTime)/1e3,p=o.speed*d;if(p>=1){var m={x:X.x*p,y:X.y*p};if(m.x||m.y){var h=ji(c);w.window(c)?c.scrollBy(m.x,m.y):c&&(c.scrollLeft+=m.x,c.scrollTop+=m.y);var y=ji(c),S={x:y.x-h.x,y:y.y-h.y};(S.x||S.y)&&e.fire({type:"autoscroll",target:i,interactable:e,delta:S,interaction:t,container:c})}X.prevTime=u}X.isScrolling&&(je.cancel(X.i),X.i=je.request(X.scroll))},check:function(t,e){var i;return(i=t.options[e].autoScroll)==null?void 0:i.enabled},onInteractionMove:function(t){var e=t.interaction,i=t.pointer;if(e.interacting()&&X.check(e.interactable,e.prepared.name))if(e.simulation)X.x=X.y=0;else{var r,o,c,u,d=e.interactable,p=e.element,m=e.prepared.name,h=d.options[m].autoScroll,y=Li(h.container,d,p);if(w.window(y))u=i.clientX<X.margin,r=i.clientY<X.margin,o=i.clientX>y.innerWidth-X.margin,c=i.clientY>y.innerHeight-X.margin;else{var S=Re(y);u=i.clientX<S.left+X.margin,r=i.clientY<S.top+X.margin,o=i.clientX>S.right-X.margin,c=i.clientY>S.bottom-X.margin}X.x=o?1:u?-1:0,X.y=c?1:r?-1:0,X.isScrolling||(X.margin=h.margin,X.speed=h.speed,X.start(e))}}};function Li(t,e,i){return(w.string(t)?ki(t,e,i):t)||ne(i)}function ji(t){return w.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Xo={id:"auto-scroll",install:function(t){var e=t.defaults,i=t.actions;t.autoScroll=X,X.now=function(){return t.now()},i.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=X.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,X.stop(),X.interaction&&(X.interaction=null)},"interactions:stop":X.stop,"interactions:action-move":function(t){return X.onInteractionMove(t)}}},Yo=Xo;function St(t,e){var i=!1;return function(){return i||(W.console.warn(e),i=!0),t.apply(this,arguments)}}function jn(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function Go(t){return w.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Zo(t){return w.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}var Qo={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(i,r,o,c){var u=(function(d,p,m,h,y){var S=d.getRect(h),P=p.buttons||{0:1,1:4,3:8,4:16}[p.button],C={action:null,interactable:d,interaction:m,element:h,rect:S,buttons:P};return y.fire("auto-start:check",C),C.action})(this,r,o,c,t);return this.options.actionChecker?this.options.actionChecker(i,r,u,this,c,o):u},e.prototype.ignoreFrom=St(function(i){return this._backCompatOption("ignoreFrom",i)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=St(function(i){return this._backCompatOption("allowFrom",i)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=Zo,e.prototype.styleCursor=Go}};function Hi(t,e,i,r,o){return e.testIgnoreAllow(e.options[t.name],i,r)&&e.options[t.name].enabled&&Vt(e,i,t,o)?t:null}function Jo(t,e,i,r,o,c,u){for(var d=0,p=r.length;d<p;d++){var m=r[d],h=o[d],y=m.getAction(e,i,t,h);if(y){var S=Hi(y,m,h,c,u);if(S)return{action:S,interactable:m,element:h}}}return{action:null,interactable:null,element:null}}function Ui(t,e,i,r,o){var c=[],u=[],d=r;function p(h){c.push(h),u.push(d)}for(;w.element(d);){c=[],u=[],o.interactables.forEachMatch(d,p);var m=Jo(t,e,i,c,u,r,o);if(m.action&&!m.interactable.options[m.action.name].manualStart)return m;d=H(d)}return{action:null,interactable:null,element:null}}function Wi(t,e,i){var r=e.action,o=e.interactable,c=e.element;r=r||{name:null},t.interactable=o,t.element=c,jn(t.prepared,r),t.rect=o&&r.name?o.getRect(c):null,Vi(t,i),i.fire("autoStart:prepared",{interaction:t})}function Vt(t,e,i,r){var o=t.options,c=o[i.name].max,u=o[i.name].maxPerElement,d=r.autoStart.maxInteractions,p=0,m=0,h=0;if(!(c&&u&&d))return!1;for(var y=0,S=r.interactions.list;y<S.length;y++){var P=S[y],C=P.prepared.name;if(P.interacting()&&(++p>=d||P.interactable===t&&((m+=C===i.name?1:0)>=c||P.element===e&&(h++,C===i.name&&h>=u))))return!1}return d>0}function Ki(t,e){return w.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Hn(t,e,i){var r=i.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,i.autoStart.cursorElement=e?t:null}function Vi(t,e){var i=t.interactable,r=t.element,o=t.prepared;if(t.pointerType==="mouse"&&i&&i.options.styleCursor){var c="";if(o.name){var u=i.options[o.name].cursorChecker;c=w.func(u)?u(o,i,r,t._interacting):e.actions.map[o.name].getCursor(o)}Hn(t.element,c||"",e)}else e.autoStart.cursorElement&&Hn(e.autoStart.cursorElement,"",e)}var ea={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,i=t.defaults;t.usePlugin(Qo),i.base.actionChecker=null,i.base.styleCursor=!0,B(i.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(r){return Ki(r,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Vt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var i=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget;i.interacting()||Wi(i,Ui(i,r,o,c,e),e)},"interactions:move":function(t,e){(function(i,r){var o=i.interaction,c=i.pointer,u=i.event,d=i.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||Wi(o,Ui(o,c,u,d,r),r)})(t,e),(function(i,r){var o=i.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){r.fire("autoStart:before-start",i);var c=o.interactable,u=o.prepared.name;u&&c&&(c.options[u].manualStart||!Vt(c,o.element,o.prepared,r)?o.stop():(o.start(o.prepared,c,o.element),Vi(o,r)))}})(t,e)},"interactions:stop":function(t,e){var i=t.interaction,r=i.interactable;r&&r.options.styleCursor&&Hn(i.element,"",e)}},maxInteractions:Ki,withinInteractionLimit:Vt,validateAction:Hi},Un=ea,ta={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var i=t.interaction,r=t.eventTarget,o=t.dx,c=t.dy;if(i.prepared.name==="drag"){var u=Math.abs(o),d=Math.abs(c),p=i.interactable.options.drag,m=p.startAxis,h=u>d?"x":u<d?"y":"xy";if(i.prepared.axis=p.lockAxis==="start"?h[0]:p.lockAxis,h!=="xy"&&m!=="xy"&&m!==h){i.prepared.name=null;for(var y=r,S=function(C){if(C!==i.interactable){var A=i.interactable.options.drag;if(!A.manualStart&&C.testIgnoreAllow(A,y,r)){var R=C.getAction(i.downPointer,i.downEvent,i,y);if(R&&R.name==="drag"&&(function(I,_){if(!_)return!1;var Z=_.options.drag.startAxis;return I==="xy"||Z==="xy"||Z===I})(h,C)&&Un.validateAction(R,C,y,r,e))return C}}};w.element(y);){var P=e.interactables.forEachMatch(y,S);if(P){i.prepared.name="drag",i.interactable=P,i.element=y;break}y=H(y)}}}}}};function Wn(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var i=t.interactable.options;return i[e].hold||i[e].delay}var na={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(Un),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,i=Wn(e);i>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},i))},"interactions:move":function(t){var e=t.interaction,i=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!i&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;Wn(e)>0&&(e.prepared.name=null)}},getHoldDuration:Wn},ia=na,ra={id:"auto-start",install:function(t){t.usePlugin(Un),t.usePlugin(ia),t.usePlugin(ta)}},oa=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):w.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function aa(t){var e=t.interaction,i=t.event;e.interactable&&e.interactable.checkAndPreventDefault(i)}var qi={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=oa,e.prototype.checkAndPreventDefault=function(i){return(function(r,o,c){var u=r.options.preventDefault;if(u!=="never")if(u!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(c.type)){var d=ne(c.target).document,p=o.getDocOptions(d);if(!p||!p.events||p.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(c.type)||w.element(c.target)&&ae(c.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||c.preventDefault()}else c.preventDefault()})(this,t,i)},t.interactions.docEvents.push({type:"dragstart",listener:function(i){for(var r=0,o=t.interactions.list;r<o.length;r++){var c=o[r];if(c.element&&(c.element===i.target||K(c.element,i.target)))return void c.interactable.checkAndPreventDefault(i)}}})},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=aa,t},{})};function qt(t,e){if(e.phaselessTypes[t])return!0;for(var i in e.map)if(t.indexOf(i)===0&&t.substr(i.length)in e.phases)return!0;return!1}function st(t){var e={};for(var i in t){var r=t[i];w.plainObject(r)?e[i]=st(r):w.array(r)?e[i]=Ii(r):e[i]=r}return e}var Kn=(function(){function t(e){g(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=Xt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return b(t,[{key:"start",value:function(e,i){var r,o,c=e.phase,u=this.interaction,d=(function(m){var h=m.interactable.options[m.prepared.name],y=h.modifiers;return y&&y.length?y:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(S){var P=h[S];return P&&P.enabled&&{options:P,methods:P._methods}}).filter(function(S){return!!S})})(u);this.prepareStates(d),this.startEdges=B({},u.edges),this.edges=B({},this.startEdges),this.startOffset=(r=u.rect,o=i,r?{left:o.x-r.left,top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var p=this.fillArg({phase:c,pageCoords:i,preEnd:!1});return this.result=Xt(),this.startAll(p),this.result=this.setAll(p)}},{key:"fillArg",value:function(e){var i=this.interaction;return e.interaction=i,e.interactable=i.interactable,e.element=i.element,e.rect||(e.rect=i.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var i=0,r=this.states;i<r.length;i++){var o=r[i];o.methods.start&&(e.state=o,o.methods.start(e))}}},{key:"setAll",value:function(e){var i=e.phase,r=e.preEnd,o=e.skipModifiers,c=e.rect,u=e.edges;e.coords=B({},e.pageCoords),e.rect=B({},c),e.edges=B({},u);for(var d=o?this.states.slice(o):this.states,p=Xt(e.coords,e.rect),m=0;m<d.length;m++){var h,y=d[m],S=y.options,P=B({},e.coords),C=null;(h=y.methods)!=null&&h.set&&this.shouldDo(S,r,i)&&(e.state=y,C=y.methods.set(e),jt(e.edges,e.rect,{x:e.coords.x-P.x,y:e.coords.y-P.y})),p.eventProps.push(C)}B(this.edges,e.edges),p.delta.x=e.coords.x-e.pageCoords.x,p.delta.y=e.coords.y-e.pageCoords.y,p.rectDelta.left=e.rect.left-c.left,p.rectDelta.right=e.rect.right-c.right,p.rectDelta.top=e.rect.top-c.top,p.rectDelta.bottom=e.rect.bottom-c.bottom;var A=this.result.coords,R=this.result.rect;if(A&&R){var I=p.rect.left!==R.left||p.rect.right!==R.right||p.rect.top!==R.top||p.rect.bottom!==R.bottom;p.changed=I||A.x!==p.coords.x||A.y!==p.coords.y}return p}},{key:"applyToInteraction",value:function(e){var i=this.interaction,r=e.phase,o=i.coords.cur,c=i.coords.start,u=this.result,d=this.startDelta,p=u.delta;r==="start"&&B(this.startDelta,u.delta);for(var m=0,h=[[c,d],[o,p]];m<h.length;m++){var y=h[m],S=y[0],P=y[1];S.page.x+=P.x,S.page.y+=P.y,S.client.x+=P.x,S.client.y+=P.y}var C=this.result.rectDelta,A=e.rect||i.rect;A.left+=C.left,A.right+=C.right,A.top+=C.top,A.bottom+=C.bottom,A.width=A.right-A.left,A.height=A.bottom-A.top}},{key:"setAndApply",value:function(e){var i=this.interaction,r=e.phase,o=e.preEnd,c=e.skipModifiers,u=this.setAll(this.fillArg({preEnd:o,phase:r,pageCoords:e.modifiedCoords||i.coords.cur.page}));if(this.result=u,!u.changed&&(!c||c<this.states.length)&&i.interacting())return!1;if(e.modifiedCoords){var d=i.coords.cur.page,p={x:e.modifiedCoords.x-d.x,y:e.modifiedCoords.y-d.y};u.coords.x+=p.x,u.coords.y+=p.y,u.delta.x+=p.x,u.delta.y+=p.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var i=e.interaction,r=e.event,o=this.states;if(o&&o.length){for(var c=!1,u=0;u<o.length;u++){var d=o[u];e.state=d;var p=d.options,m=d.methods,h=m.beforeEnd&&m.beforeEnd(e);if(h)return this.endResult=h,!1;c=c||!c&&this.shouldDo(p,!0,e.phase,!0)}c&&i.move({event:r,preEnd:!0})}}},{key:"stop",value:function(e){var i=e.interaction;if(this.states&&this.states.length){var r=B({states:this.states,interactable:i.interactable,element:i.element,rect:null},e);this.fillArg(r);for(var o=0,c=this.states;o<c.length;o++){var u=c[o];r.state=u,u.methods.stop&&u.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var i=0;i<e.length;i++){var r=e[i],o=r.options,c=r.methods,u=r.name;this.states.push({options:o,methods:c,index:i,name:u})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var i=e.interaction,r=i.coords,o=i.rect,c=i.modification;if(c.result){for(var u=c.startDelta,d=c.result,p=d.delta,m=d.rectDelta,h=0,y=[[r.start,u],[r.cur,p]];h<y.length;h++){var S=y[h],P=S[0],C=S[1];P.page.x-=C.x,P.page.y-=C.y,P.client.x-=C.x,P.client.y-=C.y}o.left-=m.left,o.right-=m.right,o.top-=m.top,o.bottom-=m.bottom}}},{key:"shouldDo",value:function(e,i,r,o){return!(!e||e.enabled===!1||o&&!e.endOnly||e.endOnly&&!i||r==="start"&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(i){return st(i)}),this.result=Xt(B({},e.result.coords),B({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),t})();function Xt(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function He(t,e){var i=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(c){var u=c||{};for(var d in u.enabled=u.enabled!==!1,i)d in u||(u[d]=i[d]);var p={options:u,methods:r,name:e,enable:function(){return u.enabled=!0,p},disable:function(){return u.enabled=!1,p}};return p};return e&&typeof e=="string"&&(o._defaults=i,o._methods=r),o}function kt(t){var e=t.iEvent,i=t.interaction.modification.result;i&&(e.modifiers=i.eventProps)}var sa={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new Kn(e)},"interactions:before-action-start":function(t){var e=t.interaction,i=t.interaction.modification;i.start(t,e.coords.start.page),e.edges=i.edges,i.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,i=e.modification,r=i.setAndApply(t);return e.edges=i.edges,r},"interactions:before-action-end":function(t){var e=t.interaction,i=e.modification,r=i.beforeEnd(t);return e.edges=i.startEdges,r},"interactions:action-start":kt,"interactions:action-move":kt,"interactions:action-end":kt,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},Xi=sa,Yi={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Vn=(function(t){E(i,t);var e=D(i);function i(r,o,c,u,d,p,m){var h;g(this,i),(h=e.call(this,r)).relatedTarget=null,h.screenX=void 0,h.screenY=void 0,h.button=void 0,h.buttons=void 0,h.ctrlKey=void 0,h.shiftKey=void 0,h.altKey=void 0,h.metaKey=void 0,h.page=void 0,h.client=void 0,h.delta=void 0,h.rect=void 0,h.x0=void 0,h.y0=void 0,h.t0=void 0,h.dt=void 0,h.duration=void 0,h.clientX0=void 0,h.clientY0=void 0,h.velocity=void 0,h.speed=void 0,h.swipe=void 0,h.axes=void 0,h.preEnd=void 0,d=d||r.element;var y=r.interactable,S=(y&&y.options||Yi).deltaSource,P=bt(y,d,c),C=u==="start",A=u==="end",R=C?z(h):r.prevEvent,I=C?r.coords.start:A?{page:R.page,client:R.client,timeStamp:r.coords.cur.timeStamp}:r.coords.cur;return h.page=B({},I.page),h.client=B({},I.client),h.rect=B({},r.rect),h.timeStamp=I.timeStamp,A||(h.page.x-=P.x,h.page.y-=P.y,h.client.x-=P.x,h.client.y-=P.y),h.ctrlKey=o.ctrlKey,h.altKey=o.altKey,h.shiftKey=o.shiftKey,h.metaKey=o.metaKey,h.button=o.button,h.buttons=o.buttons,h.target=d,h.currentTarget=d,h.preEnd=p,h.type=m||c+(u||""),h.interactable=y,h.t0=C?r.pointers[r.pointers.length-1].downTime:R.t0,h.x0=r.coords.start.page.x-P.x,h.y0=r.coords.start.page.y-P.y,h.clientX0=r.coords.start.client.x-P.x,h.clientY0=r.coords.start.client.y-P.y,h.delta=C||A?{x:0,y:0}:{x:h[S].x-R[S].x,y:h[S].y-R[S].y},h.dt=r.coords.delta.timeStamp,h.duration=h.timeStamp-h.t0,h.velocity=B({},r.coords.velocity[S]),h.speed=yt(h.velocity.x,h.velocity.y),h.swipe=A||u==="inertiastart"?h.getSwipe():null,h}return b(i,[{key:"getSwipe",value:function(){var r=this._interaction;if(r.prevEvent.speed<600||this.timeStamp-r.prevEvent.timeStamp>150)return null;var o=180*Math.atan2(r.prevEvent.velocityY,r.prevEvent.velocityX)/Math.PI;o<0&&(o+=360);var c=112.5<=o&&o<247.5,u=202.5<=o&&o<337.5;return{up:u,down:!u&&22.5<=o&&o<157.5,left:c,right:!c&&(292.5<=o||o<67.5),angle:o,speed:r.prevEvent.speed,velocity:{x:r.prevEvent.velocityX,y:r.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),i})(Kt);Object.defineProperties(Vn.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var ca=b(function t(e,i,r,o,c){g(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=i,this.event=r,this.downTime=o,this.downTarget=c}),la=(function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t})({}),Gi=(function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t})({}),ua=0,da=(function(){function t(e){var i=this,r=e.pointerType,o=e.scopeFire;g(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=St(function(h){this.move(h)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ua++,this._scopeFire=o,this.pointerType=r;var c=this;this._proxy={};var u=function(h){Object.defineProperty(i._proxy,h,{get:function(){return c[h]}})};for(var d in la)u(d);var p=function(h){Object.defineProperty(i._proxy,h,{value:function(){return c[h].apply(c,arguments)}})};for(var m in Gi)p(m);this._scopeFire("interactions:new",{interaction:this})}return b(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,i,r){var o=this.updatePointer(e,i,r,!0),c=this.pointers[o];this._scopeFire("interactions:down",{pointer:e,event:i,eventTarget:r,pointerIndex:o,pointerInfo:c,type:"down",interaction:this})}},{key:"start",value:function(e,i,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!i.options[e.name].enabled)&&(jn(this.prepared,e),this.interactable=i,this.element=r,this.rect=i.getRect(r),this.edges=this.prepared.edges?B({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,i,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,i,r,!1);var o,c,u=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(o=this.coords.cur.client.x-this.coords.start.client.x,c=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=yt(o,c)>this.pointerMoveTolerance);var d,p,m,h=this.getPointerIndex(e),y={pointer:e,pointerIndex:h,pointerInfo:this.pointers[h],event:i,type:"move",eventTarget:r,dx:o,dy:c,duplicate:u,interaction:this};u||(d=this.coords.velocity,p=this.coords.delta,m=Math.max(p.timeStamp/1e3,.001),d.page.x=p.page.x/m,d.page.y=p.page.y/m,d.client.x=p.client.x/m,d.client.y=p.client.y/m,d.timeStamp=m),this._scopeFire("interactions:move",y),u||this.simulation||(this.interacting()&&(y.type=null,this.move(y)),this.pointerWasMoved&&Ut(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||Ci(this.coords.delta),(e=B({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,i,r,o){var c=this.getPointerIndex(e);c===-1&&(c=this.updatePointer(e,i,r,!1));var u=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(u),{pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:i,eventTarget:r,type:u,curEventTarget:o,interaction:this}),this.simulation||this.end(i),this.removePointer(e,i)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var i;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,i===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var i=xt(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:wt(this.pointers,function(r){return r.id===i})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,i,r,o){var c,u,d,p=xt(e),m=this.getPointerIndex(e),h=this.pointers[m];return o=o!==!1&&(o||/(down|start)$/i.test(i.type)),h?h.pointer=e:(h=new ca(p,e,i,null,null),m=this.pointers.length,this.pointers.push(h)),Ho(this.coords.cur,this.pointers.map(function(y){return y.pointer}),this._now()),c=this.coords.delta,u=this.coords.prev,d=this.coords.cur,c.page.x=d.page.x-u.page.x,c.page.y=d.page.y-u.page.y,c.client.x=d.client.x-u.client.x,c.client.y=d.client.y-u.client.y,c.timeStamp=d.timeStamp-u.timeStamp,o&&(this.pointerIsDown=!0,h.downTime=this.coords.cur.timeStamp,h.downTarget=r,Ht(this.downPointer,e),this.interacting()||(Ut(this.coords.start,this.coords.cur),Ut(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(e,i,r),this._scopeFire("interactions:update-pointer",{pointer:e,event:i,eventTarget:r,down:o,pointerInfo:h,pointerIndex:m,interaction:this}),m}},{key:"removePointer",value:function(e,i){var r=this.getPointerIndex(e);if(r!==-1){var o=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:e,event:i,eventTarget:null,pointerIndex:r,pointerInfo:o,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,i,r){this._latestPointer.pointer=e,this._latestPointer.event=i,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,i,r,o){return new Vn(this,e,this.prepared.name,i,this.element,r,o)}},{key:"_fireEvent",value:function(e){var i;(i=this.interactable)==null||i.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var i=e.event,r=e.phase,o=e.preEnd,c=e.type,u=this.rect;if(u&&r==="move"&&(jt(this.edges,u,this.coords.delta[this.interactable.options.deltaSource]),u.width=u.right-u.left,u.height=u.bottom-u.top),this._scopeFire("interactions:before-action-".concat(r),e)===!1)return!1;var d=e.iEvent=this._createPreparedEvent(i,r,o,c);return this._scopeFire("interactions:action-".concat(r),e),r==="start"&&(this.prevEvent=d),this._fireEvent(d),this._scopeFire("interactions:after-action-".concat(r),e),!0}},{key:"_now",value:function(){return Date.now()}}]),t})();function Zi(t){Qi(t.interaction)}function Qi(t){if(!(function(i){return!(!i.offset.pending.x&&!i.offset.pending.y)})(t))return!1;var e=t.offset.pending;return qn(t.coords.cur,e),qn(t.coords.delta,e),jt(t.edges,t.rect,e),e.x=0,e.y=0,!0}function fa(t){var e=t.x,i=t.y;this.offset.pending.x+=e,this.offset.pending.y+=i,this.offset.total.x+=e,this.offset.total.y+=i}function qn(t,e){var i=t.page,r=t.client,o=e.x,c=e.y;i.x+=o,i.y+=c,r.x+=o,r.y+=c}Gi.offsetBy="";var pa={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=fa},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return(function(e){e.pointerIsDown&&(qn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)})(t.interaction)},"interactions:before-action-start":Zi,"interactions:before-action-move":Zi,"interactions:before-action-end":function(t){var e=t.interaction;if(Qi(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},Ji=pa,ha=(function(){function t(e){g(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return b(t,[{key:"start",value:function(e){var i=this.interaction,r=Yt(i);if(!r||!r.enabled)return!1;var o=i.coords.velocity.client,c=yt(o.x,o.y),u=this.modification||(this.modification=new Kn(i));if(u.copyFrom(i.modification),this.t0=i._now(),this.allowResume=r.allowResume,this.v0=c,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=u.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&c>r.minSpeed&&c>r.endSpeed)this.startInertia();else{if(u.result=u.setAll(this.modifierArg),!u.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:e,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,i=this.interaction.coords.velocity.client,r=Yt(this.interaction),o=r.resistance,c=-Math.log(r.endSpeed/this.v0)/o;this.targetOffset={x:(i.x-c)/o,y:(i.y-c)/o},this.te=c,this.lambda_v0=o/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var u=this.modification,d=this.modifierArg;d.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},u.result=u.setAll(d),u.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+u.result.delta.x,y:this.targetOffset.y+u.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var i=this;this.timeout=je.request(function(){i.active&&e()})}},{key:"inertiaTick",value:function(){var e,i,r,o,c,u,d,p=this,m=this.interaction,h=Yt(m).resistance,y=(m._now()-this.t0)/1e3;if(y<this.te){var S,P=1-(Math.exp(-h*y)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,i=0,r=this.targetOffset.x,o=this.targetOffset.y,c=this.modifiedOffset.x,u=this.modifiedOffset.y,S={x:er(d=P,e,r,c),y:er(d,i,o,u)}):S={x:this.targetOffset.x*P,y:this.targetOffset.y*P};var C={x:S.x-this.currentOffset.x,y:S.y-this.currentOffset.y};this.currentOffset.x+=C.x,this.currentOffset.y+=C.y,m.offsetBy(C),m.move(),this.onNextFrame(function(){return p.inertiaTick()})}else m.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,i=this.interaction,r=i._now()-this.t0,o=Yt(i).smoothEndDuration;if(r<o){var c={x:tr(r,0,this.targetOffset.x,o),y:tr(r,0,this.targetOffset.y,o)},u={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=u.x,this.currentOffset.y+=u.y,i.offsetBy(u),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var i=e.pointer,r=e.event,o=e.eventTarget,c=this.interaction;c.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),c.updatePointer(i,r,o,!0),c._doPhase({interaction:c,event:r,phase:"resume"}),Ut(c.coords.prev,c.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,je.cancel(this.timeout)}}]),t})();function Yt(t){var e=t.interactable,i=t.prepared;return e&&e.options&&i.name&&e.options[i.name].inertia}var va={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(Ji),t.usePlugin(Xi),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new ha(e)},"interactions:before-action-end":function(t){var e=t.interaction,i=t.event;return(!e._interacting||e.simulation||!e.inertia.start(i))&&null},"interactions:down":function(t){var e=t.interaction,i=t.eventTarget,r=e.inertia;if(r.active)for(var o=i;w.element(o);){if(o===e.element){r.resume(t);break}o=H(o)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":kt,"interactions:action-inertiastart":kt,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function er(t,e,i,r){var o=1-t;return o*o*e+2*o*t*i+t*t*r}function tr(t,e,i,r){return-i*(t/=r)*(t-2)+e}var ga=va;function nr(t,e){for(var i=0;i<e.length;i++){var r=e[i];if(t.immediatePropagationStopped)break;r(t)}}var ir=(function(){function t(e){g(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=B({},e||{})}return b(t,[{key:"fire",value:function(e){var i,r=this.global;(i=this.types[e.type])&&nr(e,i),!e.propagationStopped&&r&&(i=r[e.type])&&nr(e,i)}},{key:"on",value:function(e,i){var r=Xe(e,i);for(e in r)this.types[e]=zi(this.types[e]||[],r[e])}},{key:"off",value:function(e,i){var r=Xe(e,i);for(e in r){var o=this.types[e];if(o&&o.length)for(var c=0,u=r[e];c<u.length;c++){var d=u[c],p=o.indexOf(d);p!==-1&&o.splice(p,1)}}}},{key:"getRect",value:function(e){return null}}]),t})(),ma=(function(){function t(e){g(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,Ht(this,e)}return b(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t})();function Tt(t){return w.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function Gt(t,e){return t===e||(typeof t=="boolean"?!!e.capture===t&&!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var ba={id:"events",install:function(t){var e,i=[],r={},o=[],c={add:u,remove:d,addDelegate:function(h,y,S,P,C){var A=Tt(C);if(!r[S]){r[S]=[];for(var R=0;R<o.length;R++){var I=o[R];u(I,S,p),u(I,S,m,!0)}}var _=r[S],Z=Et(_,function(ie){return ie.selector===h&&ie.context===y});Z||(Z={selector:h,context:y,listeners:[]},_.push(Z)),Z.listeners.push({func:P,options:A})},removeDelegate:function(h,y,S,P,C){var A,R=Tt(C),I=r[S],_=!1;if(I)for(A=I.length-1;A>=0;A--){var Z=I[A];if(Z.selector===h&&Z.context===y){for(var ie=Z.listeners,q=ie.length-1;q>=0;q--){var J=ie[q];if(J.func===P&&Gt(J.options,R)){ie.splice(q,1),ie.length||(I.splice(A,1),d(y,S,p),d(y,S,m,!0)),_=!0;break}}if(_)break}}},delegateListener:p,delegateUseCapture:m,delegatedEvents:r,documents:o,targets:i,supportsOptions:!1,supportsPassive:!1};function u(h,y,S,P){if(h.addEventListener){var C=Tt(P),A=Et(i,function(R){return R.eventTarget===h});A||(A={eventTarget:h,events:{}},i.push(A)),A.events[y]||(A.events[y]=[]),Et(A.events[y],function(R){return R.func===S&&Gt(R.options,C)})||(h.addEventListener(y,S,c.supportsOptions?C:C.capture),A.events[y].push({func:S,options:C}))}}function d(h,y,S,P){if(h.addEventListener&&h.removeEventListener){var C=wt(i,function(ge){return ge.eventTarget===h}),A=i[C];if(A&&A.events)if(y!=="all"){var R=!1,I=A.events[y];if(I){if(S==="all"){for(var _=I.length-1;_>=0;_--){var Z=I[_];d(h,y,Z.func,Z.options)}return}for(var ie=Tt(P),q=0;q<I.length;q++){var J=I[q];if(J.func===S&&Gt(J.options,ie)){h.removeEventListener(y,S,c.supportsOptions?ie:ie.capture),I.splice(q,1),I.length===0&&(delete A.events[y],R=!0);break}}}R&&!Object.keys(A.events).length&&i.splice(C,1)}else for(y in A.events)A.events.hasOwnProperty(y)&&d(h,y,"all")}}function p(h,y){for(var S=Tt(y),P=new ma(h),C=r[h.type],A=Di(h)[0],R=A;w.element(R);){for(var I=0;I<C.length;I++){var _=C[I],Z=_.selector,ie=_.context;if(ae(R,Z)&&K(ie,A)&&K(ie,R)){var q=_.listeners;P.currentTarget=R;for(var J=0;J<q.length;J++){var ge=q[J];Gt(ge.options,S)&&ge.func(P)}}}R=H(R)}}function m(h){return p(h,!0)}return(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return c.supportsOptions=!0},get passive(){return c.supportsPassive=!0}}),t.events=c,c}},Xn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0,i=Xn.methodOrder;e<i.length;e++){var r=i[e],o=Xn[r](t);if(o)return o}return null},simulationResume:function(t){var e=t.pointerType,i=t.eventType,r=t.eventTarget,o=t.scope;if(!/down|start/i.test(i))return null;for(var c=0,u=o.interactions.list;c<u.length;c++){var d=u[c],p=r;if(d.simulation&&d.simulation.allowResume&&d.pointerType===e)for(;p;){if(p===d.element)return d;p=H(p)}}return null},mouseOrPen:function(t){var e,i=t.pointerId,r=t.pointerType,o=t.eventType,c=t.scope;if(r!=="mouse"&&r!=="pen")return null;for(var u=0,d=c.interactions.list;u<d.length;u++){var p=d[u];if(p.pointerType===r){if(p.simulation&&!rr(p,i))continue;if(p.interacting())return p;e||(e=p)}}if(e)return e;for(var m=0,h=c.interactions.list;m<h.length;m++){var y=h[m];if(!(y.pointerType!==r||/down/i.test(o)&&y.simulation))return y}return null},hasPointer:function(t){for(var e=t.pointerId,i=0,r=t.scope.interactions.list;i<r.length;i++){var o=r[i];if(rr(o,e))return o}return null},idle:function(t){for(var e=t.pointerType,i=0,r=t.scope.interactions.list;i<r.length;i++){var o=r[i];if(o.pointers.length===1){var c=o.interactable;if(c&&(!c.options.gesture||!c.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};function rr(t,e){return t.pointers.some(function(i){return i.id===e})}var ya=Xn,Yn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function or(t,e){return function(i){var r=e.interactions.list,o=Ai(i),c=Di(i),u=c[0],d=c[1],p=[];if(/^touch/.test(i.type)){e.prevTouchTime=e.now();for(var m=0,h=i.changedTouches;m<h.length;m++){var y=h[m],S={pointer:y,pointerId:xt(y),pointerType:o,eventType:i.type,eventTarget:u,curEventTarget:d,scope:e},P=ar(S);p.push([S.pointer,S.eventTarget,S.curEventTarget,P])}}else{var C=!1;if(!N.supportsPointerEvent&&/mouse/.test(i.type)){for(var A=0;A<r.length&&!C;A++)C=r[A].pointerType!=="mouse"&&r[A].pointerIsDown;C=C||e.now()-e.prevTouchTime<500||i.timeStamp===0}if(!C){var R={pointer:i,pointerId:xt(i),pointerType:o,eventType:i.type,curEventTarget:d,eventTarget:u,scope:e},I=ar(R);p.push([R.pointer,R.eventTarget,R.curEventTarget,I])}}for(var _=0;_<p.length;_++){var Z=p[_],ie=Z[0],q=Z[1],J=Z[2];Z[3][t](ie,i,q,J)}}}function ar(t){var e=t.pointerType,i=t.scope,r={interaction:ya.search(t),searchDetails:t};return i.fire("interactions:find",r),r.interaction||i.interactions.new({pointerType:e})}function Gn(t,e){var i=t.doc,r=t.scope,o=t.options,c=r.interactions.docEvents,u=r.events,d=u[e];for(var p in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),u.delegatedEvents)d(i,p,u.delegateListener),d(i,p,u.delegateUseCapture,!0);for(var m=o&&o.events,h=0;h<c.length;h++){var y=c[h];d(i,y.type,y.listener,m)}}var xa={id:"core/interactions",install:function(t){for(var e={},i=0;i<Yn.length;i++){var r=Yn[i];e[r]=or(r,t)}var o,c=N.pEventTypes;function u(){for(var d=0,p=t.interactions.list;d<p.length;d++){var m=p[d];if(m.pointerIsDown&&m.pointerType==="touch"&&!m._interacting)for(var h=function(){var P=S[y];t.documents.some(function(C){return K(C.doc,P.downTarget)})||m.removePointer(P.pointer,P.event)},y=0,S=m.pointers;y<S.length;y++)h()}}(o=T.PointerEvent?[{type:c.down,listener:u},{type:c.down,listener:e.pointerDown},{type:c.move,listener:e.pointerMove},{type:c.up,listener:e.pointerUp},{type:c.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(d){for(var p=0,m=t.interactions.list;p<m.length;p++)m[p].documentBlur(d)}}),t.prevTouchTime=0,t.Interaction=(function(d){E(m,d);var p=D(m);function m(){return g(this,m),p.apply(this,arguments)}return b(m,[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(h){t.interactions.pointerMoveTolerance=h}},{key:"_now",value:function(){return t.now()}}]),m})(da),t.interactions={list:[],new:function(d){d.scopeFire=function(m,h){return t.fire(m,h)};var p=new t.Interaction(d);return t.interactions.list.push(p),p},listeners:e,docEvents:o,pointerMoveTolerance:1},t.usePlugin(qi)},listeners:{"scope:add-document":function(t){return Gn(t,"add")},"scope:remove-document":function(t){return Gn(t,"remove")},"interactable:unset":function(t,e){for(var i=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var o=e.interactions.list[r];o.interactable===i&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:Gn,doOnInteractions:or,methodNames:Yn},wa=xa,Ue=(function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t})(Ue||{}),Ea=(function(){function t(e,i,r,o){g(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new ir,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=i.actions,this.target=e,this._context=i.context||r,this._win=ne(ot(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(i)}return b(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,i){return w.func(i.onstart)&&this.on("".concat(e,"start"),i.onstart),w.func(i.onmove)&&this.on("".concat(e,"move"),i.onmove),w.func(i.onend)&&this.on("".concat(e,"end"),i.onend),w.func(i.oninertiastart)&&this.on("".concat(e,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,i,r){var o,c=this,u=(o=this._actions.map[e])==null?void 0:o.filterEventType,d=function(p){return(u==null||u(p))&&qt(p,c._actions)};(w.array(i)||w.object(i))&&this._onOff(Ue.Off,e,i,void 0,d),(w.array(r)||w.object(r))&&this._onOff(Ue.On,e,r,void 0,d)}},{key:"setPerAction",value:function(e,i){var r=this._defaults;for(var o in i){var c=o,u=this.options[e],d=i[c];c==="listeners"&&this.updatePerActionListeners(e,u.listeners,d),w.array(d)?u[c]=Ii(d):w.plainObject(d)?(u[c]=B(u[c]||{},st(d)),w.object(r.perAction[c])&&"enabled"in r.perAction[c]&&(u[c].enabled=d.enabled!==!1)):w.bool(d)&&w.object(r.perAction[c])?u[c].enabled=d:u[c]=d}}},{key:"getRect",value:function(e){return e=e||(w.element(this.target)?this.target:null),w.string(this.target)&&(e=e||this._context.querySelector(this.target)),it(e)}},{key:"rectChecker",value:function(e){var i=this;return w.func(e)?(this.getRect=function(r){var o=B({},e.apply(i,r));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):e===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,i){if(ot(i)||w.object(i)){for(var r in this.options[e]=i,this._actions.map)this.options[r][e]=i;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return w.string(e)?Array.from(this._context.querySelectorAll(e)):w.func(e)&&e.getAllElements?e.getAllElements():w.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||K(this._context,e)}},{key:"testIgnoreAllow",value:function(e,i,r){return!this.testIgnore(e.ignoreFrom,i,r)&&this.testAllow(e.allowFrom,i,r)}},{key:"testAllow",value:function(e,i,r){return!e||!!w.element(r)&&(w.string(e)?Fe(r,e,i):!!w.element(e)&&K(e,r))}},{key:"testIgnore",value:function(e,i,r){return!(!e||!w.element(r))&&(w.string(e)?Fe(r,e,i):!!w.element(e)&&K(e,r))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,i,r,o,c){w.object(i)&&!w.array(i)&&(o=r,r=null);var u=Xe(i,r,c);for(var d in u){d==="wheel"&&(d=N.wheelEvent);for(var p=0,m=u[d];p<m.length;p++){var h=m[p];qt(d,this._actions)?this.events[e===Ue.On?"on":"off"](d,h):w.string(this.target)?this._scopeEvents[e===Ue.On?"addDelegate":"removeDelegate"](this.target,this._context,d,h,o):this._scopeEvents[e===Ue.On?"add":"remove"](this.target,d,h,o)}}return this}},{key:"on",value:function(e,i,r){return this._onOff(Ue.On,e,i,r)}},{key:"off",value:function(e,i,r){return this._onOff(Ue.Off,e,i,r)}},{key:"set",value:function(e){var i=this._defaults;for(var r in w.object(e)||(e={}),this.options=st(i.base),this._actions.methodDict){var o=r,c=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,B(B({},i.perAction),i.actions[o])),this[c](e[o])}for(var u in e)u!=="getRect"?w.func(this[u])&&this[u](e[u]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(w.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[e],r=i.length-1;r>=0;r--){var o=i[r],c=o.selector,u=o.context,d=o.listeners;c===this.target&&u===this._context&&i.splice(r,1);for(var p=d.length-1;p>=0;p--)this._scopeEvents.removeDelegate(this.target,this._context,e,d[p][0],d[p][1])}else this._scopeEvents.remove(this.target,"all")}}]),t})(),Sa=(function(){function t(e){var i=this;g(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(r){var o=r.interactable,c=o.target,u=w.string(c)?i.selectorMap[c]:c[i.scope.id],d=wt(u,function(p){return p===o});u.splice(d,1)}})}return b(t,[{key:"new",value:function(e,i){i=B(i||{},{actions:this.scope.actions});var r=new this.scope.Interactable(e,i,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),w.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(r.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:i,interactable:r,win:this.scope._win}),r}},{key:"getExisting",value:function(e,i){var r=i&&i.context||this.scope.document,o=w.string(e),c=o?this.selectorMap[e]:e[this.scope.id];if(c)return Et(c,function(u){return u._context===r&&(o||u.inContext(e))})}},{key:"forEachMatch",value:function(e,i){for(var r=0,o=this.list;r<o.length;r++){var c=o[r],u=void 0;if((w.string(c.target)?w.element(e)&&ae(e,c.target):e===c.target)&&c.inContext(e)&&(u=i(c)),u!==void 0)return u}}}]),t})(),ka=(function(){function t(){var e=this;g(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=N,this.defaults=st(Yi),this.Eventable=ir,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(function(r){var o=function c(u,d){var p=r.interactables.getExisting(u,d);return p||((p=r.interactables.new(u,d)).events.global=c.globalEvents),p};return o.getPointerAverage=$i,o.getTouchBBox=In,o.getTouchDistance=Mn,o.getTouchAngle=Fn,o.getElementRect=it,o.getElementClientRect=Re,o.matchesSelector=ae,o.closest=te,o.globalEvents={},o.version="1.10.27",o.scope=r,o.use=function(c,u){return this.scope.usePlugin(c,u),this},o.isSet=function(c,u){return!!this.scope.interactables.get(c,u&&u.context)},o.on=St(function(c,u,d){if(w.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),w.array(c)){for(var p=0,m=c;p<m.length;p++){var h=m[p];this.on(h,u,d)}return this}if(w.object(c)){for(var y in c)this.on(y,c[y],u);return this}return qt(c,this.scope.actions)?this.globalEvents[c]?this.globalEvents[c].push(u):this.globalEvents[c]=[u]:this.scope.events.add(this.scope.document,c,u,{options:d}),this},"The interact.on() method is being deprecated"),o.off=St(function(c,u,d){if(w.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),w.array(c)){for(var p=0,m=c;p<m.length;p++){var h=m[p];this.off(h,u,d)}return this}if(w.object(c)){for(var y in c)this.off(y,c[y],u);return this}var S;return qt(c,this.scope.actions)?c in this.globalEvents&&(S=this.globalEvents[c].indexOf(u))!==-1&&this.globalEvents[c].splice(S,1):this.scope.events.remove(this.scope.document,c,u,d),this},"The interact.off() method is being deprecated"),o.debug=function(){return this.scope},o.supportsTouch=function(){return N.supportsTouch},o.supportsPointerEvent=function(){return N.supportsPointerEvent},o.stop=function(){for(var c=0,u=this.scope.interactions.list;c<u.length;c++)u[c].stop();return this},o.pointerMoveTolerance=function(c){return w.number(c)?(this.scope.interactions.pointerMoveTolerance=c,this):this.scope.interactions.pointerMoveTolerance},o.addDocument=function(c,u){this.scope.addDocument(c,u)},o.removeDocument=function(c){this.scope.removeDocument(c)},o})(this),this.InteractEvent=Vn,this.Interactable=void 0,this.interactables=new Sa(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(r){return e.removeDocument(r.target)};var i=this;this.Interactable=(function(r){E(c,r);var o=D(c);function c(){return g(this,c),o.apply(this,arguments)}return b(c,[{key:"_defaults",get:function(){return i.defaults}},{key:"set",value:function(u){return M($(c.prototype),"set",this).call(this,u),i.fire("interactable:set",{options:u,interactable:this}),this}},{key:"unset",value:function(){M($(c.prototype),"unset",this).call(this);var u=i.interactables.list.indexOf(this);u<0||(i.interactables.list.splice(u,1),i.fire("interactable:unset",{interactable:this}))}}]),c})(Ea)}return b(t,[{key:"addListeners",value:function(e,i){this.listenerMaps.push({id:i,map:e})}},{key:"fire",value:function(e,i){for(var r=0,o=this.listenerMaps;r<o.length;r++){var c=o[r].map[e];if(c&&c(i,this,e)===!1)return!1}}},{key:"init",value:function(e){return this.isInitialized?this:(function(i,r){return i.isInitialized=!0,w.window(r)&&re(r),T.init(r),N.init(r),je.init(r),i.window=r,i.document=r.document,i.usePlugin(wa),i.usePlugin(ba),i})(this,e)}},{key:"pluginIsInstalled",value:function(e){var i=e.id;return i?!!this._plugins.map[i]:this._plugins.list.indexOf(e)!==-1}},{key:"usePlugin",value:function(e,i){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,i),e.listeners&&e.before){for(var r=0,o=this.listenerMaps.length,c=e.before.reduce(function(d,p){return d[p]=!0,d[sr(p)]=!0,d},{});r<o;r++){var u=this.listenerMaps[r].id;if(u&&(c[u]||c[sr(u)]))break}this.listenerMaps.splice(r,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,i){if(this.getDocIndex(e)!==-1)return!1;var r=ne(e);i=i?B({},i):{},this.documents.push({doc:e,options:i}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:i})}},{key:"removeDocument",value:function(e){var i=this.getDocIndex(e),r=ne(e),o=this.documents[i].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(i,1),this.events.documents.splice(i,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:o})}},{key:"getDocIndex",value:function(e){for(var i=0;i<this.documents.length;i++)if(this.documents[i].doc===e)return i;return-1}},{key:"getDocOptions",value:function(e){var i=this.getDocIndex(e);return i===-1?null:this.documents[i].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t})();function sr(t){return t&&t.replace(/\/.*$/,"")}var cr=new ka,ve=cr.interactStatic,Ta=typeof globalThis<"u"?globalThis:window;cr.init(Ta);var Ca=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var o=r[0],c=r[1];return o in t||c in t}),i=function(r,o){for(var c=t.range,u=t.limits,d=u===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:u,p=t.offset,m=p===void 0?{x:0,y:0}:p,h={range:c,grid:t,x:null,y:null},y=0;y<e.length;y++){var S=e[y],P=S[0],C=S[1],A=Math.round((r-m.x)/t[P]),R=Math.round((o-m.y)/t[C]);h[P]=Math.max(d.left,Math.min(d.right,A*t[P]+m.x)),h[C]=Math.max(d.top,Math.min(d.bottom,R*t[C]+m.y))}return h};return i.grid=t,i.coordFields=e,i}}),Oa={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=B(e.snappers||{},Ca),e.createSnapGrid=e.snappers.grid}},Pa=Oa,$a={start:function(t){var e=t.state,i=t.rect,r=t.edges,o=t.pageCoords,c=e.options,u=c.ratio,d=c.enabled,p=e.options,m=p.equalDelta,h=p.modifiers;u==="preserve"&&(u=i.width/i.height),e.startCoords=B({},o),e.startRect=B({},i),e.ratio=u,e.equalDelta=m;var y=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.equalDelta){var S=(y.left?1:-1)*(y.top?1:-1);e.edgeSign={x:S,y:S}}else e.edgeSign={x:y.left?-1:1,y:y.top?-1:1};if(d!==!1&&B(r,y),h!=null&&h.length){var P=new Kn(t.interaction);P.copyFrom(t.interaction.modification),P.prepareStates(h),e.subModification=P,P.startAll(l({},t))}},set:function(t){var e=t.state,i=t.rect,r=t.coords,o=e.linkedEdges,c=B({},r),u=e.equalDelta?Aa:Da;if(B(t.edges,o),u(e,e.xIsPrimaryAxis,r,i),!e.subModification)return null;var d=B({},i);jt(o,d,{x:r.x-c.x,y:r.y-c.y});var p=e.subModification.setAll(l(l({},t),{},{rect:d,edges:o,pageCoords:r,prevCoords:r,prevRect:d})),m=p.delta;return p.changed&&(u(e,Math.abs(m.x)>Math.abs(m.y),p.coords,p.rect),B(r,p.coords)),p.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Aa(t,e,i){var r=t.startCoords,o=t.edgeSign;e?i.y=r.y+(i.x-r.x)*o.y:i.x=r.x+(i.y-r.y)*o.x}function Da(t,e,i,r){var o=t.startRect,c=t.startCoords,u=t.ratio,d=t.edgeSign;if(e){var p=r.width/u;i.y=c.y+(p-o.height)*d.y}else{var m=r.height*u;i.x=c.x+(m-o.width)*d.x}}var za=He($a,"aspectRatio"),lr=function(){};lr._defaults={};var Zt=lr;function Ge(t,e,i){return w.func(t)?mt(t,e.interactable,e.element,[i.x,i.y,e]):mt(t,e.interactable,e.element)}var Qt={start:function(t){var e=t.rect,i=t.startOffset,r=t.state,o=t.interaction,c=t.pageCoords,u=r.options,d=u.elementRect,p=B({left:0,top:0,right:0,bottom:0},u.offset||{});if(e&&d){var m=Ge(u.restriction,o,c);if(m){var h=m.right-m.left-e.width,y=m.bottom-m.top-e.height;h<0&&(p.left+=h,p.right+=h),y<0&&(p.top+=y,p.bottom+=y)}p.left+=i.left-e.width*d.left,p.top+=i.top-e.height*d.top,p.right+=i.right-e.width*(1-d.right),p.bottom+=i.bottom-e.height*(1-d.bottom)}r.offset=p},set:function(t){var e=t.coords,i=t.interaction,r=t.state,o=r.options,c=r.offset,u=Ge(o.restriction,i,e);if(u){var d=(function(p){return!p||"left"in p&&"top"in p||((p=B({},p)).left=p.x||0,p.top=p.y||0,p.right=p.right||p.left+p.width,p.bottom=p.bottom||p.top+p.height),p})(u);e.x=Math.max(Math.min(d.right-c.right,e.x),d.left+c.left),e.y=Math.max(Math.min(d.bottom-c.bottom,e.y),d.top+c.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Ia=He(Qt,"restrict"),ur={top:1/0,left:1/0,bottom:-1/0,right:-1/0},dr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function fr(t,e){for(var i=0,r=["top","left","bottom","right"];i<r.length;i++){var o=r[i];o in t||(t[o]=e[o])}return t}var Ct={noInner:ur,noOuter:dr,start:function(t){var e,i=t.interaction,r=t.startOffset,o=t.state,c=o.options;c&&(e=Lt(Ge(c.offset,i,i.coords.start.page))),e=e||{x:0,y:0},o.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,i=t.edges,r=t.interaction,o=t.state,c=o.offset,u=o.options;if(i){var d=B({},e),p=Ge(u.inner,r,d)||{},m=Ge(u.outer,r,d)||{};fr(p,ur),fr(m,dr),i.top?e.y=Math.min(Math.max(m.top+c.top,d.y),p.top+c.top):i.bottom&&(e.y=Math.max(Math.min(m.bottom+c.bottom,d.y),p.bottom+c.bottom)),i.left?e.x=Math.min(Math.max(m.left+c.left,d.x),p.left+c.left):i.right&&(e.x=Math.max(Math.min(m.right+c.right,d.x),p.right+c.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Ma=He(Ct,"restrictEdges"),Fa=B({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Qt.defaults),Ra=He({start:Qt.start,set:Qt.set,defaults:Fa},"restrictRect"),_a={width:-1/0,height:-1/0},Ba={width:1/0,height:1/0},Na=He({start:function(t){return Ct.start(t)},set:function(t){var e=t.interaction,i=t.state,r=t.rect,o=t.edges,c=i.options;if(o){var u=Dn(Ge(c.min,e,t.coords))||_a,d=Dn(Ge(c.max,e,t.coords))||Ba;i.options={endOnly:c.endOnly,inner:B({},Ct.noInner),outer:B({},Ct.noOuter)},o.top?(i.options.inner.top=r.bottom-u.height,i.options.outer.top=r.bottom-d.height):o.bottom&&(i.options.inner.bottom=r.top+u.height,i.options.outer.bottom=r.top+d.height),o.left?(i.options.inner.left=r.right-u.width,i.options.outer.left=r.right-d.width):o.right&&(i.options.inner.right=r.left+u.width,i.options.outer.right=r.left+d.width),Ct.set(t),i.options=c}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Zn={start:function(t){var e,i=t.interaction,r=t.interactable,o=t.element,c=t.rect,u=t.state,d=t.startOffset,p=u.options,m=p.offsetWithOrigin?(function(S){var P=S.interaction.element,C=Lt(mt(S.state.options.origin,null,null,[P])),A=C||bt(S.interactable,P,S.interaction.prepared.name);return A})(t):{x:0,y:0};if(p.offset==="startCoords")e={x:i.coords.start.page.x,y:i.coords.start.page.y};else{var h=mt(p.offset,r,o,[i]);(e=Lt(h)||{x:0,y:0}).x+=m.x,e.y+=m.y}var y=p.relativePoints;u.offsets=c&&y&&y.length?y.map(function(S,P){return{index:P,relativePoint:S,x:d.left-c.width*S.x+e.x,y:d.top-c.height*S.y+e.y}}):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,i=t.coords,r=t.state,o=r.options,c=r.offsets,u=bt(e.interactable,e.element,e.prepared.name),d=B({},i),p=[];o.offsetWithOrigin||(d.x-=u.x,d.y-=u.y);for(var m=0,h=c;m<h.length;m++)for(var y=h[m],S=d.x-y.x,P=d.y-y.y,C=0,A=o.targets.length;C<A;C++){var R=o.targets[C],I=void 0;(I=w.func(R)?R(S,P,e._proxy,y,C):R)&&p.push({x:(w.number(I.x)?I.x:S)+y.x,y:(w.number(I.y)?I.y:P)+y.y,range:w.number(I.range)?I.range:o.range,source:R,index:C,offset:y})}for(var _={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Z=0;Z<p.length;Z++){var ie=p[Z],q=ie.range,J=ie.x-d.x,ge=ie.y-d.y,ce=yt(J,ge),be=ce<=q;q===1/0&&_.inRange&&_.range!==1/0&&(be=!1),_.target&&!(be?_.inRange&&q!==1/0?ce/q<_.distance/_.range:q===1/0&&_.range!==1/0||ce<_.distance:!_.inRange&&ce<_.distance)||(_.target=ie,_.distance=ce,_.range=q,_.inRange=be,_.delta.x=J,_.delta.y=ge)}return _.inRange&&(i.x=_.target.x,i.y=_.target.y),r.closest=_,_},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},La=He(Zn,"snap"),Jt={start:function(t){var e=t.state,i=t.edges,r=e.options;if(!i)return null;t.state={options:{targets:null,relativePoints:[{x:i.left?0:1,y:i.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Zn.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,i=t.state,r=t.coords,o=i.options,c=i.offsets,u={x:r.x-c[0].x,y:r.y-c[0].y};i.options=B({},o),i.options.targets=[];for(var d=0,p=o.targets||[];d<p.length;d++){var m=p[d],h=void 0;if(h=w.func(m)?m(u.x,u.y,e):m){for(var y=0,S=i.targetFields;y<S.length;y++){var P=S[y],C=P[0],A=P[1];if(C in h||A in h){h.x=h[C],h.y=h[A];break}}i.options.targets.push(h)}}var R=Zn.set(t);return i.options=o,R},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},ja=He(Jt,"snapSize"),Qn={aspectRatio:za,restrictEdges:Ma,restrict:Ia,restrictRect:Ra,restrictSize:Na,snapEdges:He({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Jt.start(t)):null},set:Jt.set,defaults:B(st(Jt.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:La,snapSize:ja,spring:Zt,avoid:Zt,transform:Zt,rubberband:Zt},Ha={id:"modifiers",install:function(t){var e=t.interactStatic;for(var i in t.usePlugin(Xi),t.usePlugin(Pa),e.modifiers=Qn,Qn){var r=Qn[i],o=r._defaults,c=r._methods;o._methods=c,t.defaults.perAction[i]=o}}},Ua=Ha,pr=(function(t){E(i,t);var e=D(i);function i(r,o,c,u,d,p){var m;if(g(this,i),Ht(z(m=e.call(this,d)),c),c!==o&&Ht(z(m),o),m.timeStamp=p,m.originalEvent=c,m.type=r,m.pointerId=xt(o),m.pointerType=Ai(o),m.target=u,m.currentTarget=null,r==="tap"){var h=d.getPointerIndex(o);m.dt=m.timeStamp-d.pointers[h].downTime;var y=m.timeStamp-d.tapTime;m.double=!!d.prevTap&&d.prevTap.type!=="doubletap"&&d.prevTap.target===m.target&&y<500}else r==="doubletap"&&(m.dt=o.timeStamp-d.tapTime,m.double=!0);return m}return b(i,[{key:"_subtractOrigin",value:function(r){var o=r.x,c=r.y;return this.pageX-=o,this.pageY-=c,this.clientX-=o,this.clientY-=c,this}},{key:"_addOrigin",value:function(r){var o=r.x,c=r.y;return this.pageX+=o,this.pageY+=c,this.clientX+=o,this.clientY+=c,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),i})(Kt),Ot={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=Ot,t.defaults.actions.pointerEvents=Ot.defaults,B(t.actions.phaselessTypes,Ot.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,i=t.pointerInfo;!e&&i.hold||(i.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var i=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget;t.duplicate||i.pointerIsDown&&!i.pointerWasMoved||(i.pointerIsDown&&Jn(t),We({interaction:i,pointer:r,event:o,eventTarget:c,type:"move"},e))},"interactions:down":function(t,e){(function(i,r){for(var o=i.interaction,c=i.pointer,u=i.event,d=i.eventTarget,p=i.pointerIndex,m=o.pointers[p].hold,h=rt(d),y={interaction:o,pointer:c,event:u,eventTarget:d,type:"hold",targets:[],path:h,node:null},S=0;S<h.length;S++){var P=h[S];y.node=P,r.fire("pointerEvents:collect-targets",y)}if(y.targets.length){for(var C=1/0,A=0,R=y.targets;A<R.length;A++){var I=R[A].eventable.options.holdDuration;I<C&&(C=I)}m.duration=C,m.timeout=setTimeout(function(){We({interaction:o,eventTarget:d,pointer:c,event:u,type:"hold"},r)},C)}})(t,e),We(t,e)},"interactions:up":function(t,e){Jn(t),We(t,e),(function(i,r){var o=i.interaction,c=i.pointer,u=i.event,d=i.eventTarget;o.pointerWasMoved||We({interaction:o,eventTarget:d,pointer:c,event:u,type:"tap"},r)})(t,e)},"interactions:cancel":function(t,e){Jn(t),We(t,e)}},PointerEvent:pr,fire:We,collectEventTargets:hr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function We(t,e){var i=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget,u=t.type,d=t.targets,p=d===void 0?hr(t,e):d,m=new pr(u,r,o,c,i,e.now());e.fire("pointerEvents:new",{pointerEvent:m});for(var h={interaction:i,pointer:r,event:o,eventTarget:c,targets:p,type:u,pointerEvent:m},y=0;y<p.length;y++){var S=p[y];for(var P in S.props||{})m[P]=S.props[P];var C=bt(S.eventable,S.node);if(m._subtractOrigin(C),m.eventable=S.eventable,m.currentTarget=S.node,S.eventable.fire(m),m._addOrigin(C),m.immediatePropagationStopped||m.propagationStopped&&y+1<p.length&&p[y+1].node!==m.currentTarget)break}if(e.fire("pointerEvents:fired",h),u==="tap"){var A=m.double?We({interaction:i,pointer:r,event:o,eventTarget:c,type:"doubletap"},e):m;i.prevTap=A,i.tapTime=A.timeStamp}return m}function hr(t,e){var i=t.interaction,r=t.pointer,o=t.event,c=t.eventTarget,u=t.type,d=i.getPointerIndex(r),p=i.pointers[d];if(u==="tap"&&(i.pointerWasMoved||!p||p.downTarget!==c))return[];for(var m=rt(c),h={interaction:i,pointer:r,event:o,eventTarget:c,type:u,path:m,targets:[],node:null},y=0;y<m.length;y++){var S=m[y];h.node=S,e.fire("pointerEvents:collect-targets",h)}return u==="hold"&&(h.targets=h.targets.filter(function(P){var C,A;return P.eventable.options.holdDuration===((C=i.pointers[d])==null||(A=C.hold)==null?void 0:A.duration)})),h.targets}function Jn(t){var e=t.interaction,i=t.pointerIndex,r=e.pointers[i].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Wa=Object.freeze({__proto__:null,default:Ot});function Ka(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var Va={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(Ot);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=Ka,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;e.type==="hold"&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var i=t.interaction,r=t.pointerEvent,o=t.eventTarget,c=t.targets;if(r.type==="hold"&&c.length){var u=c[0].eventable.options.holdRepeatInterval;u<=0||(i.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:i,eventTarget:o,type:"hold",pointer:r,event:r},e)},u))}}})},qa=Va,Xa={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(r){return B(this.events.options,r),this};var i=e.prototype._backCompatOption;e.prototype._backCompatOption=function(r,o){var c=i.call(this,r,o);return c===this&&(this.events.options[r]=o),c}},listeners:{"pointerEvents:collect-targets":function(t,e){var i=t.targets,r=t.node,o=t.type,c=t.eventTarget;e.interactables.forEachMatch(r,function(u){var d=u.events,p=d.options;d.types[o]&&d.types[o].length&&u.testIgnoreAllow(p,r,c)&&i.push({node:r,eventable:d,props:{interactable:u}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(i){return e.getRect(i)}},"interactable:set":function(t,e){var i=t.interactable,r=t.options;B(i.events.options,e.pointerEvents.defaults),B(i.events.options,r.pointerEvents||{})}}},Ya=Xa,Ga={id:"pointer-events",install:function(t){t.usePlugin(Wa),t.usePlugin(qa),t.usePlugin(Ya)}},Za=Ga,Qa={id:"reflow",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(i){return(function(r,o,c){for(var u=r.getAllElements(),d=c.window.Promise,p=d?[]:null,m=function(){var y=u[h],S=r.getRect(y);if(!S)return 1;var P,C=Et(c.interactions.list,function(I){return I.interacting()&&I.interactable===r&&I.element===y&&I.prepared.name===o.name});if(C)C.move(),p&&(P=C._reflowPromise||new d(function(I){C._reflowResolve=I}));else{var A=Dn(S),R=(function(I){return{coords:I,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}})({page:{x:A.x,y:A.y},client:{x:A.x,y:A.y},timeStamp:c.now()});P=(function(I,_,Z,ie,q){var J=I.interactions.new({pointerType:"reflow"}),ge={interaction:J,event:q,pointer:q,eventTarget:Z,phase:"reflow"};J.interactable=_,J.element=Z,J.prevEvent=q,J.updatePointer(q,q,Z,!0),Ci(J.coords.delta),jn(J.prepared,ie),J._doPhase(ge);var ce=I.window,be=ce.Promise,ke=be?new be(function(Ne){J._reflowResolve=Ne}):void 0;return J._reflowPromise=ke,J.start(ie,_,Z),J._interacting?(J.move(ge),J.end(q)):(J.stop(),J._reflowResolve()),J.removePointer(q,q),ke})(c,r,y,o,R)}p&&p.push(P)},h=0;h<u.length&&!m();h++);return p&&d.all(p).then(function(){return r})})(this,i,t)}},listeners:{"interactions:stop":function(t,e){var i=t.interaction;i.pointerType==="reflow"&&(i._reflowResolve&&i._reflowResolve(),(function(r,o){r.splice(r.indexOf(o),1)})(e.interactions.list,i))}}},Ja=Qa;if(ve.use(qi),ve.use(Ji),ve.use(Za),ve.use(ga),ve.use(Ua),ve.use(ra),ve.use(qo),ve.use(Yo),ve.use(Ja),ve.default=ve,f(a)==="object"&&a)try{a.exports=ve}catch{}return ve.default=ve,ve})})(Dt,Dt.exports)),Dt.exports}var Fl=Ml();const cn=zl(Fl);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function Rl(a,n,s){return n?`${a}-${n}`:s?`${a}-${s}`:`${a}-m`}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */let ln=0,io="";const _l=()=>{function a(){ln++,ln===1&&(io=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden")}function n(){ln--,ln===0&&(document.documentElement.style.overflow=io)}return so((s,l)=>{l.onConnected(()=>{s.opened&&s.preventDocumentScroll&&a()}),l.onUpdate(f=>{s.hasUpdated&&(f.has("opened")&&s.preventDocumentScroll?s.opened?a():n():f.has("preventDocumentScroll")&&s.opened&&(s.preventDocumentScroll?a():n()))}),l.onDisconnected(()=>{s.opened&&s.preventDocumentScroll&&n()})})};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const Ke={dialog:"dialog",panel:"panel",scrim:"scrim",container:"container",containerOpen:"container--open",containerEmbedded:"container--embedded",assistiveText:"assistive-text",openingActive:"dialog--opening-active"},me={actionBar:"action-bar",alerts:"alerts",content:"content",customContent:"custom-content",contentTop:"content-top",contentBottom:"content-bottom",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerStart:"footer-start",footerEnd:"footer-end"},ro={x:null,y:null},oo={top:null,right:null,bottom:null,left:null},Bl=pt`:host{--calcite-dialog-scrim-background-color: rgba(0, 0, 0, .85);pointer-events:none;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;--calcite-internal-dialog-animation-offset: 20px}:host([modal]){position:absolute}.container{pointer-events:auto;position:fixed;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;align-items:center;justify-content:center;overflow:hidden;color:var(--calcite-color-text-2);opacity:0;visibility:hidden;transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}:host([placement=top]) .container{align-items:flex-start;justify-content:center}:host([placement=top-start]) .container{align-items:flex-start;justify-content:flex-start}:host([placement=top-end]) .container{align-items:flex-start;justify-content:flex-end}:host([placement=bottom]) .container{align-items:flex-end;justify-content:center}:host([placement=bottom-start]) .container{align-items:flex-end;justify-content:flex-start}:host([placement=bottom-end]) .container{align-items:flex-end;justify-content:flex-end}:host(:not([modal])) .container{pointer-events:none}:host([scale=s]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-sm));--calcite-internal-dialog-min-size-x: 198px;--calcite-internal-dialog-min-size-y: 140px}:host([scale=m]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-md));--calcite-internal-dialog-min-size-x: 288px;--calcite-internal-dialog-min-size-y: 180px}:host([scale=l]){--calcite-internal-dialog-content-padding: var(--calcite-dialog-content-space, var(--calcite-spacing-md-plus));--calcite-internal-dialog-min-size-x: 388px;--calcite-internal-dialog-min-size-y: 220px}.scrim{--calcite-scrim-background: var(--calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim));--calcite-scrim-background-color: var( --calcite-dialog-scrim-background-color, var(--calcite-color-transparent-scrim) );position:fixed;inset:0;display:flex;overflow-y:hidden}calcite-panel{--calcite-panel-content-space: var(--calcite-dialog-content-space, var(--calcite-internal-dialog-content-padding));--calcite-panel-footer-space: var(--calcite-dialog-footer-space);--calcite-panel-border-color: var(--calcite-dialog-border-color);--calcite-panel-background-color: var(--calcite-dialog-background-color, var(--calcite-color-foreground-1))}::slotted(*){--calcite-panel-background-color: initial}.dialog{pointer-events:none;position:relative;z-index:var(--calcite-z-index-modal);margin:1.5rem;box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;border-radius:.25rem;opacity:0;--tw-shadow: 0 2px 12px -4px rgba(0, 0, 0, .2), 0 2px 4px -2px rgba(0, 0, 0, .16);--tw-shadow-colored: 0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);-webkit-overflow-scrolling:touch;visibility:hidden;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88);min-inline-size:var(--calcite-dialog-min-size-x, var(--calcite-internal-dialog-min-size-x));max-inline-size:var(--calcite-dialog-max-size-x, 100%);min-block-size:var(--calcite-dialog-min-size-y, var(--calcite-internal-dialog-min-size-y));max-block-size:var(--calcite-dialog-max-size-y, 100%);--calcite-internal-dialog-hidden-position: calc( var(--calcite-dialog-offset-y, 0px) + var(--calcite-internal-dialog-animation-offset) );--calcite-internal-dialog-shown-position: var(--calcite-dialog-offset-y, 0);inset-inline-start:var(--calcite-dialog-offset-x, 0);inset-block-start:var(--calcite-internal-dialog-hidden-position)}.dialog--opening-active{inset-block-start:var(--calcite-internal-dialog-shown-position)}:host([menu-open]) .dialog{transition:visibility 0ms linear var(--calcite-internal-animation-timing-slow),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88)}.panel{border-radius:.25rem}.container--open{opacity:1;visibility:visible;transition-delay:0ms}.container--open .dialog{pointer-events:auto;visibility:visible;opacity:1;transition:inset-block var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88);transition-delay:0ms}.width-s{inline-size:auto;inline-size:var(--calcite-dialog-size-x, 32rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 35rem){.width-s{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-s.dialog--opening-active{inset-block-start:0}}.width-m{inline-size:var(--calcite-dialog-size-x, 48rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 51rem){.width-m{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-m.dialog--opening-active{inset-block-start:0}}.width-l{inline-size:var(--calcite-dialog-size-x, 94rem);block-size:var(--calcite-dialog-size-y, auto)}@media screen and (max-width: 97rem){.width-l{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;inset-inline-start:0;inset-block-start:var(--calcite-internal-dialog-animation-offset)}.width-l.dialog--opening-active{inset-block-start:0}}:host([placement=cover]) .dialog{margin:0;block-size:100%;max-block-size:100%;inline-size:100%;max-inline-size:100%;border-radius:0}:host([placement=cover]) .panel{border-radius:0}:host([kind]) .panel{border-start-start-radius:0px;border-start-end-radius:0px}:host([kind=brand]) .dialog{border-color:var(--calcite-color-brand)}:host([kind=danger]) .dialog{border-color:var(--calcite-color-status-danger)}:host([kind=info]) .dialog{border-color:var(--calcite-color-status-info)}:host([kind=success]) .dialog{border-color:var(--calcite-color-status-success)}:host([kind=warning]) .dialog{border-color:var(--calcite-color-status-warning)}:host([kind=brand][open]) .dialog,:host([kind=danger][open]) .dialog,:host([kind=info][open]) .dialog,:host([kind=success][open]) .dialog,:host([kind=warning][open]) .dialog{border-width:0px;border-block-start-width:4px;border-style:solid}.container--embedded{position:absolute;pointer-events:auto}.container--embedded calcite-scrim{position:absolute}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,Tn=class Tn extends ht{constructor(){super(...arguments),this.dragPosition={...ro},this.focusTrap=Lo({triggerProp:"open",focusTrapOptions:{clickOutsideDeactivates:()=>!this.modal||this.embedded,escapeDeactivates:n=>(!n.defaultPrevented&&!this.escapeDisabled&&(this.open=!1,n.preventDefault()),!1)}})(this),this.usePreventDocumentScroll=_l()(this),this.ignoreOpenChange=!1,this.mutationObserver=Rt("mutation",()=>this.handleMutationObserver()),this._open=!1,this.openProp="opened",this.transitionProp="opacity",this.panelEl=bi(),this.resizePosition={...oo},this.messages=_t(),this.assistiveText=null,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasFooter=!0,this.opened=!1,this.closeDisabled=!1,this.dragEnabled=!1,this.embedded=!1,this.escapeDisabled=!1,this.loading=!1,this.menuOpen=!1,this.modal=!1,this.focusTrapDisabled=!1,this.outsideCloseDisabled=!1,this.overlayPositioning="absolute",this.placement="center",this.resizable=!1,this.scale="m",this.widthScale="m",this.calciteDialogBeforeClose=ye({cancelable:!1}),this.calciteDialogBeforeOpen=ye({cancelable:!1}),this.calciteDialogClose=ye({cancelable:!1}),this.calciteDialogOpen=ye({cancelable:!1}),this.calciteDialogScroll=ye({cancelable:!1})}get preventDocumentScroll(){return!this.embedded&&this.modal}get open(){return this._open}set open(n){const s=this._open;n!==s&&(this._open=n,this.toggleDialog(n))}async scrollContentTo(n){var s;await((s=this.panelEl.value)==null?void 0:s.scrollContentTo(n))}async setFocus(){var n;return await Bt(this),((n=this.panelEl.value)==null?void 0:n.setFocus())??yi(this.el)}async updateFocusTrapElements(n){this.focusTrap.setExtraContainers(n),this.focusTrap.updateContainerElements()}connectedCallback(){var n;super.connectedCallback(),(n=this.mutationObserver)==null||n.observe(this.el,{childList:!0,subtree:!0}),this.setupInteractions()}willUpdate(n){(n.has("open")&&(this.hasUpdated||this.open!==!1)||n.has("placement")&&(this.hasUpdated||this.placement!=="center")||n.has("resizable")&&(this.hasUpdated||this.resizable!==!1)||n.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1))&&this.setupInteractions(),(n.has("messages")||n.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||n.has("resizable")&&(this.hasUpdated||this.resizable!==!1))&&this.updateAssistiveText(),n.has("opened")&&(this.hasUpdated||this.opened!==!1)&&this.handleOpenedChange(this.opened)}disconnectedCallback(){var n;super.disconnectedCallback(),(n=this.mutationObserver)==null||n.disconnect(),this.embedded=!1,this.cleanupInteractions()}focusTrapDisabledOverride(){return!this.modal&&this.focusTrapDisabled}updateAssistiveText(){const{messages:n}=this;this.assistiveText=n&&(this.dragEnabled||this.resizable)?`${this.dragEnabled?n.dragEnabled:""} ${this.resizable?n.resizeEnabled:""}`:null}onBeforeOpen(){this.calciteDialogBeforeOpen.emit()}onOpen(){this.focusTrapDisabled&&this.setFocus(),this.focusTrap.activate(),this.calciteDialogOpen.emit()}onBeforeClose(){this.calciteDialogBeforeClose.emit()}onClose(){this.focusTrap.deactivate(),this.calciteDialogClose.emit()}toggleDialog(n){this.ignoreOpenChange||(n?this.openDialog():this.closeDialog())}handleOpenedChange(n){const{transitionEl:s}=this;s&&(s.classList.toggle(Ke.openingActive,n),ho(this))}async triggerInteractModifiers(){const{interaction:n}=this;n&&(await n.reflow({name:"drag"}),await n.reflow({name:"resize"}))}getTransitionElDOMRect(){return this.transitionEl.getBoundingClientRect()}handleKeyDown(n){const{key:s,shiftKey:l,defaultPrevented:f}=n,{dragEnabled:g,resizable:v,resizePosition:b,dragPosition:x,transitionEl:E}=this;if(!(f||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(s)))switch(s){case"ArrowUp":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().height-Ee,type:"blockSize"}),b.bottom-=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault()):g&&(x.y-=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault());break;case"ArrowDown":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().height+Ee,type:"blockSize"}),b.bottom+=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault()):g&&(x.y+=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault());break;case"ArrowLeft":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().width-Ee,type:"inlineSize"}),b.right-=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault()):g&&(x.x-=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault());break;case"ArrowRight":l&&v&&E?(this.updateSize({size:this.getTransitionElDOMRect().width+Ee,type:"inlineSize"}),b.right+=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault()):g&&(x.x+=Ee,this.updateTransform(),this.triggerInteractModifiers(),n.preventDefault());break}}updateTransform(){const{dragPosition:{x:n,y:s},resizePosition:l,transitionEl:f,dragEnabled:g,resizable:v}=this;if(!f)return;if(!g&&!v){f.style.transform=null;return}const{top:b,right:x,bottom:E,left:$}=this.getAdjustedResizePosition(l),O=Math.round(n+$+x),z=Math.round(s+b+E);f.style.transform=O||z?`translate(${O}px, ${z}px)`:null}updateSize({type:n,size:s}){const{transitionEl:l}=this;l&&(l.style[n]=s!==null?`${Math.round(s)}px`:null)}cleanupInteractions(){var n;(n=this.interaction)==null||n.unset(),this.updateSize({size:null,type:"inlineSize"}),this.updateSize({size:null,type:"blockSize"}),this.dragPosition={...ro},this.resizePosition={...oo},this.updateTransform()}async setupInteractions(){this.cleanupInteractions();const{el:n,transitionEl:s,resizable:l,dragEnabled:f,resizePosition:g,dragPosition:v}=this;if(!(!s||!this.open)){if((l||f)&&(this.interaction=cn(s,{context:n.ownerDocument})),l){await this.el.componentOnReady();const{minInlineSize:b,minBlockSize:x,maxInlineSize:E,maxBlockSize:$}=window.getComputedStyle(s);this.interaction.resizable({edges:{top:!0,right:!0,bottom:!0,left:!0},modifiers:[cn.modifiers.restrictSize({min:{width:tn(b),height:tn(x)},max:{width:tn(E)||window.innerWidth,height:tn($)||window.innerHeight}}),cn.modifiers.restrict({restriction:"parent"})],listeners:{move:({rect:O,deltaRect:z})=>{z&&(g.top+=z.top,g.right+=z.right,g.bottom+=z.bottom,g.left+=z.left),this.updateSize({size:O.width,type:"inlineSize"}),this.updateSize({size:O.height,type:"blockSize"}),this.updateTransform()}}})}f&&this.interaction.draggable({modifiers:[cn.modifiers.restrictRect({restriction:"parent"})],listeners:{move:({dx:b,dy:x})=>{v.x+=b,v.y+=x,this.updateTransform()}}})}}getAdjustedResizePosition({top:n,right:s,bottom:l,left:f}){const g=n/2,v=s/2,b=l/2,x=f/2;switch(this.placement){case"top":return{top:n,right:v,bottom:0,left:x};case"top-start":return{top:n,right:0,bottom:0,left:f};case"top-end":return{top:n,right:s,bottom:0,left:0};case"bottom":return{top:0,right:v,bottom:l,left:x};case"bottom-start":return{top:0,right:0,bottom:l,left:f};case"bottom-end":return{top:0,right:s,bottom:l,left:0};case"cover":case"center":default:return{top:g,right:v,bottom:b,left:x}}}setTransitionEl(n){n&&(this.transitionEl=n,this.setupInteractions())}handleInternalPanelScroll(n){n.target===this.panelEl.value&&(n.stopPropagation(),this.calciteDialogScroll.emit())}handleInternalPanelCloseClick(n){n.target===this.panelEl.value&&(n.stopPropagation(),this.open=!1)}handlePanelKeyDown(n){this.escapeDisabled&&n.key==="Escape"&&n.preventDefault()}async openDialog(){await this.componentOnReady(),this.opened=!0}handleOutsideClose(){this.outsideCloseDisabled||(this.open=!1)}async closeDialog(){if(this.beforeClose)try{await this.beforeClose()}catch{requestAnimationFrame(()=>{this.ignoreOpenChange=!0,this.open=!0,this.ignoreOpenChange=!1});return}this.opened=!1}handleMutationObserver(){this.focusTrap.updateContainerElements()}render(){const{assistiveText:n,description:s,heading:l,opened:f}=this;return G`<div class=${Y({[Ke.container]:!0,[Ke.containerOpen]:f,[Ke.containerEmbedded]:this.embedded})}>${this.modal?G`<calcite-scrim class=${Y(Ke.scrim)} @click=${this.handleOutsideClose}></calcite-scrim>`:null}<div .ariaDescription=${s} .ariaLabel=${l} .ariaModal=${this.modal} class=${Y({[Ke.dialog]:!0,[Rl("width",this.width,this.widthScale)]:!!(this.width||this.widthScale)})} @keydown=${this.handleKeyDown} role=dialog ${xe(this.setTransitionEl)}>${n?he("assistive-text",G`<div aria-live=polite class=${Y(Ke.assistiveText)}>${n}</div>`):null}<slot name=${me.customContent}><slot name=${me.content}><calcite-panel .beforeClose=${this.beforeClose} class=${Y(Ke.panel)} .closable=${!this.closeDisabled} .closed=${!f} .description=${s} .heading=${l} .headingLevel=${this.headingLevel} .loading=${this.loading} .menuOpen=${this.menuOpen} .messageOverrides=${this.messageOverrides} @keydown=${this.handlePanelKeyDown} @calcitePanelClose=${this.handleInternalPanelCloseClick} @calcitePanelScroll=${this.handleInternalPanelScroll} .overlayPositioning=${this.overlayPositioning} .scale=${this.scale} ${xe(this.panelEl)}><slot name=${me.actionBar} slot=${se.actionBar}></slot><slot name=${me.alerts} slot=${se.alerts}></slot><slot name=${me.headerActionsStart} slot=${se.headerActionsStart}></slot><slot name=${me.headerActionsEnd} slot=${se.headerActionsEnd}></slot><slot name=${me.headerContent} slot=${se.headerContent}></slot><slot name=${me.headerMenuActions} slot=${se.headerMenuActions}></slot><slot name=${me.fab} slot=${se.fab}></slot><slot name=${me.contentTop} slot=${se.contentTop}></slot><slot name=${me.contentBottom} slot=${se.contentBottom}></slot><slot name=${me.footerStart} slot=${se.footerStart}></slot><slot name=${me.footer} slot=${se.footer}></slot><slot name=${me.footerEnd} slot=${se.footerEnd}></slot><slot></slot></calcite-panel></slot></slot></div></div>`}};Tn.properties={assistiveText:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasFooter:[16,{},{state:!0}],opened:[16,{},{state:!0}],preventDocumentScroll:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closeDisabled:[7,{},{reflect:!0,type:Boolean}],description:1,dragEnabled:[7,{},{reflect:!0,type:Boolean}],embedded:[5,{},{type:Boolean}],escapeDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],kind:[3,{},{reflect:!0}],loading:[7,{},{reflect:!0,type:Boolean}],menuOpen:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],modal:[7,{},{reflect:!0,type:Boolean}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],open:[7,{},{reflect:!0,type:Boolean}],outsideCloseDisabled:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],resizable:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],widthScale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},Tn.styles=Bl;let gi=Tn;vt("calcite-dialog",gi);export{gi as Dialog};

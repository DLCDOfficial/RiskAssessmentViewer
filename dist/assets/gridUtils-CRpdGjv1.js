import{eL as w,dq as h,r as y,aw as M,S as x,co as G,hv as W}from"./index-CC4t8FUh.js";import{y as b,R as S}from"./geodesicUtils-CAuugM9k.js";const d=50,N=5;function q(e,o){return Math.log(e)/Math.log(o)}function U(e,o,a){const t=e===1?10:e;return t**(a?Math.round(q(d/o,t)):0)}function j(e){const{isGeographic:o,isWebMercator:a}=e;return!o&&!a}function Z(e,o,a){const t=typeof e=="number"?null:e,r=a??(t==null?void 0:t.spatialReference);if(r==null||!w(r)||j(r))return h(r);let s=(t==null?void 0:t.x)??e,c=(t==null?void 0:t.y)??o;const f=1/Math.sqrt(2);let i=s+f,l=c+f;const{isWebMercator:$,isGeographic:m}=r;let u=m&&!b(r)?y.WGS84:r;if($){let n=new M({x:s,y:c,spatialReference:r});x(n,!0,n),s=n.x,c=n.y,n=new M({x:i,y:l,spatialReference:r}),x(n,!0,n),i=n.x,l=n.y,u=y.WGS84}const R=new G({paths:[[[s,c],[i,l]]],spatialReference:u}),g=W(R,10);let p;try{[p]=S([g],"meters")}catch{return h(r)}return p}export{U as l,N as t,Z as u};
